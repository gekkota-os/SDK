<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Comptipix 2D/3D protocols</title>
	<style>/*!
Pure v0.5.0
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
https://github.com/yui/pure/blob/master/LICENSE.md
*/
.pure-menu ul{position:absolute;visibility:hidden}.pure-menu.pure-menu-open{visibility:visible;z-index:2;width:100%}.pure-menu ul{left:-10000px;list-style:none;margin:0;padding:0;top:-10000px;z-index:1}.pure-menu>ul{position:relative}.pure-menu-open>ul{left:0;top:0;visibility:visible}.pure-menu-open>ul:focus{outline:0}.pure-menu li{position:relative}.pure-menu a,.pure-menu .pure-menu-heading{display:block;color:inherit;line-height:1.5em;padding:5px 20px;text-decoration:none;white-space:nowrap}.pure-menu.pure-menu-horizontal>.pure-menu-heading{display:inline-block;*display:inline;zoom:1;margin:0;vertical-align:middle}.pure-menu.pure-menu-horizontal>ul{display:inline-block;*display:inline;zoom:1;vertical-align:middle}.pure-menu li a{padding:5px 20px}.pure-menu-can-have-children>.pure-menu-label:after{content:'\25B8';float:right;font-family:'Lucida Grande','Lucida Sans Unicode','DejaVu Sans',sans-serif;margin-right:-20px;margin-top:-1px}.pure-menu-can-have-children>.pure-menu-label{padding-right:30px}.pure-menu-separator{background-color:#dfdfdf;display:block;height:1px;font-size:0;margin:7px 2px;overflow:hidden}.pure-menu-hidden{display:none}.pure-menu-fixed{position:fixed;top:0;left:0;width:100%}.pure-menu-horizontal li{display:inline-block;*display:inline;zoom:1;vertical-align:middle}.pure-menu-horizontal li li{display:block}.pure-menu-horizontal>.pure-menu-children>.pure-menu-can-have-children>.pure-menu-label:after{content:"\25BE"}.pure-menu-horizontal>.pure-menu-children>.pure-menu-can-have-children>.pure-menu-label{padding-right:30px}.pure-menu-horizontal li.pure-menu-separator{height:50%;width:1px;margin:0 7px}.pure-menu-horizontal li li.pure-menu-separator{height:1px;width:auto;margin:7px 2px}.pure-menu.pure-menu-open,.pure-menu.pure-menu-horizontal li .pure-menu-children{background:#fff;border:1px solid #b7b7b7}.pure-menu.pure-menu-horizontal,.pure-menu.pure-menu-horizontal .pure-menu-heading{border:0}.pure-menu a{border:1px solid transparent;border-left:0;border-right:0}.pure-menu a,.pure-menu .pure-menu-can-have-children>li:after{color:#777}.pure-menu .pure-menu-can-have-children>li:hover:after{color:#fff}.pure-menu .pure-menu-open{background:#dedede}.pure-menu li a:hover,.pure-menu li a:focus{background:#eee}.pure-menu li.pure-menu-disabled a:hover,.pure-menu li.pure-menu-disabled a:focus{background:#fff;color:#bfbfbf}.pure-menu .pure-menu-disabled>a{background-image:none;border-color:transparent;cursor:default}.pure-menu .pure-menu-disabled>a,.pure-menu .pure-menu-can-have-children.pure-menu-disabled>a:after{color:#bfbfbf}.pure-menu .pure-menu-heading{color:#565d64;text-transform:uppercase;font-size:90%;margin-top:.5em;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#dfdfdf}.pure-menu .pure-menu-selected a{color:#000}.pure-menu.pure-menu-open.pure-menu-fixed{border:0;border-bottom:1px solid #b7b7b7}.pure-paginator{letter-spacing:-.31em;*letter-spacing:normal;*word-spacing:-.43em;text-rendering:optimizespeed;list-style:none;margin:0;padding:0}.opera-only :-o-prefocus,.pure-paginator{word-spacing:-.43em}.pure-paginator li{display:inline-block;*display:inline;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}.pure-paginator .pure-button{border-radius:0;padding:.8em 1.4em;vertical-align:top;height:1.1em}.pure-paginator .pure-button:focus,.pure-paginator .pure-button:active{outline-style:none}.pure-paginator .prev,.pure-paginator .next{color:#C0C1C3;text-shadow:0 -1px 0 rgba(0,0,0,.45)}.pure-paginator .prev{border-radius:2px 0 0 2px}.pure-paginator .next{border-radius:0 2px 2px 0}</style>
	<style>html {
	font-size: 90%;
	font-family: sans-serif;
}

h1 {
	text-align: center;
	padding: 5px;
	margin-top: 0;
	background-color: #0064ca;
	color: #FFF;
}

h2 {
	text-align: center;
	background-color: #0064ca;
	color: #FFF;
}

h3 {
	text-align: center;
	border-bottom: 1px solid #0064ca;
	color: #444;
}

h4 {
	text-decoration: underline #0064ca;
	color: #444;
}

table {
	margin: auto;
	border-collapse: collapse;
}

table, th, td {
	border: 1px solid black;
	font-size: 100%;
}

th {
/* 	background-color: #0064ca; */
	background-color: #0064ca;
	color: white;
}

th, td {
    padding-left: 10px;
    padding-right: 10px;
}

a.link {
	color: #ff0080;
	text-decoration: none;
}

a	{
	color: #ff0080;
	text-decoration: none;
}

a:hover {
	background-color: #ff0080;
	color: #FFF;
}

.table-odd {
	background-color: #f8f8e0;
}

.table-even {
	background-color:#ffffff;
}

.table-example {
	background-color:#E0E0E0;
}

.table-code {
	background-color: #FFFFC0;
	font-family: "monospace";
}

.table-selected {
	background-color: #83CAFF;
}

.table-click:hover {
		background-color: #7FBFFF;
		cursor: pointer;
}

.user_none {
	background-color: #C0C0C0;
}

.user_reader {
	background-color: #00A0FF;
	color: #000;
}

.user_user {
	background-color: #73DF06;
	color: #000;
}

.user_admin {
	background-color: #FFFF00;
	color: #000;
}

.user_super {
	background-color: #FF0000;
	color: #FFF;
}

.user_eurecam {
	background-color: #000000;
	color: #FFF;
}

.color_red {
	background-color: #FF0000;
	color: #FFF;
}

.color_orange {
	background-color: #FF950E;
	color: #000;
}

.color_green {
	background-color: #00FF00;
	color: #000;
}

.color_lemon {
	background-color: #AECF00;
	color: #000;
}

.color_blue {
	background-color: #0000FF;
	color: #FFF;
}

.color_light_blue {
	background-color: #83CAFF;
	color: #000;
}

.color_light_pink {
	background-color: #FF80C0;
	color: #000;
}

.color_yellow {
	background-color: #FFFF00;
	color: #000;
}

.color_white {
	background-color: #FFFFFF;
	color: #000;
}

.color_grey {
	background-color: #808080;
	color: #FFF;
}

.color_black {
	background-color: #000000;
	color: #FFF;
}

.color_ko {
	background-color: #FF0000;
	color: #FFF;
	font-weight: bold;
}

.color_warn {
	background-color: #FFC000;
}

.color_ok {
	background-color: #00C000;
	color: #FFF;
	font-weight: bold;
}

.center {
	text-align: center;
}

.no_center {
	text-align: left;
}

.msg_code {
	background-color: #FFFFC0;
	border: 1px solid black;
	font-family: "monospace";
	padding: 5px;
	margin: 5px;
}

.msg_tips {
	background-color: #40C0FF;
	border: 1px solid black;
	padding: 5px;
	margin: 5px;
}

.msg_notice {
	background-color: #77DD00;
	border: 1px solid black;
	padding: 5px;
	margin: 5px;
}

.msg_warn {
	background-color: #FFC000;
	border: 1px solid black;
	padding: 5px;
	margin: 5px;
}

img.small_image {
	height:	240px;
}

.pure-menu .sub-menu-selected,
.pure-menu .sub-menu-selected:hover
.pure-menu .sub-menu-selected:focus {
	background: #0064ca;
}
.pure-menu .sub-menu-selected a,
.pure-menu .sub-menu-selected a:focus {
	background: #CDDC39;
	color: #fff;
}
.pure-menu .sub-menu-unselected a,
.pure-menu .sub-menu-unselected a:hover,
.pure-menu .sub-menu-unselected a:focus {
	background: #0064ca;
	color: white;
}
</style>
	<style>/*! Hint.css - v1.3.4 - 2015-02-28
* http://kushagragour.in/lab/hint/
* Copyright (c) 2015 Kushagra Gour; Licensed MIT */.hint,[data-hint]{position:relative;display:inline-block;text-indent:0;-ms-word-break:break-all;word-break:normal;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto}.hint:after,.hint:before,[data-hint]:after,[data-hint]:before{position:absolute;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);transform:translate3d(0,0,0);visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;-webkit-transition:.3s ease;-moz-transition:.3s ease;transition:.3s ease;-webkit-transition-delay:0s;-moz-transition-delay:0s;transition-delay:0s}.hint--always:after,.hint--always:before,.hint:focus:after,.hint:focus:before,.hint:hover:after,.hint:hover:before,[data-hint]:focus:after,[data-hint]:focus:before,[data-hint]:hover:after,[data-hint]:hover:before{opacity:1;visibility:visible}.hint:hover:after,.hint:hover:before,[data-hint]:hover:after,[data-hint]:hover:before{-webkit-transition-delay:.1s;-moz-transition-delay:.1s;transition-delay:.1s}.hint:before,[data-hint]:before{content:'';position:absolute;background:0 0;border:6px solid transparent;z-index:1000001}.hint:after,[data-hint]:after{content:attr(data-hint);background:#383838;background:rgba(56,56,56,.9);color:#fff;font-weight:400;padding:8px 10px;font-size:12px;font-size:.75rem;line-height:12px;line-height:.75rem;white-space:nowrap;text-shadow:0 -1px 0 #000;box-shadow:4px 4px 8px rgba(0,0,0,.3)}.hint--big:after,.hint--med:after,.hint--small:after,.hint--xsmall:after{word-wrap:normal;white-space:initial}.hint--top:before{border-top-color:#383838;border-top-color:rgba(56,56,56,.9);margin-bottom:-12px}.hint--bottom:before{border-bottom-color:#383838;border-bottom-color:rgba(56,56,56,.9);margin-top:-12px}.hint--top:after{margin-left:-18px}.hint--top:after,.hint--top:before{bottom:100%;left:50%}.hint--top:focus:after,.hint--top:focus:before,.hint--top:hover:after,.hint--top:hover:before{-webkit-transform:translateY(-8px);-moz-transform:translateY(-8px);transform:translateY(-8px)}.hint--bottom:after{margin-left:-18px}.hint--bottom:after,.hint--bottom:before{top:100%;left:50%}.hint--bottom:focus:after,.hint--bottom:focus:before,.hint--bottom:hover:after,.hint--bottom:hover:before{-webkit-transform:translateY(8px);-moz-transform:translateY(8px);transform:translateY(8px)}.hint--right:before{border-right-color:#383838;border-right-color:rgba(56,56,56,.9);margin-left:-15px;margin-bottom:-6px}.hint--right:after{margin-bottom:-14px;margin-left:-3px!important}.hint--right:after,.hint--right:before{left:100%;bottom:50%}.hint--right:focus:after,.hint--right:focus:before,.hint--right:hover:after,.hint--right:hover:before{-webkit-transform:translateX(8px);-moz-transform:translateX(8px);transform:translateX(8px)}.hint--left:before{border-left-color:#383838;border-left-color:rgba(56,56,56,.9);margin-right:-12px;margin-bottom:-6px}.hint--left:after{margin-bottom:-14px}.hint--left:after,.hint--left:before{right:100%;bottom:50%}.hint--left:focus:after,.hint--left:focus:before,.hint--left:hover:after,.hint--left:hover:before{-webkit-transform:translateX(-8px);-moz-transform:translateX(-8px);transform:translateX(-8px)}.hint--error:after{background-color:#b34e4d;background-color:rgba(179,78,77,.92);text-shadow:0 -1px 0 #592726}.hint--error.hint--top:before{border-top-color:#b34e4d;border-top-color:rgba(179,78,77,.92)}.hint--error.hint--bottom:before{border-bottom-color:#b34e4d;border-bottom-color:rgba(179,78,77,.92)}.hint--error.hint--left:before{border-left-color:#b34e4d;border-left-color:rgba(179,78,77,.92)}.hint--error.hint--right:before{border-right-color:#b34e4d;border-right-color:rgba(179,78,77,.92)}.hint--warning:after{background-color:#c09854;background-color:rgba(193,152,84,.92);text-shadow:0 -1px 0 #6c5328}.hint--warning.hint--top:before{border-top-color:#c09854;border-top-color:rgba(193,152,84,.92)}.hint--warning.hint--bottom:before{border-bottom-color:#c09854;border-bottom-color:rgba(193,152,84,.92)}.hint--warning.hint--left:before{border-left-color:#c09854;border-left-color:rgba(193,152,84,.92)}.hint--warning.hint--right:before{border-right-color:#c09854;border-right-color:rgba(193,152,84,.92)}.hint--info:after{background-color:#3986ac;background-color:rgba(57,134,172,.92);text-shadow:0 -1px 0 #193b4d}.hint--info.hint--top:before{border-top-color:#3986ac;border-top-color:rgba(57,134,172,.92)}.hint--info.hint--bottom:before{border-bottom-color:#3986ac;border-bottom-color:rgba(57,134,172,.92)}.hint--info.hint--left:before{border-left-color:#3986ac;border-left-color:rgba(57,134,172,.92)}.hint--info.hint--right:before{border-right-color:#3986ac;border-right-color:rgba(57,134,172,.92)}.hint--success:after{background-color:#458746;background-color:rgba(69,135,70,.92);text-shadow:0 -1px 0 #1a321a}.hint--success.hint--top:before{border-top-color:#458746;border-top-color:rgba(69,135,70,.92)}.hint--success.hint--bottom:before{border-bottom-color:#458746;border-bottom-color:rgba(69,135,70,.92)}.hint--success.hint--left:before{border-left-color:#458746;border-left-color:rgba(69,135,70,.92)}.hint--success.hint--right:before{border-right-color:#458746;border-right-color:rgba(69,135,70,.92)}.hint--white:after{color:#383838;background-color:#fff;background-color:rgba(255,255,255,.92);text-shadow:none}.hint--white.hint--top:before{border-top-color:#fff;border-top-color:rgba(255,255,255,.92)}.hint--white.hint--bottom:before{border-bottom-color:#fff;border-bottom-color:rgba(255,255,255,.92)}.hint--white.hint--left:before{border-left-color:#fff;border-left-color:rgba(255,255,255,.92)}.hint--white.hint--right:before{border-right-color:#fff;border-right-color:rgba(255,255,255,.92)}.hint--always.hint--top:after,.hint--always.hint--top:before{-webkit-transform:translateY(-8px);-moz-transform:translateY(-8px);transform:translateY(-8px)}.hint--always.hint--bottom:after,.hint--always.hint--bottom:before{-webkit-transform:translateY(8px);-moz-transform:translateY(8px);transform:translateY(8px)}.hint--always.hint--left:after,.hint--always.hint--left:before{-webkit-transform:translateX(-8px);-moz-transform:translateX(-8px);transform:translateX(-8px)}.hint--always.hint--right:after,.hint--always.hint--right:before{-webkit-transform:translateX(8px);-moz-transform:translateX(8px);transform:translateX(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:after,.hint--no-animate:before{-webkit-transition-duration:0s;-moz-transition-duration:0s;transition-duration:0s}.hint--bounce:after,.hint--bounce:before{-webkit-transition:opacity .3s ease,visibility .3s ease,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s ease,visibility .3s ease,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s ease,visibility .3s ease,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--xsmall:after{margin-left:-18px;width:80px}.hint--small:after{margin-left:-75px;width:110px;width:6.875rem;text-align:center}@media (min-width:37.875em){.hint--small:after{width:150px;width:9.375rem}}@media (min-width:93.75em){.hint--small:after{width:200px;width:12.5rem}}.hint--med:after{width:300px;width:18.75rem;text-align:center}.hint--big:after{width:450px;width:28.125rem;text-align:center}
</style>
	<script>
		var g_api_doc=[
	{
		"title" : "Base parameters and state",
		"desc" : [
			"API commands for the base parameters and state"
		],
		"get_tkn" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[token]<\/i>"
			],
			"set" : "none",
			"short" : "Get a new API token",
			"desc" : [
				"Get a new API token for HTTP protocol. Login and password should be provided in POST data in this form: <br>user=XXXX&amp;pass=XXXX"
			]
		},
		"tkn" : {
			"cat" : "cmd",
			"cmd" : [
				"N"
			],
			"set" : "none",
			"short" : "Set API token",
			"desc" : [
				"Set API token to use for HTTP protocol. It must the first parameter in the request"
			]
		},
		"serial" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N"
			],
			"get" : "none",
			"short" : "Get the serial number of the sensor"
		},
		"type" : [
			{
				"flavour" : [
					{
						"max" : "1.1.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"T"
				],
				"get" : "reader",
				"short" : "Get the type of the sensor",
				"example" : [
					{
						"reply" : "CPX3",
						"desc" : "Reply for a Comptipix 2D sensor"
					},
					{
						"reply" : "SX3D",
						"desc" : "Reply for a Comptipix 3D sensor"
					}
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.1.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"T"
				],
				"get" : "none",
				"short" : "Get the type of the sensor",
				"example" : [
					{
						"reply" : "CPX3",
						"desc" : "Reply for a Comptipix 2D sensor"
					},
					{
						"reply" : "SX3D",
						"desc" : "Reply for a Comptipix 3D sensor"
					}
				]
			}
		],
		"version" : [
			{
				"flavour" : [
					{
						"max" : "1.1.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"T"
				],
				"get" : "reader",
				"short" : "Get the version of the sensor",
				"example" : [
					{
						"reply" : "1.4.1 (8936)"
					}
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.1.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"T"
				],
				"get" : "none",
				"short" : "Get the version of the sensor",
				"example" : [
					{
						"reply" : "1.4.1 (8936)"
					}
				]
			}
		],
		"version_extra" : {
			"flavour" : [
				{
					"max" : "1.3.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"J"
			],
			"get" : "reader",
			"short" : "Get the version of external libraries used",
			"desc" : [
				"Get the version of external libraries used (under LGPL or Apache licensing)"
			],
			"example" : [
				{
					"reply" : "{\"FreeRTOS\":\"8.2.3\",\"LwIP\":\"2.0.3\",\"FatFS\":\"0.11a\",\"Zlib\":\"1.2.11\",\"FastLZ\":\"trunk\"}"
				}
			]
		},
		"led" : [
			{
				"flavour" : [
					{
						"max" : "1.4.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N"
				],
				"reply" : [
					"B,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set led configuration",
				"desc" : [
					"Get or Set led configuration : <ol> <li> Mode + options : <ul> <li> Mode : <ul> <li>0x00 → normal mode, led is fixed and blinks (strong) according to events<\/li> <li>0x01 → discreet mode, led is fixed and blinks (moderate) according to events<\/li> <li>0x02 → steath mode, led blinks every 10s<\/li> <\/ul> <\/li> <li> Options : <ul> <li>0x04 → ignore sdcard state or events<\/li> <li>0x08 → ignore network state<\/li> <\/ul> <\/li> <\/ul> <\/li> <li>Power between 50 (min) and 255 (max)<\/li> <li>Led colour when device is ready<\/li> <li> Led colour when device is ready : <ul> <li>Colour value from RGB is R x 65536 + G x 256 + B<\/li> <li>255 = <span class=\"color_blue\">blue<\/span><\/li> <li>65280 = <span class=\"color_green\">green<\/span><\/li> <li>16711680 = <span class=\"color_red\">red<\/span><\/li> <\/ul> <\/li> <\/ol>"
				],
				"example" : [
					{
						"cmd" : "9,150,32895",
						"reply" : "9,150,32895",
						"desc" : "Set led in discreet mode ignoring network state with a <span style=\"background-color:#00C0FF;\">cyan color</span>"
					}
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.4.0",
						"max" : "1.6.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N"
				],
				"reply" : [
					"B,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set led configuration",
				"desc" : [
					"Get or Set led configuration : <ol> <li> Mode + options : <ul> <li> Mode : <ul> <li>0x00 → normal mode, led is fixed and blinks (strong) according to events<\/li> <li>0x01 → discreet mode, led is fixed and blinks (moderate) according to events<\/li> <li>0x02 → steath mode, led blinks every 10s<\/li> <\/ul> <\/li> <li> Options : <ul> <li>0x04 → ignore sdcard state or events<\/li> <li>0x08 → ignore network state<\/li> <li>0x10 → ignore counting events <b>(added in 1.4.0)<\/b><\/li> <\/ul> <\/li> <\/ul> <\/li> <li>Power between 50 (min) and 255 (max)<\/li> <li>Led colour when device is ready<\/li> <li> Led colour when device is ready : <ul> <li>Colour value from RGB is R x 65536 + G x 256 + B<\/li> <li>255 = <span class=\"color_blue\">blue<\/span><\/li> <li>65280 = <span class=\"color_green\">green<\/span><\/li> <li>16711680 = <span class=\"color_red\">red<\/span><\/li> <\/ul> <\/li> <\/ol>"
				],
				"example" : [
					{
						"cmd" : "9,150,32895",
						"reply" : "9,150,32895",
						"desc" : "Set led in discreet mode, ignoring network state, with a <span style=\"background-color:#00C0FF;\">cyan color</span>"
					}
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N"
				],
				"reply" : [
					"B,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set led configuration",
				"desc" : [
					"Get or Set led configuration : <ol> <li> Mode + options : <ul> <li> Mode : <ul> <li>0x00 → normal mode, led is fixed and blinks (strong) according to events<\/li> <li>0x01 → discreet mode, led is fixed and blinks (moderate) according to events<\/li> <li>0x02 → steath mode, led blinks every 10s<\/li> <\/ul> <\/li> <li> Options : <ul> <li>0x04 → ignore sdcard state or events<\/li> <li>0x08 → ignore network state<\/li> <li>0x10 → ignore counting events <b>(added in 1.4.0)<\/b><\/li> <li>0x20 → ignore sensor errors <b>(only for 3D sensor, added in 1.6.1)<\/b><\/li> <\/ul> <\/li> <\/ul> <\/li> <li>Power between 50 (min) and 255 (max)<\/li> <li> Led colour when device is ready : <ul> <li>Colour value from RGB is R x 65536 + G x 256 + B<\/li> <li>255 = <span class=\"color_blue\">blue<\/span><\/li> <li>65280 = <span class=\"color_green\">green<\/span><\/li> <li>16711680 = <span class=\"color_red\">red<\/span><\/li> <\/ul> <\/li> <\/ol>"
				],
				"example" : [
					{
						"cmd" : "9,150,32895",
						"reply" : "9,150,32895",
						"desc" : "Set led in discreet mode, ignoring network state, with a <span style=\"background-color:#00C0FF;\">cyan color</span>"
					}
				]
			}
		],
		"privacy" : [
			{
				"flavour" : [
					{
						"min" : "1.6.0",
						"max" : "1.6.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B"
				],
				"reply" : [
					"B"
				],
				"get" : "reader",
				"set" : "super",
				"short" : "Get or Set privacy configuration",
				"desc" : [
					"Get or Set the privacy configuration which controls the sensor image : <ul> <li> Options for API \/ real time sensor image : <ul> <li>0x00 → normal image<\/li> <li>0x01 → tiny image is forced<\/li> <li>0x02 → maximum compression is forced<\/li> <li>0x04 → a black image is returned<\/li> <\/ul> <\/li> <li> Options for sensor image written to SD card : <ul> <li>0x00 → normal image<\/li> <li>0x10 → tiny image is forced<\/li> <li>0x20 → maximum compression is forced<\/li> <li>0x40 → no image written to SD card<\/li> <\/ul> <\/li> <\/ul>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B"
				],
				"reply" : [
					"B"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set privacy configuration",
				"desc" : [
					"Get or Set the privacy configuration which controls the sensor image : <ul> <li> Options for API \/ real time sensor image (can be set by <span class=\"user_admin\">admin<\/span> user, can be unset by <span class=\"user_super\">super<\/span> user) : <ul> <li>0x00 → normal image<\/li> <li>0x01 → tiny image is forced<\/li> <li>0x02 → maximum compression is forced<\/li> <li>0x04 → a black image is returned<\/li> <\/ul> <\/li> <li> Options for sensor image written to SD card (can be changed by <span class=\"user_admin\">admin<\/span> user) : <ul> <li>0x00 → normal image<\/li> <li>0x10 → tiny image is forced<\/li> <li>0x20 → maximum compression is forced<\/li> <li>0x40 → no image written to SD card<\/li> <\/ul> <\/li> <li> Options for config file image written to SD card (can be changed by <span class=\"user_admin\">admin<\/span> user) <b>(added in 1.6.1)<\/b> : <ul> <li>0x00 → no change<\/li> <li>0x80 → remove all passwords from file<\/li> <\/ul> <\/li> <\/ul>"
				]
			}
		],
		"login_reader" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "admin",
			"set" : "admin",
			"short" : "Set the reader login",
			"desc" : [
				"Set the reader login, an empty login disable the account.You can not use a login already used or reserved (such as super for example).<br><b>(max 32 characters)<\/b>"
			]
		},
		"login_user" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "admin",
			"set" : "admin",
			"short" : "Set the user login",
			"desc" : [
				"Set the user login, an empty login disable the account<br><b>(max 32 characters)<\/b>"
			]
		},
		"login_admin" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "admin",
			"set" : "admin",
			"short" : "Set the admin login",
			"desc" : [
				"Set the admin login, an empty login disable the account<br><b>(max 32 characters)<\/b>"
			]
		},
		"pass_reader" : {
			"cat" : "config",
			"cmd" : [
				"T"
			],
			"reply" : [
				"T"
			],
			"set" : "admin",
			"short" : "Set the reader password",
			"desc" : [
				"Set the reader password, for security reason this value could only be set<br><b>(max 32 characters)<\/b>"
			]
		},
		"pass_user" : {
			"cat" : "config",
			"cmd" : [
				"T"
			],
			"reply" : [
				"T"
			],
			"set" : "admin",
			"short" : "Set the user password",
			"desc" : [
				"Set the user password, for security reason this value could only be set<br><b>(max 32 characters)<\/b>"
			]
		},
		"pass_admin" : {
			"cat" : "config",
			"cmd" : [
				"T"
			],
			"reply" : [
				"T"
			],
			"set" : "admin",
			"short" : "Set the admin password",
			"desc" : [
				"Set the admin password, for security reason this value could only be set<br><b>(max 32 characters)<\/b>"
			]
		},
		"user" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"short" : "Get the current user's login"
		},
		"user_state" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get the current authenticated users state",
			"desc" : [
				"Get the current authenticated users state : <ol> <li>Max number of authenticated user<\/li> <li>Nb of users currently authenticated by IP<\/li> <li>Nb of users currently authenticated by token<\/li> <li>Nb of current users with reader level<\/li> <li>Nb of current users with user level<\/li> <li>Nb of current users with admin level<\/li> <li>Nb of current users with super level<\/li> <\/ol>"
			]
		},
		"level" : {
			"flavour" : [
				{
					"min" : "1.4.1"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				"T"
			],
			"set" : "reader",
			"short" : "Change user level",
			"desc" : [
				"Allow to <b>lower<\/b> authentication level for remaining API commands"
			]
		},
		"restart" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Restart sensor"
		},
		"init" : [
			{
				"flavour" : [
					{
						"max" : "1.4.0"
					}
				],
				"cat" : "cmd",
				"cmd" : [
					""
				],
				"reply" : [
					"OK"
				],
				"set" : "super",
				"short" : "Init all parameters",
				"desc" : [
					"Init all parameters (except serial number)"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.4.0"
					}
				],
				"cat" : "cmd",
				"cmd" : [
					""
				],
				"reply" : [
					"OK"
				],
				"set" : "admin",
				"short" : "Init all parameters",
				"desc" : [
					"Init all parameters (except serial number)"
				]
			}
		],
		"state" : {
			"flavour" : [
				{
					"min" : "1.1.1"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[all state values]<\/i>"
			],
			"get" : "reader",
			"short" : "Print all current state information"
		},
		"default" : {
			"flavour" : [
				{
					"min" : "1.1.1"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[all default parameters]<\/i>"
			],
			"get" : "reader",
			"short" : "Print default configuration",
			"desc" : [
				"Print default configuration<br> (some parameters might be masked depending on user level)"
			]
		},
		"current" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[all current parameters]<\/i>"
			],
			"get" : "reader",
			"short" : "Print current configuration",
			"desc" : [
				"Print current configuration<br> (some parameters might be masked depending on user level)"
			]
		},
		"saved" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[all saved parameters]<\/i>"
			],
			"get" : "reader",
			"short" : "Print saved configuration",
			"desc" : [
				"Print saved configuration<br> (some parameters might be masked depending on user level)"
			]
		},
		"save" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Force save parameters"
		},
		"nosave" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Do not save parameters",
			"desc" : [
				"Do not save configuration parameters (this command must the last command of a request to work)"
			]
		},
		"leds" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Start leds check",
			"desc" : [
				"Start leds check, led will blink in <span class=\"color_blue\">blue<\/span> → <span class=\"color_white\">white<\/span> → <span class=\"color_red\">red<\/span>"
			]
		},
		"wizard" : {
			"flavour" : [
				{
					"min" : "1.0.2"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N"
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Set or get wizard state",
			"desc" : [
				"Set or get wizard state : <ul> <li>-1 → completed<\/li> <li>0 → not started<\/li> <li>other values are used according to progression<\/li> <\/ul>"
			]
		},
		"health" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get heath status of the hardware",
			"desc" : [
				"Get heath status of the hardware : <ol> <li>Main chip temperature (in °C)<\/li> <li>FPGA core voltage (in mV, nominal value is 1v (1000mv) +\/- 5%)<\/li> <li>FPGA aux voltage (in mV, nominal value is 1,8v (1800mv) +\/- 5%)<\/li> <li>FPGA ram voltage (in mV, nominal value is 1v (1000mv) +\/- 5%)<\/li> <li>Processor core voltage (in mV, nominal value is 1v (1000mv) +\/- 5%)<\/li> <li>Processor aux voltage (in mV, nominal value is 1,8v (1800mv) +\/- 5%)<\/li> <li>DDR voltage (in mV, nominal value is 1,5v (1500mv) +\/- 5%)<\/li> <\/ol> Please note that the temperature returned is an uncalibrated value and taken inside one of a component of device. Its value could be much higher than the average temperature of the device."
			]
		},
		"freq" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get main operating frequencies",
			"desc" : [
				"Get main operating frequencies : <ol> <li>Main clock frequency (in Hz)<\/li> <li>Processor frequency (in Hz)<\/li> <li>DDR frequency (in Hz)<\/li> <li>Main FPGA frequency (in Hz)<\/li> <\/ol>"
			]
		},
		"manager_pass" : {
			"flavour" : [
				{
					"min" : "1.6.2"
				}
			],
			"cat" : "command",
			"cmd" : [
				""
			],
			"reply" : [
				"T,T"
			],
			"get" : "reader",
			"short" : "Generate Comptipix manager access",
			"desc" : [
				"Generate Comptipix manager login and password for a public access : <ol> <li>Manager login<\/li> <li>Manager password<\/li> <\/ol> This public access is associated to this sensor and allows access to downloads (among other things)"
			]
		}
	},
	{
		"title" : "Sensor",
		"desc" : [
			"API commands for the imaging sensor"
		],
		"sensor_config" : [
			{
				"flavour" : [
					{
						"max" : "1.2.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"C,C"
				],
				"reply" : [
					"C,C"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Set sensor mode",
				"desc" : [
					"Set sensor mode : <ol> <li> HDR (High Dynamic Range) : <ul> <li><b>0<\/b> → no HDR<\/li> <li><b>1<\/b> → HDR low enabled<\/li> <li><b>2<\/b> → HDR strong enabled<\/li> <\/ul> <\/li> <li> Exposure : <ul> <li><b>0<\/b> → manual exposure<\/li> <li><b>1<\/b> → auto exposure<\/li> <li><b>2<\/b> → debug mode, no command is sent to sensor<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.2.0",
						"max" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"C,C",
					"C,C,C"
				],
				"reply" : [
					"C,C,C"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Set sensor mode",
				"desc" : [
					"Set sensor mode : <ol> <li> HDR (High Dynamic Range) : <ul> <li><b>0<\/b> → no HDR<\/li> <li><b>1<\/b> → HDR low enabled<\/li> <li><b>2<\/b> → HDR strong enabled<\/li> <\/ul> <\/li> <li> Exposure : <ul> <li><b>0<\/b> → manual exposure<\/li> <li><b>1<\/b> → auto exposure<\/li> <li><b>2<\/b> → debug mode, no command is sent to sensor<\/li> <\/ul> <\/li> <li> Sensor image frequency <b>(added in 1.2.0)<\/b> : <ul> <li><b>1667<\/b> → 16,67Hz (for 50Hz power frequency, default value for 2D sensor)<\/li> <li><b>1774<\/b> → 17,14Hz (for 60Hz power frequency, default value for 2D sensor)<\/li> <li><b>2000<\/b> → 20Hz (for 50\/60Hz power frequency) <span class=\"color_red\">Not recommended<\/span><\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"C,C",
					"C,C,C"
				],
				"reply" : [
					"C,C,C"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Set sensor mode",
				"desc" : [
					"Set sensor mode : <ol> <li> HDR (High Dynamic Range) : <ul> <li><b>0<\/b> → no HDR<\/li> <li><b>1<\/b> → HDR low enabled<\/li> <li><b>2<\/b> → HDR strong enabled<\/li> <\/ul> <\/li> <li> Exposure : <ul> <li><b>0<\/b> → manual exposure<\/li> <li><b>1<\/b> → auto exposure<\/li> <li><b>2<\/b> → debug mode, no command is sent to sensor<\/li> <\/ul> <\/li> <li> Sensor image frequency : <b>(added in 1.2.0)<\/b> <ul> <li><b>1000<\/b> → 10Hz (for 50\/60Hz power frequency, default value for 3D sensor) <b>(added in 1.3.0)<\/b><\/li> <li><b>1200<\/b> → 12Hz (for 60Hz power frequency) <b>(added in 1.3.0)<\/b><\/li> <li><b>1250<\/b> → 12.5Hz (for 50Hz power frequency) <b>(added in 1.3.0)<\/b><\/li> <li><b>1667<\/b> → 16,67Hz (for 50Hz power frequency, default value for 2D sensor)<\/li> <li><b>1774<\/b> → 17,14Hz (for 60Hz power frequency, default value for 2D sensor)<\/li> <li><b>2000<\/b> → 20Hz (for 50\/60Hz power frequency) <span class=\"color_red\">Not recommended<\/span><\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"sensor_auto" : {
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N"
			],
			"reply" : [
				"N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Set auto exposure parameters",
			"desc" : [
				"Set auto exposure parameters : <ol> <li>Correction period (in number of frame)<\/li> <li>Target value (from 0 to 255)<\/li> <li>Correction gain<\/li> <li>Correction saturation<\/li> <\/ol>"
			]
		},
		"sensor_manu" : {
			"cat" : "config",
			"cmd" : [
				"",
				"N"
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Set manual exposure parameter",
			"desc" : [
				"Set manual exposure parameter <ul> <li>0 → min exposure (light)<\/li> <li>128 → average exposure<\/li> <li>255 → max exposure (dark)<\/li> <\/ul>"
			]
		},
		"sensor_gamma" : {
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N"
			],
			"reply" : [
				"N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Set gamma correction",
			"desc" : [
				"Set gamma correction : <ol> <li>Gamma value \/ 100 (80 → 0,8 gamma)<\/li> <li>Image gain \/ 100 (140 → 1,4 gain)<\/li> <li>Smooth staturation level from 0 to 255<\/li> <\/ol>"
			]
		},
		"sensor_info" : [
			{
				"flavour" : [
					{
						"type" : "CPX3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get sensor information",
				"desc" : [
					"Get sensor information : <ol> <li>Image width in pixel (752)<\/li> <li>Image height in pixel (480)<\/li> <li>Frame number<\/li> <li>Pixel count by frame (360960)<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get sensor information",
				"desc" : [
					"Get sensor information : <ol> <li> For left sensor : <ul> <li>Image width in pixel (752)<\/li> <li>Image height in pixel (480)<\/li> <li>Frame counter<\/li> <li>Pixel count by frame (360960)<\/li> <\/ul> <\/li> <li> For right sensor : <ul> <li>Image width in pixel (752)<\/li> <li>Image height in pixel (480)<\/li> <li>Frame counter<\/li> <li>Pixel count by frame (360960)<\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"sensor_state" : [
			{
				"flavour" : [
					{
						"type" : "CPX3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get sensor state",
				"desc" : [
					"Get sensor state : <ol> <li>Min pixel value on image<\/li> <li>Average pixel value on image<\/li> <li>Max pixel value on image<\/li> <li>Current exposure<\/li> <li>Current temperature (in °C)<\/li> <\/ol> Please note that the temperature returned is an uncalibrated value and taken inside one of a component of device. Its value could be much higher than the average temperature of the device."
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"N,N,N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get sensor state",
				"desc" : [
					"Get sensor state : <ol> <li> For left sensor : <ul> <li>Min pixel value<\/li> <li>Average pixel value<\/li> <li>Max pixel value<\/li> <li>Current exposure<\/li> <li>Current temperature (in °C)<\/li> <\/ul> <\/li> <li> For right sensor : <ul> <li>Min pixel value<\/li> <li>Average pixel value<\/li> <li>Max pixel value<\/li> <li>Current exposure<\/li> <li>Current temperature (in °C)<\/li> <\/ul> <\/li> <\/ol> Please note that the temperature returned is an uncalibrated value and taken inside one of a component of device. Its value could be much higher than the average temperature of the device."
				]
			}
		],
		"sensor_optical" : {
			"flavour" : [
				{
					"type" : "CPX3"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set optical transformation",
			"desc" : [
				"Get or Set optical transformation parameters : <ol> <li>A coeficient in 1\/8192 unit<\/li> <li>B coeficient in 1\/8192 unit<\/li> <li>C coeficient in 1\/8192 unit<\/li> <li>X optical center in 1\/1024th pixel<\/li> <li>Y optical center in 1\/1024th pixel<\/li> <\/ol>"
			]
		},
		"sensor_perspective" : {
			"flavour" : [
				{
					"type" : "CPX3"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N"
			],
			"reply" : [
				"N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set perspective transformation",
			"desc" : [
				"Get or Set perspective transformation parameters : <ol> <li>Tilt angle for horizontal in 1\/256th degree<\/li> <li>Tilt angle for vertical in 1\/256th degree<\/li> <\/ol>"
			]
		},
		"sensor_transf" : [
			{
				"flavour" : [
					{
						"type" : "CPX3",
						"min" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N,N,N,N"
				],
				"reply" : [
					"N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set simple transformation",
				"desc" : [
					"Get or Set simple transformation parameters : <ol> <li>X offset in 1\/256th pixel<\/li> <li>Y offset in 1\/256th pixel<\/li> <li>Rotation in 1\/256 degree<\/li> <li> Scale factor + 1 in 1\/4096 : <ul> <li>-2048 → zoom image by 2<\/li> <li>0 → no scale factor<\/li> <li>4096 → reduce image by 2<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "CPX3",
						"max" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N,N,N,N"
				],
				"reply" : [
					"N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set simple transformation",
				"desc" : [
					"Get or Set simple transformation parameters : <ol> <li>X offset in 1\/256th pixel<\/li> <li>Y offset in 1\/256th pixel<\/li> <li>Rotation in 1\/256 degree<\/li> <li> Scale factor + 1 in 1\/256 : <ul> <li>-2048 → zoom image by 2<\/li> <li>0 → no scale factor<\/li> <li>4096 → reduce image by 2<\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"sensor_setup" : {
			"cat" : "config",
			"cmd" : [
				"",
				"T,N"
			],
			"reply" : [
				"T,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set setup hint",
			"desc" : [
				"Get or Set setup hint parameters : <ol> <li>Lens name, see lens_database parameter<\/li> <li>Mounting height in centimeters<\/li> <\/ol> The parameters are used by the interface to help configure the sensor."
			]
		},
		"sensor_database" : {
			"flavour" : [
				{
					"type" : "CPX3",
					"max" : "1.4.3"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"J"
			],
			"get" : "reader",
			"short" : "Get optical parameters for lenses",
			"desc" : [
				"Get optical parameters for lenses. Result is in JSON format and associates : <ul> <li>Lens name<\/li> <li>Factor value for block calculation<\/li> <li>Colour code associated with lens<\/li> <li>Optional optical correction parameters<\/li> <\/ul> These parameters are used by the setup wizard to configure block value according to mounting height. These parameters could also be used to setup transform_optical."
			]
		},
		"sensor_camera_r" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set camera model for right sensor",
			"desc" : [
				"Get or Set camera model parameters <b>(for right sensor)<\/b> : <ol> <li>Input focal (in pixel x 16)<\/li> <li>Input principal point X coordinate (in 1\/4096th pixel)<\/li> <li>Input principal point Y coordinate (in 1\/4096th pixel)<\/li> <li>Output focal (in pixel x 16)<\/li> <li>Output principal point X coordinate (in 1\/4096th pixel)<\/li> <li>Output principal point Y coordinate (in 1\/4096th pixel)<\/li> <\/ol> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_camera_l" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set camera model for left sensor",
			"desc" : [
				"Get or Set camera model parameters <b>(for left sensor)<\/b> : <ol> <li>Input focal (in pixel x 16)<\/li> <li>Input principal point X coordinate (in 1\/4096th pixel)<\/li> <li>Input principal point Y coordinate (in 1\/4096th pixel)<\/li> <li>Output focal (in pixel x 16)<\/li> <li>Output principal point X coordinate (in 1\/4096th pixel)<\/li> <li>Output principal point Y coordinate (in 1\/4096th pixel)<\/li> <\/ol> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_camera_adj" : [
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.6.4"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N"
				],
				"reply" : [
					"N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set sensors alignment",
				"desc" : [
					"Get or Set sensors alignment to fine tune factory calibration"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.6.4"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N,N,N,N,N"
				],
				"reply" : [
					"N,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set sensors alignment",
				"desc" : [
					"Get or Set sensors alignment to fine tune factory calibration : <ol> <li>X alignment (in 1\/4096th pixel)<\/li> <li>Y alignment (in 1\/4096th pixel)<\/li> <li>X rotation (in 1\/16384th degree)<\/li> <li>Y rotation (in 1\/16384th degree)<\/li> <li>Z rotation (in 1\/16384th degree)<\/li> <\/ol>"
				]
			}
		],
		"sensor_dist_r" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set distortion model for right sensor",
			"desc" : [
				"Get or Set distortion model parameters <b>(for right sensor)<\/b> : <ol> <li>K1 (in 1\/divider unit)<\/li> <li>K2 (in 1\/divider unit)<\/li> <li>K3 (in 1\/divider unit)<\/li> <li>K4 (in 1\/divider unit)<\/li> <li>K5 (in 1\/divider unit)<\/li> <li>K6 (in 1\/divider unit)<\/li> <li>Unit divider (this parameter does not exist in early version of the firmware, divider was 8192)<\/li> <\/ol> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_dist_l" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set distortion model for left sensor",
			"desc" : [
				"Get or Set distortion model parameters <b>(for left sensor)<\/b> : <ol> <li>K1 (in 1\/divider unit)<\/li> <li>K2 (in 1\/divider unit)<\/li> <li>K3 (in 1\/divider unit)<\/li> <li>K4 (in 1\/divider unit)<\/li> <li>K5 (in 1\/divider unit)<\/li> <li>K6 (in 1\/divider unit)<\/li> <li>Unit divider (this parameter does not exist in early version of the firmware, divider was 8192)<\/li> <\/ol> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_rect_r" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set rectification matrix for right sensor",
			"desc" : [
				"Get or Set rectification matrix <b>(for right sensor)<\/b> : <ol> <li>Rect(1,1) (in 1\/65536th unit)<\/li> <li>Rect(1,2) (in 1\/65536th unit)<\/li> <li>Rect(1,3) (in 1\/65536th unit)<\/li> <li>Rect(2,1) (in 1\/65536th unit)<\/li> <li>Rect(2,2) (in 1\/65536th unit)<\/li> <li>Rect(2,3) (in 1\/65536th unit)<\/li> <li>Rect(3,1) (in 1\/65536th unit)<\/li> <li>Rect(3,2) (in 1\/65536th unit)<\/li> <li>Rect(3,3) (in 1\/65536th unit)<\/li> <\/ol> <p>Early firwmare versions use 1\/32878th instead of 1\/65536th<\/p> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_rect_l" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set rectification matrix for left sensor",
			"desc" : [
				"Get or Set rectification matrix <b>(for left sensor)<\/b> : <ol> <li>Rect(1,1) (in 1\/65536th unit)<\/li> <li>Rect(1,2) (in 1\/65536th unit)<\/li> <li>Rect(1,3) (in 1\/65536th unit)<\/li> <li>Rect(2,1) (in 1\/65536th unit)<\/li> <li>Rect(2,2) (in 1\/65536th unit)<\/li> <li>Rect(2,3) (in 1\/65536th unit)<\/li> <li>Rect(3,1) (in 1\/65536th unit)<\/li> <li>Rect(3,2) (in 1\/65536th unit)<\/li> <li>Rect(3,3) (in 1\/65536th unit)<\/li> <\/ol> <p>Early firwmare versions use 1\/32878th instead of 1\/65536th<\/p> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_calib" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "super",
			"short" : "Get or Set calibration parameters",
			"desc" : [
				"Get or Set sensor calibration parameters : <ol> <li>Border extension of the sensor image<\/li> <li>K distance factor<\/li> <li>Projection ratio (which is sensor focal in pixel)<\/li> <li>Principal point of left sensor X coordinate (in pixel)<\/li> <li>Principal point of left sensor Y coordinate (in pixel)<\/li> <\/ol> <p class=\"center color_ko\">These parameters are factory calibrated and should not be changed !<\/p>"
			]
		},
		"sensor_fine" : [
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.6.4"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set auto calibration configuration",
				"desc" : [
					"Get or Set stereo auto fine calibration configuration : <ol> <li> Fine calibration configuration : <ul> <li>0x001 : auto exposure offset<\/li> <li>0x002 : auto exposure bias<\/li> <li>0x004 : auto gamma correction<\/li> <li>0x010 : auto transformation fine Y<\/li> <li>0x040 : auto transformation fine scale <b>(removed in 1.6.4)<\/b><\/li> <li>0x100 : auto sensor synchronization<\/li> <li>0x200 : fast synchronization<\/li> <li>0x400 : slow synchronization<\/li> <li>0x800 : save synchronization result<\/li> <\/ul> <\/li> <li>Exposure offset<\/li> <li>Exposure bias<\/li> <li>Gamma fine correction<\/li> <li>Transformation fine Y offset in 1\/256th pixel<\/li> <li><span class=\"color_grey\">unused<\/span> <b>(removed in 1.6.4)<\/b><\/li> <li>Transformation fine scale in 1\/4096th <b>(removed in 1.6.4)<\/b><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.6.4"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set auto calibration configuration",
				"desc" : [
					"Get or Set stereo auto fine calibration configuration : <ol> <li> Fine calibration configuration : <ul> <li>0x001 : auto exposure offset<\/li> <li>0x002 : auto exposure bias<\/li> <li>0x004 : auto gamma correction<\/li> <li>0x010 : auto transformation fine Y<\/li> <li>0x100 : auto sensor synchronization<\/li> <li>0x200 : fast synchronization<\/li> <li>0x400 : slow synchronization<\/li> <li>0x800 : save synchronization result<\/li> <\/ul> <\/li> <li>Exposure offset<\/li> <li>Exposure bias<\/li> <li>Gamma fine correction<\/li> <li>Transformation fine Y offset in 1\/256th pixel<\/li> <\/ol>"
				]
			}
		],
		"sensor_sync" : [
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.6.4"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"B,N,N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get current fine calibration state",
				"desc" : [
					"Get current fine calibration state : <ol> <li> Sensor error : <ul> <li>0x1 → sync delay error<\/li> <li>0x2 → dark exposure error<\/li> <li>0x4 → exposure bias error<\/li> <li>0x8 → initialization in progress<\/li> <\/ul> <\/li> <li>LVDS error counter, should always be 0<\/li> <li>Stereo quality (0 = min, 1000 = max)<\/li> <li>Sensor sync delay (in µs)<\/li> <li>Exposure offset<\/li> <li>Exposure biais<\/li> <li>Gamma fine correction<\/li> <li>Transformation fine Y offset<\/li> <li><span class=\"color_grey\">unused<\/span> <b>(removed in 1.6.4)<\/b><\/li> <li>Transformation fine scale <b>(removed in 1.6.4)<\/b><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.6.4"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"B,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get current fine calibration state",
				"desc" : [
					"Get current fine calibration state : <ol> <li> Sensor error : <ul> <li>0x1 → sync delay error<\/li> <li>0x2 → dark exposure error<\/li> <li>0x4 → exposure bias error<\/li> <li>0x8 → initialization in progress<\/li> <\/ul> <\/li> <li>LVDS error counter, should always be 0<\/li> <li>Stereo quality (0 = min, 1000 = max)<\/li> <li>Sensor sync delay (in µs)<\/li> <li>Exposure offset<\/li> <li>Exposure biais<\/li> <li>Gamma fine correction<\/li> <li>Transformation fine Y offset<\/li> <\/ol>"
				]
			}
		],
		"sensor_filter" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N,N,N"
			],
			"reply" : [
				"N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set stereo filter configuration",
			"desc" : [
				"Get or Set stereo filter configuration : <ol> <li>Average threshold (same as in sensor_stereo)<\/li> <li>Stereo grad threshold (same as in sensor_stereo)<\/li> <li>Diff box filter size<\/li> <li>Diff detection threshold<\/li> <li>Noise box filter size<\/li> <li>Noise detection threshold<\/li> <\/ol>"
			]
		},
		"sensor_disp" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"B,N,N,N,N,N,N,N"
			],
			"reply" : [
				"B,N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set stereo disparity map configuration",
			"desc" : [
				"Get or Set stereo disparity map configuration : <ol> <li> Options : <ul> <li>0x1 → force low resolution stereo depth map<\/li> <li>0x2 → force high resolution stereo depth map (0x1 option wins over 0x2)<\/li> <\/ul> <\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li>Stereo left – right threshold<\/li> <li>Stereo disparity k factor<\/li> <li>Stereo census k factor<\/li> <li>Stereo min distance (in centimeters)<\/li> <li>Stereo max distance (in centimeters)<\/li> <\/ol>"
			]
		},
		"sensor_range" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get stereo disparity map status",
			"desc" : [
				"Get stereo disparity map status : <ol> <li>Min distance with margin (in centimeters)<\/li> <li>Max distance with margin (in centimeters)<\/li> <li>Distance scale<\/li> <li>Min disparity (in pixel)<\/li> <li>Max disparity (in pixel)<\/li> <li> Half resolution disparity map : <ul> <li>0 → false<\/li> <li>1 → true<\/li> <\/ul> <\/li> <\/ol>"
			]
		}
	},
	{
		"title" : "Network",
		"desc" : [
			"API commands for network commands"
		],
		"network_config" : [
			{
				"flavour" : [
					{
						"max" : "1.2.3"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"I,I,I,C"
				],
				"reply" : [
					"I,I,I,C"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set network configuration",
				"desc" : [
					"Get or set network configuration : <ol> <li>IP address<\/li> <li>Mask address<\/li> <li>Gateway<\/li> <li> DHCP : <ul> <li>0 → no DHCP<\/li> <li>1 → DHCP<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.2.3"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"I,I,I,C",
					"I,I,I,C,I,I"
				],
				"reply" : [
					"I,I,I,C,I,I"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set network configuration",
				"desc" : [
					"Get or set network configuration : <ol> <li>IP address<\/li> <li>Mask address<\/li> <li>Gateway<\/li> <li> DHCP : <ul> <li>0 → no DHCP<\/li> <li>1 → DHCP<\/li> <\/ul> <\/li> <li>DNS 1 (0.0.0.0 for default DNS) <b>(added in 1.2.3)<\/b><\/li> <li>DNS 2 (0.0.0.0 for no second DNS) <b>(added in 1.2.3)<\/b><\/li> <\/ol>"
				]
			}
		],
		"proxy_config" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,T,N"
			],
			"reply" : [
				"C,T,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or set HTTP proxy configuration",
			"desc" : [
				"Get or set HTTP proxy configuration : <ol> <li> Configuration : <ul> <li>0 → Proxy is disabled<\/li> <li>1 → Proxy is used for HTTP dispatching<\/li> <\/ul> <\/li> <li>Proxy server address <b>(max 64 characters)<\/b><\/li> <li>Proxy server port<\/li> <\/ol>"
			]
		},
		"proxy_login" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"short" : "Get or set HTTP proxy login",
			"desc" : [
				"Get or set HTTP proxy login. Leave empty if no login is required.<br><b>(max 32 characters)<\/b>"
			]
		},
		"proxy_pass" : {
			"flavour" : [
				{
					"min" : "1.6.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"short" : "Get or set HTTP proxy password",
			"desc" : [
				"Get or set HTTP proxy password. Leave empty if no password is required.<br><b>(max 32 characters)<\/b>"
			]
		},
		"network_state" : [
			{
				"flavour" : [
					{
						"max" : "1.2.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"I,I,I,C,M"
				],
				"get" : "reader",
				"short" : "Get network current state",
				"desc" : [
					"Get network current state : <ol> <li>IP address<\/li> <li>Mask address<\/li> <li>Gateway<\/li> <li> DHCP : <ul> <li>0 → no DHCP<\/li> <li>1 → DHCP<\/li> <\/ul> <\/li> <li>Mac address<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.2.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"I,I,I,C,M,I,I"
				],
				"get" : "reader",
				"short" : "Get network current state",
				"desc" : [
					"Get network current state : <ol> <li>IP address<\/li> <li>Mask address<\/li> <li>Gateway<\/li> <li> DHCP : <ul> <li>0 → no DHCP<\/li> <li>1 → DHCP<\/li> <\/ul> <\/li> <li>Mac address<\/li> <li>DNS 1 (0.0.0.0 for default DNS) <b>(added in 1.2.3)<\/b><\/li> <li>DNS 2 (0.0.0.0 for no second DNS) <b>(added in 1.2.3)<\/b><\/li> <\/ol>"
				]
			}
		],
		"network_dhcp" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"I"
			],
			"get" : "reader",
			"short" : "Get current DHCP server",
			"desc" : [
				"If DHCP is used, returns IP address of the DHCP server which provided the configuration"
			]
		},
		"ping_request" : {
			"flavour" : [
				{
					"min" : "1.3.0"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				"",
				"T,N"
			],
			"reply" : [
				"T,N"
			],
			"set" : "admin",
			"short" : "Do ping request",
			"desc" : [
				"Do a ping echo request to a specified address (1 request is performed) : <ol> <li>Address to query<\/li> <li>Ping sequence number (from 0 to 65535)<\/li> <\/ol>"
			]
		},
		"ping_reply" : {
			"flavour" : [
				{
					"min" : "1.3.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"I,N"
			],
			"get" : "reader",
			"short" : "Result of the last ping",
			"desc" : [
				"Result of the last ping echo received : <ol> <li>Source address of the echo<\/li> <li>Ping sequence number<\/li> <\/ol>"
			]
		}
	},
	{
		"title" : "Time & Date",
		"desc" : [
			"API commands for time and date"
		],
		"rtc_dst_id" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C"
			],
			"reply" : [
				"C"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set the timezone and daylight rule",
			"desc" : [
				"Get or Set the timezone and daylight rule. See list of <a href=\"#\" onclick=\"show_tab('section_dst');\">DST rules<\/a>"
			]
		},
		"rtc_sntp_config" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C,T"
			],
			"reply" : [
				"C,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set SNTP configuration",
			"desc" : [
				"Get or Set SNTP configuration : <ol> <li> SNTP mode : <ul> <li>0 → no SNTP<\/li> <li>1 → use SNTP internet pool<\/li> <li>2 → use Eurecam's SNTP<\/li> <li>3 → use custom address<\/li> <\/ul> <\/li> <li>SNTP custom address (max 64 characters)<\/li> <\/ol>"
			]
		},
		"rtc_local_time" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"D,H"
			],
			"get" : "reader",
			"set" : "user",
			"short" : "Get or Set local date and hour",
			"desc" : [
				"Get or Set local date and hour : <ol> <li>Date in ISO format (YYYY-MM-DD)<\/li> <li>Time in ISO format (HH:MM:SS)<\/li> <\/ol>"
			]
		},
		"rtc_utc_time" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"D,H"
			],
			"get" : "none",
			"set" : "user",
			"short" : "Get or Set UTC date and hour",
			"desc" : [
				"Get or Set UTC date and hour : <ol> <li>Date in ISO format (YYYY-MM-DD)<\/li> <li>Time in ISO format (HH:MM:SS)<\/li> <\/ol>"
			]
		},
		"rtc_dst_state" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,T,C,T,D H,D H,D H,D H"
			],
			"get" : "reader",
			"short" : "Get UTC – DST state",
			"desc" : [
				"Get UTC – DST state : <ol> <li>UTC-DST rule (see annexe)<\/li> <li>Base local time difference to UTC (in minute)<\/li> <li>Current (considering DST) local time difference to UTC (in minute)<\/li> <li>Name of the time zone<\/li> <li>DST rule (see annexe)<\/li> <li>Name of the DST rule<\/li> <li>Date + hour of the DST's summer in UTC<\/li> <li>Date + hour of the DST's summer in local time<\/li> <li>Date + hour of the DST's winter in UTC<\/li> <li>Date + hour of the DST's winter in local time<\/li> <\/ol>"
			]
		},
		"rtc_sntp_state" : {
			"cat" : "state",
			"cmd" : [
				"",
				"C,T"
			],
			"get" : "reader",
			"short" : "Get SNTP state",
			"desc" : [
				"Get SNTP state : <ol> <li> SNTP state : <ul> <li>0 → last synchro was OK<\/li> <li>1 → synchro in progress<\/li> <li>2 → failed, server error<\/li> <li>3 → failed, server answer error<\/li> <li>4 → failed, server busy<\/li> <li>5 → failed, too much request <\/li> <li>6 → no last synchro<\/li> <\/ul> <\/li> <li>SNTP drift in second<\/li> <li>Last SNTP synchro (date + hour)<\/li> <li>Next SNTP synchro (date + hour)<\/li> <\/ol>"
			]
		},
		"rtc_sntp_sync" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Request SNTP synchro",
			"desc" : [
				"Request SNTP synchro"
			]
		}
	},
	{
		"title" : "SD card",
		"desc" : [
			"API commands for the SD card"
		],
		"sdcard_config" : [
			{
				"flavour" : [
					{
						"type" : "CPX3",
						"max" : "1.3.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set sdcard configuration",
				"desc" : [
					"Get or set sdcard configuration : <ol> <li> Options (bit mask) : <ul> <li><b>0x1<\/b> → remove null data from counting file<\/li> <li><b>0x2<\/b> → save each counting line separatly instead of sum<\/li> <\/ul> <\/li> <li> Counting\/occupancy resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>60 (example) → one information per minute<\/li> <li>1800 (example) → one information every 30 minutes<\/li> <\/ul> <\/li> <li> Log (sensor, temperature, sdcard) resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>3600 (example) → one information every hour<\/li> <li>21600 (example) → one information every 6 hours<\/li> <\/ul> <\/li> <li> Extra (image, settings) write time in minute (one information per day) : <ul> <li><b>&lt;0<\/b> → no extra information is written<\/li> <li>480 (example) → write at 8:00<\/li> <li>720 (example) → write at 12:00<\/li> <\/ul> <\/li> <li> Counting\/occupancy\/log write period in second : <ul> <li>600 (example) → write information every 10 minutes<\/li> <li>3600 (example) → write information every hour<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "CPX3",
						"min" : "1.3.1",
						"max" : "1.4.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set sdcard configuration",
				"desc" : [
					"Get or set sdcard configuration : <ol> <li> Options (bit mask): <ul> <li><b>0x1<\/b> → remove null data from counting file<\/li> <li><b>0x2<\/b> → save each counting line separatly instead of sum<\/li> <li><b>0x4<\/b> → force ISO date in counting \/ occupancy files <b>(added in 1.3.1)<\/b><\/li> <\/ul> <\/li> <li> Counting\/occupancy resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>60 (example) → one information per minute<\/li> <li>1800 (example) → one information every 30 minutes<\/li> <\/ul> <\/li> <li> Log (sensor, temperature, sdcard) resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>3600 (example) → one information every hour<\/li> <li>21600 (example) → one information every 6 hours<\/li> <\/ul> <\/li> <li> Extra (image, settings) write time in minute (one information per day) : <ul> <li><b>&lt;0<\/b> → no extra information is written<\/li> <li>480 (example) → write at 8:00<\/li> <li>720 (example) → write at 12:00<\/li> <\/ul> <\/li> <li> Counting\/occupancy\/log write period in second : <ul> <li>600 (example) → write information every 10 minutes<\/li> <li>3600 (example) → write information every hour<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "CPX3",
						"min" : "1.4.0",
						"max" : "1.4.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set sdcard configuration",
				"desc" : [
					"Get or set sdcard configuration : <ol> <li> Options (bit mask) : <ul> <li><b>0x1<\/b> → remove null data from <b>all files<\/b><\/li> <li><b>0x2<\/b> → save each counting line separatly instead of sum<\/li> <li><b>0x4<\/b> → force ISO date in counting \/ occupancy files <b>(added in 1.3.1)<\/b><\/li> <\/ul> <\/li> <li> Counting\/occupancy resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>60 (example) → one information per minute<\/li> <li>1800 (example) → one information every 30 minutes<\/li> <\/ul> <\/li> <li> Log (sensor, temperature, sdcard) resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>3600 (example) → one information every hour<\/li> <li>21600 (example) → one information every 6 hours<\/li> <\/ul> <\/li> <li> Extra (image, settings) write time in minute (one information per day) : <ul> <li><b>&lt;0<\/b> → no extra information is written<\/li> <li>480 (example) → write at 8:00<\/li> <li>720 (example) → write at 12:00<\/li> <\/ul> <\/li> <li> Counting\/occupancy\/log write period in second : <ul> <li>600 (example) → write information every 10 minutes<\/li> <li>3600 (example) → write information every hour<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "CPX3",
						"min" : "1.4.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set sdcard configuration",
				"desc" : [
					"Get or set sdcard configuration : <ol> <li> Options (bit mask) : <ul> <li><b>0x1<\/b> → remove null data from <b>all files<\/b><\/li> <li><b>0x2<\/b> → save each counting line separatly instead of sum<\/li> <li><b>0x4<\/b> → force ISO date in counting \/ occupancy files <b>(added in 1.3.1)<\/b><\/li> <li><b>0x8<\/b> → Add state parameters to config log files <b>(added in 1.4.1)<\/b><\/li> <\/ul> <\/li> <li> Counting\/occupancy resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>60 (example) → one information per minute<\/li> <li>1800 (example) → one information every 30 minutes<\/li> <\/ul> <\/li> <li> Log (sensor, temperature, sdcard) resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>3600 (example) → one information every hour<\/li> <li>21600 (example) → one information every 6 hours<\/li> <\/ul> <\/li> <li> Extra (image, settings) write time in minute (one information per day) : <ul> <li><b>&lt;0<\/b> → no extra information is written<\/li> <li>480 (example) → write at 8:00<\/li> <li>720 (example) → write at 12:00<\/li> <\/ul> <\/li> <li> Counting\/occupancy\/log write period in second : <ul> <li>600 (example) → write information every 10 minutes<\/li> <li>3600 (example) → write information every hour<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.5.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set sdcard configuration",
				"desc" : [
					"Get or set sdcard configuration : <ol> <li> Options (bit mask) : <ul> <li><b>0x1<\/b> → remove null data from <b>all files<\/b><\/li> <li><b>0x2<\/b> → save each counting line separatly instead of sum<\/li> <li><b>0x4<\/b> → force ISO date in counting \/ occupancy files <b>(added in 1.3.1)<\/b><\/li> <li><b>0x8<\/b> → Add state parameters to config log files <b>(added in 1.4.1)<\/b><\/li> <\/ul> <\/li> <li> Counting\/occupancy resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>60 (example) → one information per minute<\/li> <li>1800 (example) → one information every 30 minutes<\/li> <\/ul> <\/li> <li> Log (sensor, temperature, sdcard) resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>3600 (example) → one information every hour<\/li> <li>21600 (example) → one information every 6 hours<\/li> <\/ul> <\/li> <li> Extra (image, settings) write time in minute (one information per day) : <ul> <li><b>&lt;0<\/b> → no extra information is written<\/li> <li>480 (example) → write at 8:00<\/li> <li>720 (example) → write at 12:00<\/li> <\/ul> <\/li> <li> Counting\/occupancy\/log write period in second : <ul> <li>600 (example) → write information every 10 minutes<\/li> <li>3600 (example) → write information every hour<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.5.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,N,N,N"
				],
				"reply" : [
					"B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set sdcard configuration",
				"desc" : [
					"Get or set sdcard configuration : <ol> <li> Options (bit mask) : <ul> <li><b>0x1<\/b> → remove null data from <b>all files<\/b><\/li> <li><b>0x2<\/b> → save each counting line separatly instead of sum<\/li> <li><b>0x4<\/b> → force ISO date in counting \/ occupancy files <b>(added in 1.3.1)<\/b><\/li> <li><b>0x8<\/b> → Add state parameters to config log files <b>(added in 1.4.1)<\/b><\/li> <li><b>0x10<\/b> → write adult counter (requiring adult\/child option is enabled in processing) <b>(added in 1.5.0)<\/b><\/li> <li><b>0x20<\/b> → write child counter (requiring adult\/child option is enabled in processing) <b>(added in 1.5.0)<\/b><\/li> <\/ul> <\/li> <li> Counting\/occupancy resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>60 (example) → one information per minute<\/li> <li>1800 (example) → one information every 30 minutes<\/li> <\/ul> <\/li> <li> Log (sensor, temperature, sdcard) resolution in second : <ul> <li><b>0<\/b> → no information<\/li> <li>3600 (example) → one information every hour<\/li> <li>21600 (example) → one information every 6 hours<\/li> <\/ul> <\/li> <li> Extra (image, settings) write time in minute (one information per day) : <ul> <li><b>&lt;0<\/b> → no extra information is written<\/li> <li>480 (example) → write at 8:00<\/li> <li>720 (example) → write at 12:00<\/li> <\/ul> <\/li> <li> Counting\/occupancy\/log write period in second : <ul> <li>600 (example) → write information every 10 minutes<\/li> <li>3600 (example) → write information every hour<\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"sdcard_cptx" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C"
			],
			"reply" : [
				"C"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set 2D sensor specific configuration",
			"desc" : [
				"Get or Set 2D sensor sdcard specific configuration : <ol> <li> Enable line statistic files : <ul> <li><b>0<\/b> → no statistic<\/li> <li><b>1<\/b> → enable statistic files (same period as counting files)<\/li> <\/ul> <\/li> <\/ol>"
			]
		},
		"sdcard_site" : {
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or set site name",
			"desc" : [
				"Get or set site name <b>(max 32 characters)<\/b>"
			]
		},
		"sdcard_chain" : {
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or set chain name",
			"desc" : [
				"Get or set chain name <b>(max 32 characters)<\/b>"
			]
		},
		"sdcard_line" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C,T"
			],
			"reply" : [
				"C,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set information for counting files",
			"desc" : [
				"Get or Set line information for counting files when the sum of lines is saved : <ol> <li> Type : <ul> <li><b>0<\/b> → way<\/li> <li><b>1<\/b> → access<\/li> <\/ul> <\/li> <li>Name <b>(max 32 characters)<\/b><\/li> <\/ol>"
			]
		},
		"sdcard_line_N" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C,T"
			],
			"reply" : [
				"C,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set information for counting files",
			"desc" : [
				"Get or Set line information for counting files when each counting line are saved<br>(N goes from 1 to line_nb, see processing parameters) : <ol> <li> Type : <ul> <li><b>0<\/b> → way<\/li> <li><b>1<\/b> → access<\/li> <\/ul> <\/li> <li>Name <b>(max 32 characters)<\/b><\/li> <\/ol>"
			]
		},
		"sdcard_channel_nb" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"short" : "Get nb of columns written in counting file",
			"desc" : [
				"Get number of columns written in counting file. <br>Numer of column depends on sdcard, IO and processing configurations"
			]
		},
		"sdcard_channel_N" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,T"
			],
			"get" : "reader",
			"short" : "Get information for written column",
			"desc" : [
				"Get information for column N written in counting file (from 1 to sdcard_channel_nb) : <ol> <li> Type : <ul> <li><b>0<\/b> → way<\/li> <li><b>1<\/b> → access<\/li> <\/ul> <\/li> <li>Name<\/li> <\/ol>"
			]
		},
		"sdcard_state" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,T"
			],
			"get" : "reader",
			"short" : "Get sdcard state",
			"desc" : [
				"Get sdcard state : <ol> <li> State : <ul> <li><b>0<\/b> → init<\/li> <li><b>1<\/b> → ok<\/li> <li><b>2<\/b> → busy<\/li> <li><b>3<\/b> → error or no sdcard<\/li> <li><b>4<\/b> → full<\/li> <\/ul> <\/li> <li>Fat number<\/li> <li>Capacity in Kib<\/li> <li>Freespace in Kib<\/li> <li>Name of the sdcard<\/li> <\/ol>"
			]
		},
		"sdcard_cid" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"0xX,T,T,T,T,X,T"
			],
			"get" : "reader",
			"short" : "Get sdcard manufacturer information",
			"desc" : [
				"Get sdcard manufacturer information : <ol> <li>Sdcard manufacturer ID<\/li> <li>Sdcard OID<\/li> <li>Sdcard product name<\/li> <li>Sdcard rev<\/li> <li>Sdcard sn<\/li> <li>Sdcard production date (YY-MM)<\/li> <\/ol>"
			]
		},
		"sdcard_info" : {
			"cat" : "cmd",
			"cmd" : [
				"T"
			],
			"reply" : [
				"C,D,H",
				"-1,,",
				"busy",
				"error"
			],
			"set" : "reader",
			"short" : "Get information from file",
			"desc" : [
				"Get information from file T : <ul> <li> File is OK : <ol> <li>File size in byte<\/li> <li>Last write date<\/li> <li>Last write hour<\/li> <\/ol> <\/li> <li><b>-1<\/b> → the file does not exist<\/li> <li><b>busy<\/b> → sdcard is busy<\/li> <li><b>error<\/b> → sdcard is not available<\/li> <\/ul>"
			]
		},
		"sdcard_list" : {
			"cat" : "cmd",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"OK,...",
				"busy",
				"error"
			],
			"set" : "reader",
			"short" : "List file on sdcard by name",
			"desc" : [
				"List file on sdcard by name, with on optional filter : <ul> <li> <b>OK<\/b> followed by files found : <ul> <li>T is a filter on name, so each name will begin with T<\/li> <\/ul> <\/li> <li><b>busy<\/b> → sdcard is busy<\/li> <li><b>error<\/b> → sdcard is not available<\/li> <\/ul>"
			]
		},
		"sdcard_date" : {
			"cat" : "cmd",
			"cmd" : [
				"YYYY",
				"YYYY-MM",
				"YYYY-MM-DD"
			],
			"reply" : [
				"OK,...",
				"busy",
				"error"
			],
			"set" : "reader",
			"short" : "List file on sdcard by date",
			"desc" : [
				"List file on sdcard by date : <ul> <li>YYYY is a filter on year<\/li> <li>YYYY-MM is a filter on year + month<\/li> <li>YYYY-MM-DD is a filter on year + month + day<\/li> <\/ul> Reply : <ul> <li><b>OK<\/b> followed by files founds<\/li> <li><b>busy<\/b> → sdcard is busy<\/li> <li><b>error<\/b> → sdcard is not available<\/li> <\/ul>"
			]
		},
		"sdcard_read" : {
			"cat" : "cmd",
			"cmd" : [
				"T"
			],
			"reply" : [
				"_<i>[file's binary data]<\/i>"
			],
			"set" : "reader",
			"short" : "Read file T from sdcard",
			"desc" : [
				"Read file T from sdcard.<br> <ul> <li>HTTP code <b>200<\/b> → read ok<\/li> <li>HTTP code <b>404<\/b> → file does not exist<\/li> <li>HTTP code <b>503<\/b> → sdcard is busy or unavailable<\/li> <\/ul> Please not that this command could not be associated with any other API command in the same request."
			]
		},
		"sdcard_erase" : {
			"cat" : "cmd",
			"cmd" : [
				"T"
			],
			"reply" : [
				"OK",
				"busy",
				"error"
			],
			"set" : "super",
			"short" : "Erase file T from sdcard",
			"desc" : [
				"Erase file T from sdcard, result, possible results are : <ul> <li><b>OK<\/b> → file was successfully deleted<\/li> <li><b>busy<\/b> → sdcard is busy, no erase done<\/li> <li><b>error<\/b> → deleted failed, file does not exist or sdcard unavailable<\/li> <\/ul>"
			]
		},
		"sdcard_flush" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "super",
			"short" : "Write pending data into sdcard",
			"desc" : [
				"Write pending counting, occupancy and log informations into sdcard"
			]
		},
		"sdcard_extra" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "super",
			"short" : "Write extra information",
			"desc" : [
				"Write now extra information (image, settings) into sdcard"
			]
		},
		"sdcard_format" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK",
				"busy",
				"error"
			],
			"set" : "super",
			"short" : "Format sdcard",
			"desc" : [
				"Format sdcard, possible results are : <ul> <li><b>OK<\/b> → format was successful<\/li> <li><b>busy<\/b> → sdcard is busy, no format done<\/li> <li><b>error<\/b> → format failed<\/li> <\/ul>"
			]
		},
		"sdcard_stereo" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,C,N"
			],
			"reply" : [
				"C,C,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set stereo file configuration",
			"desc" : [
				"Get or Set stereo file configuration : <ol> <li> Enable area files : <ul> <li><b>0<\/b> → disable<\/li> <li><b>1<\/b> → enable (same period as counting files)<\/li> <\/ul> <\/li> <li> Enable track files : <ul> <li><b>0<\/b> → disable<\/li> <li><b>1<\/b> → enable (same period as counting files)<\/li> <\/ul> <\/li> <li> Heatmap write period : <ul> <li><b>0<\/b> → disable<\/li> <li>write period in minute<\/li> <\/ul> <\/li> <\/ol>"
			]
		},
		"sdcard_adult" : {
			"flavour" : [
				{
					"type" : "SX3D",
					"min" : "1.5.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"short" : "Get or Set adult counter suffix",
			"desc" : [
				"Get or Set adult counter suffix <b>(max 32 characters)<\/b>"
			]
		},
		"sdcard_child" : {
			"flavour" : [
				{
					"type" : "SX3D",
					"min" : "1.5.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"short" : "Get or Set child counter suffix",
			"desc" : [
				"Get or Set child counter suffix <b>(max 32 characters)<\/b>"
			]
		}
	},
	{
		"title" : "Occupancy",
		"desc" : [
			"API commands for the occupancy parameters commands"
		],
		"occupancy_config" : {
			"cat" : "config",
			"cmd" : [
				"",
				"B,N,N,N,N"
			],
			"reply" : [
				"B,N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set occupancy configuration",
			"desc" : [
				"Get or Set occupancy configuration : <ol> <li>Options : <ul> <li>0x1 enable<\/li> <li>0x2 clip min<\/li> <li>0x4 clip max<\/li> <li>0x10 max threshold<\/li> <li>0x20 min threshold<\/li> <\/ul> <\/li> <li>Min value<\/li> <li>Max value<\/li> <li>Threshold<\/li> <li>Reset value<\/li> <\/ol>"
			]
		},
		"occupancy_rst_nb" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"short" : "Get number of available reset"
		},
		"occupancy_rst_N" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C,N,N"
			],
			"reply" : [
				"C,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set reset configuration",
			"desc" : [
				"Get or Set reset configuration for reset N (from 1 to occupancy_rst_nb) : <ol> <li>Enable reset : <ul> <li>0 → disable<\/li> <li>1 → enable<\/li> <\/ul> <\/li> <li>Reset value<\/li> <li>Reset hour (in minute from the begining of the day)<\/li> <\/ol>"
			]
		},
		"occupancy_state" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N"
			],
			"get" : "reader",
			"short" : "Get occupancy state",
			"desc" : [
				"Get occupancy state : <ol> <li>Occupancy enabled : <ul> <li>0 → disabled<\/li> <li>1 → enabled<\/li> <\/ul> <\/li> <li>Occupancy value<\/li> <li>Entry sum<\/li> <li>Exit sum<\/li> <\/ol>"
			]
		},
		"occupancy_reset" : {
			"cat" : "cmd",
			"cmd" : [
				"",
				"N"
			],
			"reply" : [
				"OK"
			],
			"set" : "user",
			"short" : "Reset occupancy"
		},
		"occupancy_set" : {
			"cat" : "cmd",
			"cmd" : [
				"N"
			],
			"reply" : [
				"OK"
			],
			"set" : "user",
			"short" : "Set occupancy to N"
		},
		"occupancy_offset" : {
			"cat" : "cmd",
			"cmd" : [
				"N"
			],
			"reply" : [
				"OK"
			],
			"set" : "user",
			"short" : "Offset occupancy to N"
		}
	},
	{
		"title" : "Processing",
		"desc" : [
			"API commands for the processing commands"
		],
		"line_nb" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"short" : "Get number of lines"
		},
		"line_thres" : [
			{
				"flavour" : [
					{
						"max" : "1.3.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N",
					"N,N"
				],
				"reply" : [
					"N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set threshold",
				"desc" : [
					"Get or Set threshold : <ol> <li>Threshold value<\/li> <li>Threshold ramp<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.1"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N",
					"N,N",
					"N,N,N"
				],
				"reply" : [
					"N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set threshold",
				"desc" : [
					"Get or Set threshold : <ol> <li>Threshold value<\/li> <li>Threshold ramp<\/li> <li>Dark threshold value <b>(added in 1.3.1)<\/b><\/li> <\/ol>"
				]
			}
		],
		"line_N" : {
			"flavour" : [
				{
					"type" : "CPX3"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,N,N,N,N,N,N"
			],
			"reply" : [
				"C,N,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set line configuration",
			"desc" : [
				"Get or Set configuration for line N (from 1 to line_nb) : <ol> <li> Enable line : <ul> <li><b>0<\/b> → disable<\/li> <li><b>1<\/b> → enable<\/li> <\/ul> <\/li> <li>X coordinate in 1\/16th pixel<\/li> <li>Y coordinate in 1\/16th pixel<\/li> <li>Length of the line in 1\/16th pixel<\/li> <li>Angle in degree (clockwise, 0 = horizontal line)<\/li> <li>Curve in degree (from 0 to 180, 0 = straight line, 180 = half circle)<\/li> <li>Block size in 1\/16th pixel<\/li> <\/ol>"
			]
		},
		"line_counting" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get global counting state",
			"desc" : [
				"Get global counting state : <ol> <li> Status : <ul> <li><b>0<\/b> → ok<\/li> <li><b>1<\/b> → disabled<\/li> <li><b>2<\/b> → error<\/li> <\/ul> <\/li> <li>Entry sum<\/li> <li>Exit sum<\/li> <li>Daily entry sum<\/li> <li>Daily exit sum<\/li> <\/ol>"
			]
		},
		"line_counting_N" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get line counting state",
			"desc" : [
				"Get line counting state for line N (from 1 to line_nb) : <ol> <li> Status : <ul> <li><b>0<\/b> → ok<\/li> <li><b>1<\/b> → disabled<\/li> <li><b>2<\/b> → error<\/li> <\/ul> <\/li> <li>Entry sum<\/li> <li>Exit sum<\/li> <li>Daily entry sum<\/li> <li>Daily exit sum<\/li> <\/ol>"
			]
		},
		"line_state_N" : [
			{
				"flavour" : [
					{
						"type" : "CPX3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"_<i>[binary data]<br>[620 bytes]<\/i>"
				],
				"get" : "reader",
				"short" : "Get line state for line N",
				"desc" : [
					"Get line state for line N (from 1 to line_nb) : <ol> <li>S32 → number of points (max = 128)<\/li> <li>S32 → entry sum<\/li> <li>S32 → exit sum<\/li> <li>S16[128] → X coordinate of points<\/li> <li>S16[128] → Y coordinate of points<\/li> <li>S16[16] → group state<\/li> <li>S16[16] → group direction<\/li> <li>S16[16] → group position<\/li> <\/ol> <i>All numbers are raw 16\/32 bits signed\/unsigned integers (little endian)<\/i>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.5.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get line counting for line N",
				"desc" : [
					"Get state for line N (from 1 to line_nb) : <ol> <li> State : <ul> <li>0 → line disabled<\/li> <li>1 → line enabled<\/li> <\/ul> <\/li> <li>Total entry sum<\/li> <li>Total exit sum<\/li> <li>Total daily entries<\/li> <li>Total daily exists<\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.5.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,N,N,N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get line counting for line N",
				"desc" : [
					"Get state for line N (from 1 to line_nb) : <ol> <li> State : <ul> <li>0 → line disabled<\/li> <li>1 → line enabled<\/li> <\/ul> <\/li> <li>Total entry sum<\/li> <li>Total exit sum<\/li> <li>Total daily entries<\/li> <li>Total daily exists<\/li> <li>Adult entry sum <b>(implemented in 1.5.0)<\/b><\/li> <li>Adult exit sum <b>(implemented in 1.5.0)<\/b><\/li> <li>Adult daily entries <b>(implemented in 1.5.0)<\/b><\/li> <li>Adult daily exists <b>(implemented in 1.5.0)<\/b><\/li> <li>Child entry sum <b>(added in 1.5.0)<\/b><\/li> <li>Child exit sum <b>(added in 1.5.0)<\/b><\/li> <li>Child daily entries <b>(added in 1.5.0)<\/b><\/li> <li>Child daily exists <b>(added in 1.5.0<\/b><\/li> <\/ol>"
				]
			}
		],
		"line_stx_N" : {
			"flavour" : [
				{
					"type" : "CPX3"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[binary data]<br>[544 bytes]<\/i>"
			],
			"get" : "reader",
			"short" : "Get line statistics for line N",
			"desc" : [
				"Get line statistics for line N (from 1 to line_nb) : <ol> <li>U16[128] → entry sum along line<\/li> <li>U16[128] → exit sum along line<\/li> <li>U16[16] → counting width spread<\/li> <\/ol>"
			]
		},
		"line_timing" : [
			{
				"flavour" : [
					{
						"type" : "CPX3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"N,N,N"
				],
				"get" : "reader",
				"short" : "Get timing information",
				"desc" : [
					"Get timing information (in %) from processing,<br> all values must be less than 90% to allow optimal counting : <ol> <li>Time taken by the image transformation (depends on transformation parameters)<\/li> <li>Time taken by the image filtering<\/li> <li>Time taken by the line management (depends on number of lines, line and block size)<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get timing information",
				"desc" : [
					"Get timing information (in %) from processing,<br> all values must be less than 90% to allow optimal counting : <ol> <li>Time taken by the image rectification<\/li> <li>Time taken by the image filtering<\/li> <li>Time taken by the tracking processing<\/li> <li>Time taken by the stereo processing<\/li> <\/ol>"
				]
			}
		],
		"line_reset" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "user",
			"short" : "Reset counting of the line"
		},
		"line_config_N" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,N,N,N,N,N"
			],
			"reply" : [
				"C,N,N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set configuration for line N",
			"desc" : [
				"Get or Set configuration for line N (from 1 to line_nb) : <ol> <li> Enable line : <ul> <li>0 → disable<\/li> <li>1 → enable<\/li> <\/ul> <\/li> <li>X coordinate in pixel<\/li> <li>Y coordinate in pixel<\/li> <li>Length of the line in pixel<\/li> <li>Angle in degree (clockwise, 0 = horizontal line)<\/li> <li>Curve in degree (from 0 to 180, 0 = straight line, 180 = half circle)<\/li> <\/ol>"
			]
		},
		"line_state" : [
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.5.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get state for all lines",
				"desc" : [
					"Get state for all lines : <ol> <li> State : <ul> <li>0 → line disabled<\/li> <li>1 → line enabled<\/li> <\/ul> <\/li> <li>Total entry sum<\/li> <li>Total exit sum<\/li> <li>Total daily entries<\/li> <li>Total daily exists<\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <li><span class=\"color_grey\">unused<\/span><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.5.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,N,N,N,N,N,N,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get state for all lines",
				"desc" : [
					"Get state for all lines : <ol> <li> State : <ul> <li>0 → line disabled<\/li> <li>1 → line enabled<\/li> <\/ul> <\/li> <li>Total entry sum<\/li> <li>Total exit sum<\/li> <li>Total daily entries<\/li> <li>Total daily exists<\/li> <li>Adult entry sum <b>(implemented in 1.5.0)<\/b><\/li> <li>Adult exit sum <b>(implemented in 1.5.0)<\/b><\/li> <li>Adult daily entries <b>(implemented in 1.5.0)<\/b><\/li> <li>Adult daily exists <b>(implemented in 1.5.0)<\/b><\/li> <li>Child entry sum <b>(added in 1.5.0)<\/b><\/li> <li>Child exit sum <b>(added in 1.5.0)<\/b><\/li> <li>Child daily entries <b>(added in 1.5.0)<\/b><\/li> <li>Child daily exists <b>(added in 1.5.0<\/b><\/li> <\/ol>"
				]
			}
		],
		"ground_nb" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N"
			],
			"get" : "reader",
			"short" : "Get limits for grounds areas",
			"desc" : [
				"Get limits for grounds areas : <ol> <li>number of areas<\/li> <li>Max number of points<\/li> <\/ol>"
			]
		},
		"ground_config_N" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"B,N,N,N,N,N,[...]"
			],
			"reply" : [
				"C,C,N,N,N,N,N,[...]"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set configuration for ground N",
			"desc" : [
				"Get or Set configuration for ground N (from 1 to ground_nb) : <ol> <li> Enable ground (bit mask) : <ul> <li>0x01 → enable<\/li> <li>0x02 → use A = 0<\/li> <li>0x04 → use B = 0<\/li> <li>0x08 → force use provided model<\/li> <li>0x10 → refine provided model<\/li> <li>0x20 → use full ABCDEF ground model<\/li> <\/ul> <\/li> <li>Init distance for ground model<\/li> <li>Ground model : provided A parameter (horizontal tilt)<\/li> <li>Ground model : provided B parameter (vertical tilt)<\/li> <li>Ground model : provided F parameter (ground distance)<\/li> <li>Number of points<\/li> <li>X coordinate in pixel of first point<\/li> <li>Y coordinate in pixel of first point<\/li> <li>X coordinate in pixel of second point<\/li> <li>...<\/li> <\/ol> Note : An enabled ground with less than 3 points covers the whole image"
			]
		},
		"ground_state_N" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get state for ground N",
			"desc" : [
				"Get state for for ground N (from 1 to ground_nb) : <ol> <li>Enabled ground (0 = disabled, 1 = enabled)<\/li> <li>Ground model : computed A parameter<\/li> <li>Ground model : computed B parameter<\/li> <li>Ground model : computed C parameter<\/li> <li>Ground model : computed D parameter<\/li> <li>Ground model : computed E parameter<\/li> <li>Ground model : computed F parameter<\/li> <\/ol>"
			]
		},
		"area_nb" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N"
			],
			"get" : "reader",
			"short" : "Get limits for areas",
			"desc" : [
				"Get limits for areas : <ol> <li>Number of areas<\/li> <li>Max number of points<\/li> <\/ol>"
			]
		},
		"area_config_N" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,N,..."
			],
			"reply" : [
				"C,N,..."
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set configuration for area N",
			"desc" : [
				"Get or Set configuration for area N (from 1 to area_nb) : <ol> <li> Enable area : <ul> <li>0 → disable<\/li> <li>1 → enable<\/li> <\/ul> <\/li> <li>Number of points<\/li> <li>X coordinate in pixel of first point<\/li> <li>Y coordinate in pixel of first point<\/li> <li>X coordinate in pixel of second point<\/li> <li>...<\/li> <\/ol> Note : An enabled area with less than 3 points covers the whole image"
			]
		},
		"area_state_N" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get state for area N",
			"desc" : [
				"Get state for area N (from 1 to area_nb) : <ol> <li>Enabled area (0 = disabled, 1 = enabled)<\/li> <li>Current occupancy<\/li> <li>Total entries to area<\/li> <li>Total exits from areas<\/li> <li>Total min occupancy<\/li> <li>Total max occupancy<\/li> <li>Total average occupancy<\/li> <li>Total average occupancy divider<\/li> <li>Total occupancy time (in person.second)<\/li> <li>Daily entries to area<\/li> <li>Daily exits from areas<\/li> <li>Daily min occupancy<\/li> <li>Daily max occupancy<\/li> <li>Daily average occupancy<\/li> <li>Daily average occupancy divider<\/li> <li>Daily occupancy time<\/li> <\/ol>"
			]
		},
		"exclude_nb" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,N"
			],
			"get" : "reader",
			"short" : "Get limits for exclude areas",
			"desc" : [
				"Get limits for exclude areas : <ol> <li>Number of areas<\/li> <li>Max number of points<\/li> <\/ol>"
			]
		},
		"exclude_config_N" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,N,..."
			],
			"reply" : [
				"C,N,..."
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set configuration for exclude area N",
			"desc" : [
				"Get or Set configuration for exclude area N (from 1 to area_nb) : <ol> <li> Enable exlude area : <ul> <li>0 → disable<\/li> <li>1 → enable<\/li> <\/ul> <\/li> <li>Number of points<\/li> <li>X coordinate in pixel of first point<\/li> <li>Y coordinate in pixel of first point<\/li> <li>X coordinate in pixel of second point<\/li> <li>...<\/li> <\/ol> Note : An enabled exclude area with less than 3 points is ignored"
			]
		},
		"stereo_pre" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N"
			],
			"reply" : [
				"N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Set pre-processing for stereo map",
			"desc" : [
				"Set pre-processing configuration for stereo map : <ol> <li> Filter : <ul> <li>-1 → new filter<\/li> <li>0 → no filter <span class=\"color_ko\">(not recommended)<\/span><\/li> <li>&gt; 0 → old filter iteration number <span class=\"color_ko\">(not recommended)<\/span><\/li> <\/ul> <\/li> <li>Value threshold<\/li> <li>Count threshold<\/li> <\/ol>"
			]
		},
		"stereo_diff" : [
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"max" : "1.5.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N,N,B,N,N,N,N"
				],
				"reply" : [
					"N,N,B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Set processing configuration",
				"desc" : [
					"Set processing configuration for stereo map : <ol> <li>Min height difference from ground<\/li> <li>Max height difference from ground<\/li> <li> Processing configuration : <ul> <li>0x0 → no option<\/li> <li>0x1 → use move detection<\/li> <\/ul> <\/li> <li> Use target information in difference : <ul> <li>&gt; 0 → target influence<\/li> <li>others → disable<\/li> <\/ul> <\/li> <li> Block value : <ul> <li>&gt; 0 → block size <span class=\"color_ko\">(not recommended)<\/span><\/li> <li>others → auto block size<\/li> <\/ul> <\/li> <li>Min target distance (in cm)<\/li> <li>Offset to add to height measurement<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D",
						"min" : "1.5.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"N,N,B,N,N,N,N"
				],
				"reply" : [
					"N,N,B,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Set processing configuration",
				"desc" : [
					"Set processing configuration for stereo map : <ol> <li>Min height difference from ground<\/li> <li>Max height difference from ground<\/li> <li> Processing configuration : <ul> <li>0x00 → no option<\/li> <li>0x01 → use move detection<\/li> <li>0x10 → enable adult \/ child classification <b>(added in 1.5.0)<\/b><\/li> <\/ul> <\/li> <li> Use target information in difference : <ul> <li>&gt; 0 → target influence<\/li> <li>others → disable<\/li> <\/ul> <\/li> <li> Block value : <ul> <li>&gt; 0 → block size <span class=\"color_ko\">(not recommended)<\/span><\/li> <li>others → auto block size<\/li> <\/ul> <\/li> <li>Min target distance (in cm)<\/li> <li>Offset to add to height measurement<\/li> <\/ol>"
				]
			}
		],
		"stereo_count" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"N,N,N,N"
			],
			"reply" : [
				"N,N,N,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Set counting configuration",
			"desc" : [
				"Set counting configuration : <ol> <li>Min height threshold for counting (in cm)<\/li> <li>Child height threshold for counting (in cm)<\/li> <li>Counting delay validation (in 1\/10s)<\/li> <li>Object delay timeout (in 1\/10s)<\/li> <\/ol>"
			]
		},
		"stereo_target" : [
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"",
					"0"
				],
				"reply" : [
					"_<i>[binary data]<br>[14 x 2 x 128 bytes]<\/i>"
				],
				"get" : "reader",
				"short" : "List of current targets",
				"desc" : [
					"List of current target x 128, for each target : <ol> <li>U16 → Target ID<\/li> <li>U16 → Duration time in second<\/li> <li>S16 → Target state (0 = unused, 1 = alive, 2 = lost\/deleted, 3 = object)<\/li> <li>S16 → Start X position in cm<\/li> <li>S16 → Start Y position in cm<\/li> <li>S16 → Start Z position in cm<\/li> <li>S16 → Current X position in cm<\/li> <li>S16 → Current Y position in cm<\/li> <li>S16 → Current Z position in cm<\/li> <li>S16 → Target height in cm<\/li> <li>U16 → Target entry counter<\/li> <li>U16 → Target exit counter<\/li> <li> U16 → Ground within (<b>bit mask<\/b>) : <ul> <li>0x1 → within ground 1<\/li> <li>0x2 → within ground 2<\/li> <li>0x4 → within ground 3<\/li> <li>...<\/li> <\/ul> <\/li> <li>U16 → Area within (<b>bit mask<\/b>, similar as ground)<\/li> <\/ol> <i>All numbers are raw 16 bits signed\/unsigned integers (little endian)<\/i>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"1"
				],
				"reply" : [
					"_<i>[binary data]<br>[14 x 2 x X bytes]"
				],
				"get" : "reader",
				"short" : "List of current targets",
				"desc" : [
					"Same as stereo_target, but only targets with state > 0 are sent"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"2"
				],
				"reply" : [
					"_<i>stereo_target_N=N,N,N,N,N,N<br>null<\/i>"
				],
				"get" : "reader",
				"short" : "List of current targets",
				"desc" : [
					"Same as stereo_target=1, but targets are sent in text format (instead of binary) with one line for each target for debug : <ol> <li>Target ID<\/li> <li>Duration time<\/li> <li>Target state<\/li> <li>Start X position<\/li> <li>Start Y position<\/li> <li>Start Z position<\/li> <li>Target height<\/li> <\/ol> If there is no target with state &gt; 0, null is replied"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"3"
				],
				"reply" : [
					"_<i>[binary data]<br>[15 x 2 x 128 bytes]<\/i>"
				],
				"get" : "reader",
				"short" : "List of current targets",
				"desc" : [
					"List of current target x 128, for each target : <ol> <li>U16 → Target ID<\/li> <li>U16 → Duration time in second<\/li> <li>S16 → Target state (0 = unused, 1 = alive, 2 = lost\/deleted, 3 = object)<\/li> <li>S16 → Start X position in cm<\/li> <li>S16 → Start Y position in cm<\/li> <li>S16 → Start Z position in cm<\/li> <li>S16 → Current X position in cm<\/li> <li>S16 → Current Y position in cm<\/li> <li>S16 → Current Z position in cm<\/li> <li>S16 → Current H in cm<\/li> <li>S16 → Target height in cm<\/li> <li>U16 → Target entry counter<\/li> <li>U16 → Target exit counter<\/li> <li> U16 → Ground within (<b>bit mask<\/b>) : <ul> <li>0x1 → within ground 1<\/li> <li>0x2 → within ground 2<\/li> <li>0x4 → within ground 3<\/li> <li>...<\/li> <\/ul> <\/li> <li>U16 → Area within (<b>bit mask<\/b>, similar as ground)<\/li> <\/ol> <i>All numbers are raw 16 bits signed\/unsigned integers (little endian)<\/i>"
				]
			}
		],
		"stereo_track" : [
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"",
					"0"
				],
				"reply" : [
					"_<i>[binary data]<br>[64 x 18 bytes]<\/i>"
				],
				"get" : "reader",
				"short" : "Get list of last tracks",
				"desc" : [
					"Get list of last tracks x 64, for each track : <ol> <li>U16 → Track ID<\/li> <li>U16 → Duration time in second<\/li> <li>S16 → Start X position in cm<\/li> <li>S16 → Start Y position in cm<\/li> <li>S16 → End X position in cm<\/li> <li>S16 → End Y position in cm<\/li> <li>S16 → Target height in cm<\/li> <li>U16 → Target entry sum<\/li> <li>U16 → Target exit sum<\/li> <\/ol> <i>All numbers are raw 16 bits signed\/unsigned integers (little endian)<\/i>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"1"
				],
				"reply" : [
					"_<i>[binary data]<br>[N x 18 bytes]<\/i>"
				],
				"get" : "reader",
				"short" : "Get list of last tracks",
				"desc" : [
					"Get list of last tracks with ID > 0, for each track : <ol> <li>U16 → Track ID<\/li> <li>U16 → Duration time in second<\/li> <li>S16 → Start X position in cm<\/li> <li>S16 → Start Y position in cm<\/li> <li>S16 → End X position in cm<\/li> <li>S16 → End Y position in cm<\/li> <li>S16 → Target height in cm<\/li> <li>U16 → Target entry sum<\/li> <li>U16 → Target exit sum<\/li> <\/ol> <i>All numbers are raw 16 bits signed\/unsigned integers (little endian)<\/i>"
				]
			},
			{
				"flavour" : [
					{
						"type" : "SX3D"
					}
				],
				"cat" : "state",
				"cmd" : [
					"2"
				],
				"reply" : [
					"_<i>stereo_track_N=N,N,N,N,N,N,N,N<br>null<\/i>"
				],
				"get" : "reader",
				"short" : "Get list of last tracks",
				"desc" : [
					"Get list of last tracks sent in text format (instead of binary) with one line for each track for debug : <ol> <li>Track ID (<b>unsigned<\/b>)<\/li> <li>Duration time in second (<b>unsigned<\/b>)<\/li> <li>Start X position in cm (signed)<\/li> <li>Start Y position in cm (signed)<\/li> <li>End X position in cm (signed)<\/li> <li>End Y position in cm (signed)<\/li> <li>Target height in cm (signed)<\/li> <li>Target entry sum (<b>unsigned<\/b>)<\/li> <li>Target exit sum (<b>unsigned<\/b>)<\/li> <\/ol> If there is no target with ID>0, null is replied"
				]
			}
		],
		"ground_reset" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Restart ground estimation"
		}
	},
	{
		"title" : "Dispatching &amp; Push",
		"desc" : [
			"API commands for dispatch and push"
		],
		"send_nb" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"short" : "Get number of dispatch available"
		},
		"send_config_N" : [
			{
				"flavour" : [
					{
						"max" : "1.6.2"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,C,N,N,N,N"
				],
				"reply" : [
					"B,N,C,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set configuration for dispatch",
				"desc" : [
					"Get or Set configuration for dispatch N (from 1 to send_nb) : <ol> <li> Options : <ul> <li> File options : <ul> <li>0x1 → send counting files<\/li> <li>0x2 → send occupancy files<\/li> <li>0x4 → send log files<\/li> <li>0x8 → send extra files (image, config)<\/li> <\/ul> <\/li> <li> Protocol option : <ul> <li>0x00 → disabled<\/li> <li>0x10 → ftp dispatch<\/li> <li>0x20 → http dav dispatch<\/li> <li>0x30 → http post dispatch<\/li> <\/ul> <\/li> <li> Extra options : <ul> <li>0x100 → use serial number as directory (ftp\/http)<\/li> <li>0x200 → use year\/month diretories (ftp\/http)<\/li> <\/ul> <\/li> <\/ul> <\/li> <li> Period in minutes, for example : <ul> <li>15 → every quarter<\/li> <li>60 → every hour<\/li> <li>240 → every 4 hours<\/li> <li>1440 → every day<\/li> <li>10080 → every week<\/li> <\/ul> <\/li> <li> Weekday : <ul> <li>0 → sunday<\/li> <li>1 → monday<\/li> <li>...<\/li> <li>6 → saturday<\/li> <\/ul> <\/li> <li> Hour in minutes from the begining of the day, for example : <ul> <li>0 → 0:00<\/li> <li>480 → 8:00<\/li> <li>817 → 13:37<\/li> <li>1439 → 23:59<\/li> <\/ul> <\/li> <li>Number of day to send<\/li> <li>Delay between tries in minutes<\/li> <li>Number of try to do<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.2",
						"max" : "1.6.3"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,C,N,N,N,N"
				],
				"reply" : [
					"B,N,C,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set configuration for dispatch",
				"desc" : [
					"Get or Set configuration for dispatch N (from 1 to send_nb) : <ol> <li> Options : <ul> <li> File options : <ul> <li>0x1 → send counting files<\/li> <li>0x2 → send occupancy files<\/li> <li>0x4 → send log files<\/li> <li>0x8 → send extra files (image, config)<\/li> <\/ul> <\/li> <li> Protocol option : <ul> <li>0x00 → disabled<\/li> <li>0x10 → ftp dispatch<\/li> <li>0x20 → http dav dispatch<\/li> <li>0x30 → http post dispatch<\/li> <\/ul> <\/li> <li> Extra options : <ul> <li>0x100 → use serial number as directory (ftp\/http)<\/li> <li>0x200 → use year\/month diretories (ftp\/http)<\/li> <li>0x400 → use type as directory (ftp\/http) <b>(added in 1.6.2)<\/b><\/li> <\/ul> <\/li> <\/ul> <\/li> <li> Period in minutes, for example : <ul> <li>15 → every quarter<\/li> <li>60 → every hour<\/li> <li>240 → every 4 hours<\/li> <li>1440 → every day<\/li> <li>10080 → every week<\/li> <\/ul> <\/li> <li> Weekday : <ul> <li>0 → sunday<\/li> <li>1 → monday<\/li> <li>...<\/li> <li>6 → saturday<\/li> <\/ul> <\/li> <li> Hour in minutes from the begining of the day, for example : <ul> <li>0 → 0:00<\/li> <li>480 → 8:00<\/li> <li>817 → 13:37<\/li> <li>1439 → 23:59<\/li> <\/ul> <\/li> <li>Number of day to send<\/li> <li>Delay between tries in minutes<\/li> <li>Number of try to do<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.3"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"B,N,C,N,N,N,N"
				],
				"reply" : [
					"B,N,C,N,N,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set configuration for dispatch",
				"desc" : [
					"Get or Set configuration for dispatch N (from 1 to send_nb) : <ol> <li> Options : <ul> <li> File options : <ul> <li>0x1 → send counting files<\/li> <li>0x2 → send occupancy files<\/li> <li>0x4 → send log files<\/li> <li>0x8 → send extra files (image, config)<\/li> <\/ul> <\/li> <li> Protocol option : <ul> <li>0x00 → disabled<\/li> <li>0x10 → ftp dispatch<\/li> <li>0x20 → http dav dispatch<\/li> <li>0x30 → http post dispatch<\/li> <\/ul> <\/li> <li> Extra options : <ul> <li>0x100 → use serial number as directory (ftp\/http)<\/li> <li>0x200 → use year\/month diretories (ftp\/http)<\/li> <li>0x400 → use type as directory (ftp\/http) <b>(added in 1.6.2)<\/b><\/li> <li>0x800 → free running dispatch period <b>(added in 1.6.3)<\/b><\/li> <li>0x1000 → disable log <b>(added in 1.6.3)<\/b><\/li> <\/ul> <\/li> <\/ul> <\/li> <li> Period in minutes, for example : <ul> <li>15 → every quarter<\/li> <li>60 → every hour<\/li> <li>240 → every 4 hours<\/li> <li>1440 → every day<\/li> <li>10080 → every week<\/li> <\/ul> <\/li> <li> Weekday : <ul> <li>0 → sunday<\/li> <li>1 → monday<\/li> <li>...<\/li> <li>6 → saturday<\/li> <\/ul> <\/li> <li> Hour in minutes from the begining of the day, for example : <ul> <li>0 → 0:00<\/li> <li>480 → 8:00<\/li> <li>817 → 13:37<\/li> <li>1439 → 23:59<\/li> <\/ul> <\/li> <li>Number of day to send<\/li> <li>Delay between tries in minutes<\/li> <li>Number of try to do<\/li> <\/ol>"
				]
			}
		],
		"send_address_N" : [
			{
				"flavour" : [
					{
						"max" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"T,N,T"
				],
				"reply" : [
					"T,N,T"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set send address for dispatch",
				"desc" : [
					"Get or Set send address for dispatch N (from 1 to send_nb) : <ol> <li>Server address <b>(max 64 characters)<\/b><\/li> <li>Server port<\/li> <li>Extra information (directory for ftp\/http) <b>(max 64 characters)<\/b><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"T,N,T"
				],
				"reply" : [
					"T,N,T"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set send address for dispatch",
				"desc" : [
					"Get or Set send address for dispatch N (from 1 to send_nb) : <ol> <li>Server address <b>(max 64 characters)<\/b><\/li> <li>Server port<\/li> <li>Extra information (directory for ftp\/http) <b>(max 128 characters)<\/b><\/li> <\/ol>"
				]
			}
		],
		"send_login_N" : {
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set send login for dispatch",
			"desc" : [
				"Get or Set send login for dispatch N (from 1 to send_nb)<br> <b>(max 32 characters)<\/b>"
			]
		},
		"send_pass_N" : {
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set send password for dispatch",
			"desc" : [
				"Get or Set send password for dispatch N (from 1 to send_nb)<br> <b>(max 32 characters)<\/b>"
			]
		},
		"send_state_N" : [
			{
				"flavour" : [
					{
						"max" : "1.6.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,N,N,N,N,DH,DH"
				],
				"get" : "reader",
				"short" : "Get send state for dispatch",
				"desc" : [
					"Get send state for dispatch N (from 1 to send_nb) : <ol> <li> State of the current send : <ul> <li>0 → idle<\/li> <li>1 → connecting<\/li> <li>2 → login<\/li> <li>3 → busy<\/li> <li>4 → disconnecting<\/li> <\/ul> <\/li> <li> Result of the last send : <ul> <li>0 → no dispatch done<\/li> <li>1 → last dispatch was ok<\/li> <li>2 → server error<\/li> <li>3 → authentication error<\/li> <li>4 → directory error for ftp \/ http DAV<\/li> <li>5 → file dispatch error<\/li> <\/ul> <\/li> <li>Percent of the current send<\/li> <li>Number of files considered<\/li> <li>Number of files sent<\/li> <li>Number of files in error<\/li> <li>Date and hour of the last dispatch (null if none)<\/li> <li>Date and hour of the next dispatch (null if disabled)<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.0",
						"max" : "1.6.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,N,N,N,N,DH,DH"
				],
				"get" : "reader",
				"short" : "Get send state for dispatch",
				"desc" : [
					"Get send state for dispatch N (from 1 to send_nb) : <ol> <li> State of the current send : <ul> <li>0 → idle<\/li> <li>1 → connecting<\/li> <li>2 → login<\/li> <li>3 → busy<\/li> <li>4 → disconnecting<\/li> <\/ul> <\/li> <li> Result of the last send : <ul> <li>0 → no dispatch done<\/li> <li>1 → last dispatch was ok<\/li> <li>2 → server error<\/li> <li>3 → authentication error<\/li> <li>4 → directory error for ftp \/ http DAV<\/li> <li>5 → file dispatch error<\/li> <li>6 → proxy server error <b>(added in 1.6.0)<\/b><\/li> <\/ul> <\/li> <li>Percent of the current send<\/li> <li>Number of files considered<\/li> <li>Number of files sent<\/li> <li>Number of files in error<\/li> <li>Date and hour of the last dispatch (null if none)<\/li> <li>Date and hour of the next dispatch (null if disabled)<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.3",
						"max" : "1.7.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,N,N,N,N,DH,DH"
				],
				"get" : "reader",
				"short" : "Get send state for dispatch",
				"desc" : [
					"Get send state for dispatch N (from 1 to send_nb) : <ol> <li> State of the current send : <ul> <li>0 → idle<\/li> <li>1 → connecting<\/li> <li>2 → login<\/li> <li>3 → busy<\/li> <li>4 → disconnecting<\/li> <li>5 → waiting <b>(added in 1.6.3)<\/b><\/li> <\/ul> <\/li> <li> Result of the last send : <ul> <li>0 → no dispatch done<\/li> <li>1 → last dispatch was ok<\/li> <li>2 → server error<\/li> <li>3 → authentication error<\/li> <li>4 → directory error for ftp \/ http DAV<\/li> <li>5 → file dispatch error<\/li> <li>6 → proxy server error <b>(added in 1.6.0)<\/b><\/li> <\/ul> <\/li> <li>Percent of the current send<\/li> <li>Number of files considered<\/li> <li>Number of files sent<\/li> <li>Number of files in error<\/li> <li>Date and hour of the last dispatch (null if none)<\/li> <li>Date and hour of the next dispatch (null if disabled)<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.7.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,N,N,N,N,DH,DH,N,N,N,N"
				],
				"get" : "reader",
				"short" : "Get send state for dispatch",
				"desc" : [
					"Get send state for dispatch N (from 1 to send_nb) : <ol> <li> State of the current send : <ul> <li>0 → idle<\/li> <li>1 → connecting<\/li> <li>2 → login<\/li> <li>3 → busy<\/li> <li>4 → disconnecting<\/li> <li>5 → waiting <b>(added in 1.6.3)<\/b><\/li> <\/ul> <\/li> <li> Result of the last send : <ul> <li>0 → no dispatch done<\/li> <li>1 → last dispatch was ok<\/li> <li>2 → server error<\/li> <li>3 → authentication error<\/li> <li>4 → directory error for ftp \/ http DAV<\/li> <li>5 → file dispatch error<\/li> <li>6 → proxy server error <b>(added in 1.6.0)<\/b><\/li> <\/ul> <\/li> <li>Percent of the current send<\/li> <li>Number of files considered<\/li> <li>Number of files sent<\/li> <li>Number of files in error<\/li> <li>Date and hour of the last dispatch (null if none)<\/li> <li>Date and hour of the next dispatch (null if disabled)<\/li> <li>Total number of successful dispatches <b>(added in 1.7.0)<\/b><\/li> <li>Total number of failed dispatches <b>(added in 1.7.0)<\/b><\/li> <li>Daily number of successful dispatches <b>(added in 1.7.0)<\/b><\/li> <li>Daily number of failed dispatches <b>(added in 1.7.0)<\/b><\/li> <\/ol>"
				]
			}
		],
		"send_check_N" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Check dispatch N parameters",
			"desc" : [
				"Check parameters for dispatch N (from 1 to send_nb)<br> (check <b>do not<\/b> send files)"
			]
		},
		"send_test_N" : {
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Test dispatch N",
			"desc" : [
				"Test send for dispatch N (from 1 to send_nb)<br> (test <b>do<\/b> send files)"
			]
		},
		"send_remote" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C"
			],
			"reply" : [
				"C"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Enable or disable remote server",
			"desc" : [
				"Enable or disable remote server : <ol> <li> Enable remote server : <ul> <li>0 → disabled<\/li> <li>1 → enabled<\/li> <\/ul> <\/li> <\/ol>"
			]
		},
		"send_remote_state" : [
			{
				"flavour" : [
					{
						"max" : "1.4.2"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N"
				],
				"get" : "reader",
				"short" : "Get remote connection state",
				"desc" : [
					"Get remote connection state : <ol> <li> State : <ul> <li>0 → connection is off<\/li> <li>1 → connection is running<\/li> <li>2 → connection is off, last connection was OK<\/li> <li>3 → connection is off, last connection failed<\/li> <\/ul> <\/li> <li>Delay in seconds before next connection<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.4.2",
						"max" : "1.6.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N"
				],
				"get" : "reader",
				"short" : "Get remote connection state",
				"desc" : [
					"Get remote connection state : <ol> <li> State : <ul> <li>0 → connection is off<\/li> <li>1 → connection is running<\/li> <li>2 → connection is off, last connection was OK<\/li> <li>3 → connection is off, last connection failed<\/li> <li>4 → connection is off, there was an error during last connection <b>(added in 1.4.2)<\/b><\/li> <\/ul> <\/li> <li>Delay in seconds before next connection<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N"
				],
				"get" : "reader",
				"short" : "Get remote connection state",
				"desc" : [
					"Get remote connection state : <ol> <li> State : <ul> <li>0 → connection is off<\/li> <li>1 → connection is running<\/li> <li>2 → connection is off, last connection was OK<\/li> <li>3 → connection is off, last connection failed<\/li> <li>4 → connection is off, there was an error during last connection <b>(added in 1.4.2)<\/b><\/li> <li>5 → connection is off, last connection was denied by server <b>(added in 1.6.0)<\/b><\/li> <\/ul> <\/li> <li>Delay in seconds before next connection<\/li> <\/ol>"
				]
			}
		],
		"send_remote_test" : [
			{
				"cat" : "cmd",
				"cmd" : [
					""
				],
				"reply" : [
					"OK"
				],
				"set" : "admin",
				"short" : "Connect to remote server now"
			},
			{
				"cat" : "cmd",
				"cmd" : [
					"T,N"
				],
				"reply" : [
					"OK"
				],
				"set" : "super",
				"short" : "Connect to remote server now",
				"desc" : [
					"Connect to the remote server at the specified address : <ol> <li>server address<\/li> <li>server port (usually 9000)<\/li> <\/ol>"
				]
			}
		],
		"send_udp" : {
			"cat" : "config",
			"cmd" : [
				"",
				"N,T,N"
			],
			"reply" : [
				"N,T,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set udp dispatch parameters",
			"desc" : [
				"Get or Set udp dispatch parameters : <ol> <li>Udp id<\/li> <li>Udp send address<\/li> <li>Udp send port<\/li> <\/ol>"
			]
		},
		"push_nb" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N"
			],
			"get" : "reader",
			"short" : "Get number of push available"
		},
		"push_config_N" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"B,N,N,N,N,N,T"
			],
			"reply" : [
				"B,N,N,N,N,N,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set configuration for push",
			"desc" : [
				"Get or Set configuration for push N (from 1 to push_nb) : <ol> <li> Options : <ul> <li> Protocol option : <ul> <li>0x0 → disabled<\/li> <li>0x1 → http push<\/li> <\/ul> <\/li> <li> Extra options : <ul> <li>0x10 → Remove name from answer<\/li> <li>0x20 → Make a request to IMAGE? instead of CONFIG?<\/li> <li>0x40 → Free running send period<\/li> <li>0x80 → disable log<\/li> <\/ul> <\/li> <\/ul> <\/li> <li> Period in minutes, for example : <ul> <li>1 → every minute<\/li> <li>15 → every quarter<\/li> <li>60 → every hour<\/li> <li>1440 → every day<\/li> <li>10080 → every week<\/li> <\/ul> <\/li> <li> Weekday : <ul> <li>0 → sunday<\/li> <li>1 → monday<\/li> <li>...<\/li> <li>6 → saturday<\/li> <\/ul> <\/li> <li> Reference hour in minutes from the begining of the day, for example : <ul> <li>0 → 0:00<\/li> <li>480 → 8:00<\/li> <li>817 → 13:37<\/li> <li>1439 → 23:59<\/li> <\/ul> <\/li> <li>Delay between tries in minutes<\/li> <li>Number of try to do<\/li> <li>Data to push is the result of API commands separated with | with the <b>reader<\/b> level <b>(max 128 characters)<\/b><\/li> <\/ol>"
			]
		},
		"push_address_N" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T,N,T"
			],
			"reply" : [
				"T,N,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set send address for push",
			"desc" : [
				"Get or Set send address for push N (from 1 to push_nb) : <ol> <li>Server address <b>(max 64 characters)<\/b><\/li> <li>Server port<\/li> <li>Url to dispatch to <b>(max 128 characters)<\/b><\/li> <\/ol>"
			]
		},
		"push_login_N" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set send login for push",
			"desc" : [
				"Get or Set send login for push N (from 1 to push_nb)<br> <b>(max 32 characters)<\/b>"
			]
		},
		"push_pass_N" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"T"
			],
			"reply" : [
				"T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set send password for push",
			"desc" : [
				"Get or Set send password for push N (from 1 to push_nb)<br> <b>(max 32 characters)<\/b>"
			]
		},
		"push_state_N" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,C,N,N,N,N,DH,DH"
			],
			"get" : "reader",
			"short" : "Get state for push",
			"desc" : [
				"Get send state for push N (from 1 to push_nb) : <ol> <li> State of the current push : <ul> <li>0 → idle<\/li> <li>1 → connecting<\/li> <li>2 → busy<\/li> <li>3 → disconnecting<\/li> <li>4 → waiting<\/li> <\/ul> <\/li> <li> Result of the last push : <ul> <li>0 → no push done<\/li> <li>1 → last push was ok<\/li> <li>2 → server error<\/li> <li>3 → authentication error<\/li> <li>4 → server reply error<\/li> <li>5 → proxy server error<\/li> <\/ul> <\/li> <li>Total number of successful pushes<\/li> <li>Total number of failed pushes<\/li> <li>Daily number of successful pushes<\/li> <li>Daily number of failed pushes<\/li> <li>Date and hour of the last push (null if none)<\/li> <li>Date and hour of the next push (null if disabled)<\/li> <\/ol>"
			]
		},
		"push_test_N" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Test push N",
			"desc" : [
				"Test send for push N (from 1 to push_nb)"
			]
		}
	},
	{
		"title" : "Modbus server",
		"desc" : [
			"API commands for the LoRa Modbus server",
			"Modbus server exposes many real-time state parameters to Modbus clients"
		],
		"modbus_config" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"B"
			],
			"reply" : [
				"B"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set modbus configuration",
			"desc" : [
				"Get or Set modbus server configuration : <ol> <li> Options (bit mask) : <ul> <li><b>0x01<\/b> → enable modbus server<\/li> <li><b>0x10<\/b> → allow modification of state from modbus client<\/li> <li><b>0x20<\/b> → allow modification of configuration from modbus client<\/li> <\/ul> <\/li> <\/ol>"
			]
		},
		"modbus_state" : {
			"flavour" : [
				{
					"min" : "1.7.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get send state for modbus",
			"desc" : [
				"Get send state for modbus server : <ol> <li> State of the server : <ul> <li>0 → off<\/li> <li>1 → idle<\/li> <li>2 → busy<\/li> <\/ul> <\/li> <li>Total number of successful queries<\/li> <li>Total number of failed queries<\/li> <li>Daily number of successful queries<\/li> <li>Daily number of failed queries<\/li> <\/ol>"
			]
		}
	},
	{
		"title" : "IO extension board",
		"desc" : [
			"API commands for the IO extension board",
			"The IO extension board is available for both 2D and 3D sensors and it provides : <ul> <li>An RS232 port<\/li> <li>2 outputs (numbered 1 and 2)<\/li> <li>2 inputs (numbered 1 and 2)<\/li> <\/ul>"
		],
		"ext_io_rs232" : [
			{
				"flavour" : [
					{
						"max" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"C,N,N,C"
				],
				"reply" : [
					"C,N,N,C"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set RS232 port configuration",
				"desc" : [
					"Get or set RS232 port configuration : <ol> <li> RS232 configuration : <ul> <li>0 → off<\/li> <li>1 → counting input \/ output (9600 bauds, 'E'=entry, 'S'=exit, 'X'=alive)<\/li> <li>2 → sign display, full mode<\/li> <li>3 → sign display, fast mode (shows only occupancy)<\/li> <li>4 → numeric display, show entries<\/li> <li>5 → numeric display, show exits<\/li> <li>6 → numeric display, show occupancy<\/li> <li>7 → numeric display, show crossings (entries + exits)<\/li> <\/ul> <\/li> <li>Number of digits for numeric display (usually 4)<\/li> <li>Period in second for full sign mode<\/li> <li> Language setting for sign display : <ul> <li>0 → english<\/li> <li>1 → french<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"C,N,N,C",
					"C,N,N,C,C,T"
				],
				"reply" : [
					"C,N,N,C,C,T"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or set RS232 port configuration",
				"desc" : [
					"Get or set RS232 port configuration : <ol> <li> RS232 configuration : <ul> <li>0 → off<\/li> <li>1 → counting input \/ output (9600 bauds, 'E'=entry, 'S'=exit, 'X'=alive)<\/li> <li>2 → sign display, full mode<\/li> <li>3 → sign display, fast mode (shows only occupancy)<\/li> <li>4 → numeric display, show entries<\/li> <li>5 → numeric display, show exits<\/li> <li>6 → numeric display, show occupancy<\/li> <li>7 → numeric display, show crossings (entries + exits)<\/li> <\/ul> <\/li> <li>Number of digits for numeric display (usally 4)<\/li> <li>Period in second for full sign mode<\/li> <li> Language setting for sign display : <ul> <li>0 → english<\/li> <li>1 → french<\/li> <\/ul> <\/li> <li> Save data to sdcard <b>(added in 1.3.0)<\/b> : <ul> <li>0 → no save<\/li> <li>1 → save data in counting file (needs also <b>counting input\/output<\/b> mode)<\/li> <\/ul> <\/li> <li>Name of channel in counting file (<b>max 32 characters<\/b>) <b>(added in 1.3.0)<\/b><\/li> <\/ol>"
				]
			}
		],
		"ext_io_out" : {
			"cat" : "config",
			"cmd" : [
				"",
				"C,C,N"
			],
			"reply" : [
				"C,C,N"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set output configuration",
			"desc" : [
				"Get or Set output configuration : <ol> <li> Output 1 mode : <ul> <li>0 → off<\/li> <li>1 → entries NC (1 pulse = 1 entry)<\/li> <li>2 → entries NO (1 pulse = 1 entry)<\/li> <li>3 → exits NC (1 pulse = 1 exit)<\/li> <li>4 → exits NO (1 pulse = 1 exit)<\/li> <li>5 → crossings NC (1 pulse = 1 crossing)<\/li> <li>6 → crossing NO (1 pluse = 1 crossing)<\/li> <li>7 → threshold NC (activated when threshold is exceeded)<\/li> <li>8 → threshold NO (activated when threshold is exceeded)<\/li> <\/ul> <\/li> <li>Output 2 mode (same as output 1)<\/li> <li>Pulse duration in ms (minimum value is 50 ms, maximum value is 1000 ms by 50 ms step)<\/li> <\/ol>"
			]
		},
		"ext_io_in" : [
			{
				"flavour" : [
					{
						"max" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"C,C,N,N"
				],
				"reply" : [
					"C,C,N,N"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set input configuration",
				"desc" : [
					"Get or Set input configuration : <ol> <li> Input 1 mode : <ul> <li>0 → off<\/li> <li>1 → entries NC (1 pulse = 1 entry)<\/li> <li>2 → entries NO (1 pulse = 1 entry)<\/li> <li>3 → exits NC (1 pulse = 1 exit)<\/li> <li>4 → exits NO (1 pulse = 1 exit)<\/li> <li>5 → inhib input NC (disable counting when activated)<\/li> <li>6 → inhib input NO (disable counting when activated)<\/li> <\/ul> <\/li> <li>Input 2 mode (same as input 1)<\/li> <li>Min time in ms to validate input (minimum value is 50 ms, maximum value is 1000 ms by 50 ms step)<\/li> <li>Delay in ms before repeat (0 = no repeat, maximum value is 5000 ms by 50 ms step)<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.0"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"C,C,N,N",
					"C,C,N,N,C,T"
				],
				"reply" : [
					"C,C,N,N,C,T"
				],
				"get" : "reader",
				"set" : "admin",
				"short" : "Get or Set input configuration",
				"desc" : [
					"Get or Set input configuration : <ol> <li> Input 1 mode : <ul> <li>0 → off<\/li> <li>1 → entries NC (1 pulse = 1 entry)<\/li> <li>2 → entries NO (1 pulse = 1 entry)<\/li> <li>3 → exits NC (1 pulse = 1 exit)<\/li> <li>4 → exits NO (1 pulse = 1 exit)<\/li> <li>5 → inhib input NC (disable counting when activated)<\/li> <li>6 → inhib input NO (disable counting when activated)<\/li> <\/ul> <\/li> <li>Input 2 mode (same as input 1)<\/li> <li>Min time in ms to validate input (minimum value is 50 ms, maximum value is 1000 ms by 50 ms step)<\/li> <li>Delay in ms before repeat (0 = no repeat, maximum value is 5000 ms by 50 ms step)<\/li> <li> Save data to sdcard <b>(added in 1.3.0)<\/b> : <ul> <li>0 → no save<\/li> <li>1 → save data in counting file<\/li> <\/ul> <\/li> <li>Name of channel in counting file (<b>max 32 characters<\/b>) <b>(added in 1.3.0)<\/b><\/li> <\/ol>"
				]
			}
		],
		"ext_io_state" : [
			{
				"flavour" : [
					{
						"max" : "1.3.1"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,C,C,C"
				],
				"get" : "reader",
				"short" : "Get IO board state",
				"desc" : [
					"Get IO board state : <ol> <li> Board state : <ul> <li>0 → no board detected<\/li> <li>1 → board is detected<\/li> <\/ul> <\/li> <li> RS232 state : <ul> <li>0 → RS232 device is OK<\/li> <li>1 → RS232 device is not OK<\/li> <\/ul> <\/li> <li> Input 1 raw state : <ul> <li>0 → open<\/li> <li>1 → closed<\/li> <\/ul> <\/li> <li>Input 2 raw state (same as input 1)<\/li> <li> Input inhib state : <ul> <li>0 → no inhib<\/li> <li>1 → inhib enabled<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.1",
						"max" : "1.4.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,C,C,C,C,C"
				],
				"get" : "reader",
				"short" : "Get IO board state",
				"desc" : [
					"Get IO board state : <ol> <li> Board state : <ul> <li>0 → no board detected<\/li> <li>1 → board is detected<\/li> <\/ul> <\/li> <li> RS232 state : <ul> <li>0 → RS232 device is OK<\/li> <li>1 → RS232 device is not OK<\/li> <\/ul> <\/li> <li> Input 1 raw state : <ul> <li>0 → open<\/li> <li>1 → closed<\/li> <\/ul> <\/li> <li>Input 2 raw state (same as input 1)<\/li> <li> Input inhib state : <ul> <li>0 → no inhib<\/li> <li>1 → inhib enabled<\/li> <\/ul> <\/li> <li> Output 1 raw state <b>(added in 1.3.1)<\/b> : <ul> <li>0 → open<\/li> <li>1 → closed<\/li> <\/ul> <\/li> <li>Output 2 raw state (same as output 1) <b>(added in 1.3.1)<\/b><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.4.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,C,C,C,C,C,C"
				],
				"get" : "reader",
				"short" : "Get IO board state",
				"desc" : [
					"Get IO board state : <ol> <li> Board state : <ul> <li>0 → no board detected<\/li> <li>1 → board is detected<\/li> <li>2 → board failure <b>(added in 1.4.0)<\/b><\/li> <\/ul> <\/li> <li> RS232 state : <ul> <li>0 → RS232 device is OK<\/li> <li>1 → RS232 device is not OK<\/li> <\/ul> <\/li> <li> Input 1 raw state : <ul> <li>0 → open<\/li> <li>1 → closed<\/li> <\/ul> <\/li> <li>Input 2 raw state (same as input 1)<\/li> <li> Input inhib state : <ul> <li>0 → no inhib<\/li> <li>1 → inhib enabled<\/li> <\/ul> <\/li> <li> Output 1 raw state <b>(added in 1.3.1)<\/b> : <ul> <li>0 → open<\/li> <li>1 → closed<\/li> <\/ul> <\/li> <li>Output 2 raw state (same as output 1) <b>(added in 1.3.1)<\/b><\/li> <\/ol>"
				]
			}
		],
		"ext_io_out_test" : {
			"cat" : "cmd",
			"cmd" : [
				"N"
			],
			"reply" : [
				"N"
			],
			"set" : "admin",
			"short" : "Test ouput N",
			"desc" : [
				"Toggle ouput N for test : <ol> <li>N → 1 to test output 1<\/li> <li>N → 2 to test output 2<\/li> <\/ol>"
			]
		},
		"ext_io_rs232_counting" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get counting state from RS232",
			"desc" : [
				"Get counting state from RS232 : <ol> <li> Status : <ul> <li>0 → ok<\/li> <li>1 → disabled<\/li> <li>2 → error<\/li> <\/ul> <\/li> <li>Entry sum<\/li> <li>Exit sum<\/li> <li>Daily entry sum<\/li> <li>Daily exit sum<\/li> <\/ol>"
			]
		},
		"ext_io_in_counting" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"C,N,N,N,N"
			],
			"get" : "reader",
			"short" : "Get counting state from input",
			"desc" : [
				"Get counting state from input : <ol> <li> Status : <ul> <li>0 → ok<\/li> <li>1 → disabled<\/li> <li>2 → error<\/li> <\/ul> <\/li> <li>Entry sum<\/li> <li>Exit sum<\/li> <li>Daily entry sum<\/li> <li>Daily exit sum<\/li> <\/ol>"
			]
		}
	},
	{
		"title" : "LoRa extension board",
		"desc" : [
			"API commands for the LoRa extension board",
			"The LoRa board is available for both 2D and 3D sensors and it can dispatch data and state to LoRa networks"
		],
		"ext_lora_net_id" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,C,T"
			],
			"reply" : [
				"C,C,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set network id",
			"desc" : [
				"Get or Set network id : <ol> <li> Type of network : <ul> <li>0 → private<\/li> <li>1 → public<\/li> <\/ul> <\/li> <li> Type of the Id : <ul> <li>0 → binary<\/li> <li>1 → string<\/li> <\/ul> <\/li> <li>Network Id (16bits in binary or 128max in string)<\/li> <\/ol>"
			],
			"example" : [
				{
					"cmd" : "0,1,0123456789ABCDEF",
					"reply" : "0,1,0123456789ABCDEF",
					"desc" : "set a binary loRa key \"0123456789ABCDEF\" for a private network"
				},
				{
					"reply" : "1,0,string format key",
					"desc" : "read the current configuration for the LoRa key, which a string containing \"string format key\" for a public network"
				}
			]
		},
		"ext_lora_net_key" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "config",
			"cmd" : [
				"",
				"C,T"
			],
			"reply" : [
				"C,T"
			],
			"get" : "reader",
			"set" : "admin",
			"short" : "Get or Set network key",
			"desc" : [
				"Get or Set network key : <ol> <li> Type of the key : <ul> <li>0 → binary<\/li> <li>1 → string<\/li> <\/ul> <\/li> <li>Network key (32bits in binary or 128max in string)<\/li> <\/ol>"
			]
		},
		"ext_lora_config" : [
			{
				"flavour" : [
					{
						"min" : "1.4.0",
						"max" : "1.6.5"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"C,N,N,C,T"
				],
				"reply" : [
					"C,N,N,C,T"
				],
				"get" : "admin",
				"set" : "reader",
				"short" : "Get or Set LoRa configuration",
				"desc" : [
					"Get or Set LoRa configuration : <ol> <li> Data rate : <ul> <li>0 → slowest (51 bytes payload)<\/li> <li>1 → (51 bytes payload)<\/li> <li>2 → (51 bytes payload)<\/li> <li>3 → (115 bytes payload)<\/li> <li>4 → (242 bytes payload)<\/li> <li>5 → (242 bytes payload)<\/li> <li>6 → fastest (242 bytes payload)<\/li> <\/ul> <\/li> <li> Acknowledgement : <ul> <li>0 → no acknowledgement<\/li> <li>1 to 8 → enable ack, number of tries<\/li> <\/ul> <\/li> <li>Interval to send data in second<\/li> <li> Sent data option : <ul> <li>0 → no option<\/li> <li>1 → remove parameter name for result<\/li> <\/ul> <\/li> <li>Data to send => result of API commands separate by | with the <b>reader<\/b> level <b>(max 128 characters)<\/b><\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.5"
					}
				],
				"cat" : "config",
				"cmd" : [
					"",
					"C,N,N,C,T",
					"C,N,N,C,T,C"
				],
				"reply" : [
					"C,N,N,C,T,C"
				],
				"get" : "admin",
				"set" : "reader",
				"short" : "Get or Set LoRa configuration",
				"desc" : [
					"Get or Set LoRa configuration : <ol> <li> Data rate for <b>EU868<\/b> modem : <ul> <li>-1 → Adaptive data rate<\/li> <li>0 → SF_12BW125 - 51 bytes payload<\/li> <li>1 → SF_11BW125 - 51 bytes payload<\/li> <li>2 → SF_10BW125 - 51 bytes payload<\/li> <li>3 → SF_09BW125 - 115 bytes payload<\/li> <li>4 → SF_08BW125 - 242 bytes payload<\/li> <li>5 → SF_07BW125 - 242 bytes payload<\/li> <\/ul> Data rate for <b>US915<\/b> modem : <ul> <li>-1 → Adaptive data rate<\/li> <li>0 → SF_10BW125 - 11 bytes payload<\/li> <li>1 → SF_09BW125 - 53 bytes payload<\/li> <li>2 → SF_08BW125 - 125 bytes payload<\/li> <li>3 → SF_07BW125 - 242 bytes payload<\/li> <li>4 → SF_08BW500 - 242 bytes payload<\/li> <\/ul> <\/li> <li> Acknowledgement : <ul> <li>0 → no acknowledgement<\/li> <li>1 to 8 → enable ack, number of tries<\/li> <\/ul> <\/li> <li>Interval to send data in second<\/li> <li> Sent data option : <ul> <li>0 → no option<\/li> <li>1 → remove parameter name for result<\/li> <\/ul> <\/li> <li>Data to send => result of API commands separate by | with the <b>reader<\/b> level <b>(max 128 characters)<\/b><\/li> <li> Frequency sub-band (for <b>US915<\/b> modem only) <b>(added in 1.6.5)<\/b> : <ul> <li>0 → hopping of all channels<\/li> <li>1 → channel 1<\/li> <li>2 → channel 2<\/li> <li>3 → channel 3<\/li> <li>4 → channel 4<\/li> <li>5 → channel 5<\/li> <li>6 → channel 6<\/li> <li>7 → channel 7<\/li> <li>8 → channel 8<\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"ext_lora_state" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"N,T,T,T"
			],
			"get" : "reader",
			"short" : "Get LoRa board state",
			"desc" : [
				"Get LoRa board state : <ol> <li> Board state : <ul> <li>0 → no board detected<\/li> <li>1 → board is detected<\/li> <li>2 → board failure<\/li> <li>3 → modem ready<\/li> <li>4 → network joining<\/li> <li>5 → ready to send<\/li> <li>6 → sending<\/li> <\/ul> <\/li> <li>Modem mac<\/li> <li>Modem firmware<\/li> <li>Modem frequency<\/li> <\/ol>"
			]
		},
		"ext_lora_net_state" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"T,N,N,N,N,N,N,N,N,N,DH,DH"
			],
			"get" : "reader",
			"short" : "Get LoRa network state",
			"desc" : [
				"Get LoRa network state : <ol> <li>Network id<\/li> <li>Busy time (s)<\/li> <li>Rssi (dBm)<\/li> <li>Snr<\/li> <li>Total send try counter<\/li> <li>Total send skip counter<\/li> <li>Total send OK counter<\/li> <li>Daily send try counter<\/li> <li>Daily send skip counter<\/li> <li>Daily send OK counter<\/li> <li>Last dispatch date<\/li> <li>Next dispatch date<\/li> <\/ol>"
			]
		},
		"ext_lora_restart" : {
			"flavour" : [
				{
					"min" : "1.4.1"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Restart LoRa board"
		},
		"ext_lora_rejoin" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Force rejoin network",
			"desc" : [
				"Force rejoin network. If the board is already connected, it will be disconnected from the current network"
			]
		},
		"ext_lora_sendnow" : {
			"flavour" : [
				{
					"min" : "1.4.0"
				}
			],
			"cat" : "cmd",
			"cmd" : [
				""
			],
			"reply" : [
				"OK"
			],
			"set" : "admin",
			"short" : "Dispatch data now"
		}
	},
	{
		"title" : "Device update",
		"desc" : [
			"API commands for device update",
			"The firmware is uploaded through a POST request on special page <a href=\"#section_http_special\" onclick=\"show_tab('section_http');\">\/REPROG?<\/a>. <span class=\"user_super\">Super<\/span> authentication is required to perform such operation."
		],
		"version_flash" : [
			{
				"flavour" : [
					{
						"max" : "1.3.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"J"
				],
				"get" : "reader",
				"short" : "Get information about main firmware",
				"desc" : [
					"Get information (in JSON format) about current <b>main<\/b> firmware stored in <b>flash<\/b> : <ol> <li>Version : version of the firmware<\/li> <li>Date : date of the firmware<\/li> <li> Bit : FPGA bitstream : <ul> <li>size : bitstream size<\/li> <li>md5 : bitstream md5 sum<\/li> <\/ul> <\/li> <li> Elf\/elf1\/elf2 : Software program(s) : <ul> <li>size : program size<\/li> <li>md5 : program md5 sum<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"J"
				],
				"get" : "reader",
				"short" : "Get information about main firmware",
				"desc" : [
					"Get information (in JSON format) about current <b>main<\/b> firmware stored in <b>flash<\/b> : <ol> <li>Type : type of sensor <b>(added in 1.3.0)<\/b><\/li> <li>Version : version of the firmware<\/li> <li>Date : date of the firmware<\/li> <li> Bit : FPGA bitstream : <ul> <li>size : bitstream size<\/li> <li>md5 : bitstream md5 sum<\/li> <\/ul> <\/li> <li> Elf\/elf1\/elf2 : Software program(s) : <ul> <li>size : program size<\/li> <li>md5 : program md5 sum<\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"version_rescue" : {
			"flavour" : [
				{
					"min" : "1.3.1"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"J"
			],
			"get" : "reader",
			"short" : "Get information about rescue firmware",
			"desc" : [
				"Get information (in JSON format) about current <b>rescue<\/b> firmware stored in <b>flash<\/b> : <ol> <li>Type : type of sensor<\/li> <li>Version : version of the firmware<\/li> <li>Date : date of the firmware<\/li> <li> Bit : FPGA bitstream : <ul> <li>size : bitstream size<\/li> <li>md5 : bitstream md5 sum<\/li> <\/ul> <\/li> <li> Elf\/elf1\/elf2 : Software program(s) : <ul> <li>size : program size<\/li> <li>md5 : program md5 sum<\/li> <\/ul> <\/li> <\/ol>"
			]
		},
		"reprog_version" : [
			{
				"flavour" : [
					{
						"max" : "1.3.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"J"
				],
				"get" : "reader",
				"short" : "Get information about uploaded main firmware",
				"desc" : [
					"Get information (in JSON format) about uploaded <b>main<\/b> firmware stored in <b>RAM<\/b> : <ol> <li>Version : version of the firmware<\/li> <li>Date : date of the firmware<\/li> <li> Bit : FPGA bitstream : <ul> <li>size : bitstream size<\/li> <li>md5 : bitstream md5 sum<\/li> <\/ul> <\/li> <li> Elf\/elf1\/elf2 : Software program(s) : <ul> <li>size : program size<\/li> <li>md5 : program md5 sum<\/li> <\/ul> <\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.0"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"J"
				],
				"get" : "reader",
				"short" : "Get information about uploaded main firmware",
				"desc" : [
					"Get information (in JSON format) about uploaded <b>main<\/b> firmware stored in <b>RAM<\/b> : <ol> <li>Type : type of sensor <b>(added in 1.3.0)<\/b><\/li> <li>Version : version of the firmware<\/li> <li>Date : date of the firmware<\/li> <li> Bit : FPGA bitstream : <ul> <li>size : bitstream size<\/li> <li>md5 : bitstream md5 sum<\/li> <\/ul> <\/li> <li> Elf\/elf1\/elf2 : Software program(s) : <ul> <li>size : program size<\/li> <li>md5 : program md5 sum<\/li> <\/ul> <\/li> <\/ol>"
				]
			}
		],
		"reprog_rescue" : {
			"flavour" : [
				{
					"min" : "1.3.1"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"J"
			],
			"get" : "reader",
			"short" : "Get information about uploaded rescue firmware",
			"desc" : [
				"Get information (in JSON format) about uploaded <b>rescue<\/b> firmware stored in <b>RAM<\/b> : <ol> <li>Type : type of sensor<\/li> <li>Version : version of the firmware<\/li> <li>Date : date of the firmware<\/li> <li> Bit : FPGA bitstream : <ul> <li>size : bitstream size<\/li> <li>md5 : bitstream md5 sum<\/li> <\/ul> <\/li> <li> Elf\/elf1\/elf2 : Software program(s) : <ul> <li>size : program size<\/li> <li>md5 : program md5 sum<\/li> <\/ul> <\/li> <\/ol>"
			]
		},
		"reprog_state" : [
			{
				"flavour" : [
					{
						"max" : "1.3.1"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,T"
				],
				"get" : "reader",
				"short" : "Get state of the updating process",
				"desc" : [
					"Get state of the updating process : <ol> <li> State : <ul> <li>0 → off<\/li> <li>1 → error in uploaded firmware<\/li> <li>2 → receiving new firmware<\/li> <li>3 → calculating md5<\/li> <li>4 → ready for updating<\/li> <li>5 → erasing flash<\/li> <li>6 → writing flash<\/li> <li>7 → checking flash<\/li> <li>8 → error during updating<\/li> <li>9 → update successful, ready for restart<\/li> <\/ul> <\/li> <li>Percent of the current state<\/li> <li>Uploaded firmware size<\/li> <li>Uploaded firmware md5 sum<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.1",
						"max" : "1.6.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,T"
				],
				"get" : "reader",
				"short" : "Get state of the updating process",
				"desc" : [
					"State of the updating process : <ol> <li> State : <ul> <li>0 → off<\/li> <li>1 → error in uploaded firmware<\/li> <li>2 → receiving new firmware<\/li> <li>3 → calculating md5<\/li> <li>4 → ready for updating<\/li> <li>5 → analyzing flash <b>(modified in 1.3.1)<\/b><\/li> <li>6 → writing flash<\/li> <li>7 → checking flash<\/li> <li>8 → error during updating<\/li> <li>9 → update successful, ready for restart<\/li> <\/ul> <\/li> <li>Percent of the current state<\/li> <li>Uploaded firmware size<\/li> <li>Uploaded firmware md5 sum<\/li> <\/ol>"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.6.3"
					}
				],
				"cat" : "state",
				"cmd" : [
					""
				],
				"reply" : [
					"C,N,N,T"
				],
				"get" : "reader",
				"short" : "Get state of the updating process",
				"desc" : [
					"State of the updating process : <ol> <li> State : <ul> <li>0 → off<\/li> <li>1 → error in uploaded firmware<\/li> <li>2 → receiving new firmware<\/li> <li>3 → calculating md5<\/li> <li>4 → ready for updating<\/li> <li>5 → analyzing flash <b>(modified in 1.3.1)<\/b><\/li> <li>6 → writing flash<\/li> <li>7 → checking flash<\/li> <li>8 → error during updating<\/li> <li>9 → update successful, ready for restart<\/li> <li>10 → firmware type error <b>(added in 1.6.3)<\/b><\/li> <\/ul> <\/li> <li>Percent of the current state<\/li> <li>Uploaded firmware size<\/li> <li>Uploaded firmware md5 sum<\/li> <\/ol>"
				]
			}
		],
		"reprog_start" : [
			{
				"flavour" : [
					{
						"max" : "1.3.1"
					}
				],
				"cat" : "cmd",
				"cmd" : [
					""
				],
				"reply" : [
					"OK"
				],
				"set" : "super",
				"short" : "Start update process",
				"desc" : [
					"Starting updating of the firmware. Reprog_state must be in state 4 before sending this command"
				]
			},
			{
				"flavour" : [
					{
						"min" : "1.3.1"
					}
				],
				"cat" : "cmd",
				"cmd" : [
					"",
					"full"
				],
				"reply" : [
					"OK"
				],
				"set" : "super",
				"short" : "Start update process",
				"desc" : [
					"Starting updating of the firmware. Reprog_state must be in state 4 before sending this command.<br> By default only modified part of the flash are updated.<br> When <b>full<\/b> option is used, whole flash is updated and type check (added in 1.6.3) is also by-passed. <b>This option should be used only is very special case<\/b>"
				]
			}
		]
	},
	{
		"title" : "Image",
		"desc" : [
			"Image can be get through with a GET request on special page <a href=\"#section_http_special\" onclick=\"show_tab('section_http');\">\/IMAGE?<\/a>. Several options are available, options can be combined with & separator :",
			"Default options are : <ul> <li>sensor<\/li> <li>jpeg=1<\/li> <li>full<\/li> <\/ul>",
			"Starting with version 1.6.0 <a href=\"#section_api_privacy\" onclick=\"show_api('privacy');\">privacy<\/a> configuration can override some parameters."
		],
		"raw" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get raw image",
			"desc" : [
				"Get raw image (with optical correction). For 3D sensor, this is the same image as left raw image."
			]
		},
		"raw_l" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get left raw image",
			"desc" : [
				"Get left raw image (without optical correction). This is the same image as raw image."
			]
		},
		"raw_r" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get right raw image",
			"desc" : [
				"Get right raw image (without optical correction)."
			]
		},
		"raw_rl" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get right + left raw images",
			"desc" : [
				"Get right + left raw images (without optical correction)."
			]
		},
		"sensor" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get sensor image",
			"desc" : [
				"Get sensor image (with optical correction). For 3D sensor, this is the same image as left sensor image."
			]
		},
		"sensor_l" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get left sensor image",
			"desc" : [
				"Get left sensor image (with optical correction). This is the same image as sensor."
			]
		},
		"sensor_r" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get right sensor image",
			"desc" : [
				"Get right sensor image (with optical correction)."
			]
		},
		"sensor_rl" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get right + left sensor images",
			"desc" : [
				"Get right + left sensor images (with optical correction)."
			]
		},
		"sensor_raw" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get left image + stereo raw image",
			"desc" : [
				"left image (with optical correction) + stereo raw image."
			]
		},
		"stereo_raw" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get stereo raw image",
			"desc" : [
				"Get stereo unfiltered raw depthmap. Depth are encoded according to sensor_range scale information."
			]
		},
		"stereo" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get stereo image",
			"desc" : [
				"Get stereo depthmap image. Depth are encoded according to sensor_range scale information."
			]
		},
		"ground_init" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get ground image",
			"desc" : [
				"Get ground depthmap. Depth are encoded according to sensor_range scale information."
			]
		},
		"ground_proj" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get ground projected image",
			"desc" : [
				"Get ground projected depthmap. Depth are encoded according to sensor_range scale information."
			]
		},
		"heat" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get heatmap image",
			"desc" : [
				"Get heatmap image."
			]
		},
		"clip" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Get clip image",
			"desc" : [
				"Get clip distance image. Distance are encoded according to sensor_range scale information."
			]
		},
		"full" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Set full size image",
			"desc" : [
				"Image returned will be in full size. For example, full size is 768x480 for 2D sensor image."
			]
		},
		"half" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Set half size image",
			"desc" : [
				"Image returned will be in resized by 50%. For example, half size is 384x240 for 2D sensor image."
			]
		},
		"tiny" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Set tiny size image",
			"desc" : [
				"Image returned will be in resized by 25%. For example, half size is 192x120 for 2D sensor image."
			]
		},
		"jpeg" : {
			"cat" : "state",
			"cmd" : [
				"C"
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Set compression level",
			"desc" : [
				"Image returned will be in JPEG format. This command set the compression level for jpeg format : <ul> <li>0 → lowest compression (biggest image)<\/li> <li>1 → low compression<\/li> <li>2 → average compression<\/li> <li>3 → highest compression (smallest image)<\/li> <\/ul>"
			]
		},
		"bmp" : {
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Set bitmap image format",
			"desc" : [
				"Image returned will be in bitmap format. Some images will be returned in RLE encoded bitmap"
			]
		},
		"bmp_norle" : {
			"flavour" : [
				{
					"min" : "1.5.0"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Set bitmap image format",
			"desc" : [
				"Image returned will be in uncompressed bitmap format."
			]
		},
		"gzip" : {
			"flavour" : [
				{
					"type" : "SX3D"
				}
			],
			"cat" : "state",
			"cmd" : [
				""
			],
			"reply" : [
				"_<i>[image]<\/i>"
			],
			"get" : "reader",
			"short" : "Enable Gzip compression",
			"desc" : [
				"For bitmap images, returned data will be compressed using gzip compression. Gzip compression is slow but quite efficient with depth images."
			]
		}
	}
]
;
		// dom functions
var app_dom = (function()
{
	'use strict';

	// show a dom element
	var show = function(id)
	{
		var elm = document.getElementById(id);
		if (elm)
		{
			if (elm.hasAttribute('hidden'))
				elm.removeAttribute('hidden');
		}
	};

	// hide a dom element
	var hide = function(id)
	{
		var elm = document.getElementById(id);
		if (elm)
		{
			if (!elm.hasAttribute('hidden'))
				elm.setAttribute('hidden', ' ');
		}
	};

	// toggle a dom element
	var toggle = function(id)
	{
		var elm = document.getElementById(id);
		if (elm)
		{
			if (elm.hasAttribute('hidden'))
				elm.removeAttribute('hidden');
			else
				elm.setAttribute('hidden', ' ');
		}
	};

	// add a class to a dom element
	var class_add = function(id, class_name)
	{
		var elm = document.getElementById(id);
		if (elm)
		{
			if (!elm.classList.contains(class_name))
				elm.classList.add(class_name);
		}
	};

	// remove a class from a dom element
	var class_del = function(id, class_name)
	{
		var elm = document.getElementById(id);
		if (elm)
		{
			if (elm.classList.contains(class_name))
				elm.classList.remove(class_name);
		}
	};

	// get element value
	var get_value = function(id)
	{
		var elm = document.getElementById(id);
		if (elm)
		{
			if (elm.type=='checkbox')		// checkbox
			{
				if (elm.checked)
					return 1;
				else
					return 0;
			}
			else									// other inputs
				return elm.value.trim();
		}

		return null;
	};

	var set_value = function(id, value)
	{
		var elm = document.getElementById(id);
		if ((elm) && (null !== value))
		{
			if (elm.type=='checkbox')				// checkbox
			{
				if ((value === true) || (value === false))
					elm.checked = value;
				else if (parseInt(value, 10))
					elm.checked = true;
				else
					elm.checked = false;
			}
			else if (elm.type=='text')				// text input
				elm.value = value;
			else if (elm.type=='select-one')		// select input
				elm.value = value;
			else											// html element
				elm.innerHTML = value;
		}
	};

	// return public methods
	return {
		show:				show,
		hide: 			hide,
		toggle:			toggle,
		class_add:		class_add,
		class_del:		class_del,
		get_value:		get_value,
		set_value:		set_value
	};
})();

// Display cmd/reply with hints
function display_cmd_reply_hint(name, data)
{
	// just name

	if (0 == data.length)
		return name;

	// special reply start with '_'

	if (0 == data.search('_'))
		return data.slice(1);

	// parse data to add hint

	t_html = name + '=';
	var t_split = data.split(',');

	for(var i in t_split)
	{
		if (i>0)
			t_html += ',';

		if (t_split[i]=='N')
			t_html += '<span class="hint--top" data-hint="Decimal number">N</span>';
		else if (t_split[i]=='X')
			t_html += '<span class="hint--top" data-hint="Hexadecimal number">X</span>';
		else if (t_split[i]=='T')
			t_html += '<span class="hint--top" data-hint="Text">T</span>';
		else if (t_split[i]=='I')
			t_html += '<span class="hint--top" data-hint="IP v4 address (format xxx.xxx.xxx.xxx)">I</span>';
		else if (t_split[i]=='M')
			t_html += '<span class="hint--top" data-hint="MAC address (format xx-xx-xx-xx-xx-xx)">M</span>';
		else if (t_split[i]=='D')
			t_html += '<span class="hint--top" data-hint="Date (ISO format YYYY-MM-DD)">D</span>';
		else if (t_split[i]=='H')
			t_html += '<span class="hint--top" data-hint="Hour (ISO format HH:MM:SS)">H</span>';
		else if (t_split[i]=='DH')
			t_html += '<span class="hint--top" data-hint="Date + Hour (ISO format YYYY-MM-DD HH:MM:SS)">DH</span>';
		else if (t_split[i]=='C')
			t_html += '<span class="hint--top" data-hint="Config value">C</span>';
		else if (t_split[i]=='B')
			t_html += '<span class="hint--top" data-hint="Bit mask value">B</span>';
		else if (t_split[i]=='J')
			t_html += '<span class="hint--top" data-hint="Json data">J</span>';
		else
			t_html += t_split[i];
	}

	return t_html
}

// convert level to number
function convert_user_level(level)
{
	if ('undefined' !== typeof level)
	{
		if ('none' == level)
			return 0;
		else if ('reader' == level)
			return 1;
		else if ('user' == level)
			return 2;
		else if ('admin' == level)
			return 3;
		else if ('super' == level)
			return 4;
		else if ('eurecam' == level)
			return 5;
	}

	return 6;
}

// header for table for api
function build_api_header()
{
	var t_html = '<thead>';
	t_html += '<tr>';
	t_html += '<th>Category</th>';
	t_html += '<th>Request(s)</th>';
	t_html += '<th>Answer(s)</th>';
	t_html += '<th>Description<br>(click for full description)</th>';
	t_html += '<th>User</th>';
	t_html += '<th>Version</th>';
	t_html += '</td>';
	t_html += '</thead>';
	t_html += '<tbody>';

	return t_html;
}

// get property anchor name
function get_anchor_name(name)
{
	// replace space and & by '_'

	var t_res = name.replace(new RegExp('[ \r\n\t&]', 'g'), '_');

	// replace accent
	// https://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript

	t_res.normalize('NFD').replace(new RegExp('[\u0300-\u036f]', 'g'), '');

	// lower case

	return t_res.toLowerCase();
}

// compare version, return true if ok
// if min is defined version >= min
// if max is defined version < max
function check_version(version, min, max)
{
	var t_version = version.split(/[^0-9]+/);

	// compare against min

	if ('undefined'!==typeof min)
	{
		var t_min = min.split(/[^0-9]+/);
		for(var i in t_version)
		{
			if (i<t_min.length)
			{
				if (t_version[i]<t_min[i])
					return false;

				if (t_version[i]>t_min[i])
					break;
			}
		}

		// equal is OKAY
	}

	// compare against max

	if ('undefined'!==typeof max)
	{
		t_max = max.split(/[^0-9]+/);
		for(var i in t_version)
		{
			if (i<t_max.length)
			{
				if (t_version[i]>t_max[i])
					return false;

				if (t_version[i]<t_max[i])
					return true;
			}
		}

		// equal is not OKAY

		return false;
	}

	return true;
}

// check flavour against filter
// return false if flavour does not match
// return filtered flavour otherwise
function check_flavour_filter(flavour, filter)
{
	// no filter

	if ('undefined'===typeof filter)
		return flavour;

	// check against version type

	var t_flavour_type = null;
	var t_flavour_min = null;
	var t_flavour_max = null;

	if ('undefined'!==typeof filter.type)
	{
		// if undefined, all types are accepted

		if (('undefined'!==typeof flavour.type) && (filter.type!==flavour.type))
			return false;

		// filtered type is null
	}
	else
	{
		if ('undefined'!==typeof flavour.type)
			t_flavour_type  = flavour.type;
	}

	// check against version

	if ('undefined'!==typeof filter.version)
	{
		if (false==check_version(filter.version, flavour.min, flavour.max))
			return false;

		// filtered min / max are null
	}
	else
	{
		if ('undefined'!==typeof flavour.min)
			t_flavour_min  = flavour.min;

		if ('undefined'!==typeof flavour.max)
			t_flavour_min  = flavour.max;
	}

	return flavour;
}

// build flavour display
function build_api_flavour(flavour, filter)
{
	var t_html = '';

	if ('undefined'!==typeof flavour)
	{
		// check again flavour

		if (flavour.length)
		{
			var t_ok = false;
			for(var index in flavour)
			{
				if (false!==check_flavour_filter(flavour[index], filter))
					t_ok = true;
			}

			if (false===t_ok)
				return false;
		}

		// display matching flavouring

		var t_index = 0;
		for(var index in flavour)
		{
			// filter flavour

			var t_flavour = check_flavour_filter(flavour[index], filter);
			if ((false===t_flavour) || (null===t_flavour))
				continue;

			// display

			if (t_index>0)
				t_html += '<br>';

			if (('undefined'!==typeof t_flavour.min) && ('undefined'!==typeof t_flavour.max))
			{
				// min and max

				if ('undefined'!==typeof t_flavour.type)
					t_html += t_flavour.type;

				t_html += ' &ge;' + t_flavour.min;
				t_html += ' and';
				t_html += ' &lt;' + t_flavour.max;
			}
			else
			{
				// min or max

				if ('undefined'!==typeof t_flavour.type)
					t_html += t_flavour.type;

				if ('undefined'!==typeof t_flavour.min)
					t_html += ' &ge;' + t_flavour.min;

				if ('undefined'!==typeof t_flavour.max)
					t_html += ' &lt;' + t_flavour.max;
			}

			t_index++;
		}
	}

	if (0==t_html.length)
		t_html = 'All';

	return t_html;
}

// build table for api
function build_api_table(nb, name, property, filter)
{
	// check against category

	if ('undefined'!==typeof filter.cat)
	{
		// must match

		if (('undefined'===typeof property.cat) || (filter.cat!==property.cat))
			return '';
	}

	// check against name

	if ('undefined'!==typeof filter.name)
	{
		if (-1 == name.search(filter.name))
			return '';
	}

	// check against level

	if ('undefined'!==typeof filter.level)
	{
		var t_level_set = convert_user_level(property.set);
		var t_level_get = convert_user_level(property.get);
		if ((filter.level<t_level_set) && (filter.level<t_level_get))
			return '';
	}

	// check against flavour

	var t_flavour = build_api_flavour(property.flavour, filter);
	if (false===t_flavour)
		return '';

	var t_id_desc = name+'_full_description_'+nb;

	var t_row_color = 'table-odd';
	if (nb%2)
		var t_row_color = 'table-even';

	var t_html = '<tr class="'+t_row_color+'">';

	// add category

	t_html += '<td class="center">';

	if ('undefined'!==typeof property.cat)
		t_html +=  property.cat;
	t_html += '</td>';

	// add commands (array)

	t_html += '<td>';

	if (('undefined'!==typeof property.cmd) && (Array.isArray(property.cmd)))
	{
		for(var index in property.cmd)
		{
			if (index>0)
				t_html += '<br>';
			t_html += display_cmd_reply_hint(name, property.cmd[index]);
		}
	}

	t_html += '</td>';

	// add replies (array)

	t_html += '<td>';

	if (('undefined'!==typeof property.reply) && (Array.isArray(property.reply)))
	{
		for(var index in property.reply)
		{
			if (index>0)
				t_html += '<br>';
			t_html += display_cmd_reply_hint(name, property.reply[index]);
		}
	}

	t_html += '</td>';

	// add desc (array)

	t_html += '<td class="table-click" onclick="app_dom.toggle(\''+t_id_desc+'\');">';

	if ('undefined'!==typeof property.short)
		t_html += property.short;

	t_html += '</td>';

	// add auth

	t_html += '<td class="center">';

	if (('undefined' !== typeof property.set) && ('undefined' !== typeof property.get))
	{
		t_html += 'get = <span class="user_' + property.get + '">' + property.get + '</span>';
		t_html += '<br>';
		t_html += 'set = <span class="user_' + property.set + '">' + property.set + '</span>';
	}
	else if ('undefined' !== typeof property.get)
		t_html += '<span class="user_' + property.get + '">' + property.get + '</span>';
	else if ('undefined' !== typeof property.set)
		t_html += '<span class="user_' + property.set + '">' + property.set + '</span>';

	t_html += '</td>';

	// display flavour

	t_html += '<td class="center">';
	t_html += t_flavour;
	t_html += '</td>';
	t_html += '</td>';

	// display full description

	t_html += '<tr class="table-example">';
	t_html += '<td colspan="6" id="'+t_id_desc+'" class="table-click" onclick="dom_hide(\''+t_id_desc+'\');" hidden>';

	if (('undefined'!==typeof property.desc) && (Array.isArray(property.desc)))
	{
		for(var index in property.desc)
			t_html += property.desc[index];
	}
	else if ('undefined'!==typeof property.short)
		t_html += property.short;

	// show examples

	if (('undefined'!==typeof property.example) && (Array.isArray(property.example)))
	{
		t_html += '<p>Example(s) :</p>';

		for(var index in property.example)
		{
			t_html += '<table>';
			t_html += '<thead><tr>';
			t_html += '<th>Request</th>';
			t_html += '<th>Reply</th>';

			if ('undefined'!==typeof property.example[index].desc)
				t_html += '<th>Comment</th>';

			t_html += '</tr></thead>';
			t_html += '<tbody><tr>';

			t_html += '<td>';
			t_html += name;
			if ('undefined'!==typeof property.example[index].cmd)
				t_html += '=' + property.example[index].cmd;
			t_html += '</td>';

			t_html += '<td>';
			t_html += name;
			if ('undefined'!==typeof property.example[index].reply)
				t_html += '=' + property.example[index].reply;
			t_html += '</td>';

			if ('undefined'!==typeof property.example[index].desc)
			{
				t_html += '<td>';
				t_html += property.example[index].desc;
				t_html += '</td>';
			}

			t_html += '</tr></tbody>';
			t_html += '</table>';

			t_html += '<br>';
		}
	}

	t_html += '</td>';
	t_html += '</tr>';

	return t_html;
}

// build section
function build_api_section(property, filter)
{
	var t_html = '<h2 id=\"section_api_'+ get_anchor_name(property.title)+'">' + property.title + '</h2>';

	if (('undefined'!==typeof property.desc) && (Array.isArray(property.desc)))
	{
		for(var index in property.desc)
		{
			t_html += '<p>';
			t_html += property.desc[index];
			t_html += '</p>';
		}
	}

	// build API

	var t_api_nb = 0;
	var t_html_tr = '';

	t_html += '<table class="pure-table pure-table-bordered">';
	t_html += build_api_header();

	for(var key in property)
	{
		if (('title'===key) || ('desc'===key))
			continue;

		if (Array.isArray(property[key]))
		{
			for(var index in property[key])
			{
				t_html_tr = build_api_table(t_api_nb, key, property[key][index], filter);
				if (t_html_tr.length)
				{
					t_html += t_html_tr;
					t_api_nb++;
				}
			}
		}
		else
		{
			t_html_tr = build_api_table(t_api_nb, key, property[key], filter);
			if (t_html_tr.length)
			{
				t_html += t_html_tr;
				t_api_nb++;
			}
		}
	}

	t_html += '</table>';

	if (t_api_nb==0)
		return '';

	return t_html;
}

// build documentation

function reset_api_doc()
{
	app_dom.set_value('filter_api_type', '');
	app_dom.set_value('filter_api_version', '1.7.0');
	app_dom.set_value('filter_api_cat', '');
	app_dom.set_value('filter_api_level', '');
	app_dom.set_value('filter_api_name', '');

	update_api_doc();
}

function update_api_doc()
{
	// build filter

	var t_filter = {};

	var t_filter_type = app_dom.get_value('filter_api_type');
	if (t_filter_type)
		t_filter.type = t_filter_type;

	var t_filter_version = app_dom.get_value('filter_api_version');
	if (t_filter_version)
		t_filter.version = t_filter_version;

	var t_filter_cat = app_dom.get_value('filter_api_cat');
	if (t_filter_cat)
		t_filter.cat = t_filter_cat;

	var t_filter_level = app_dom.get_value('filter_api_level');
	if (t_filter_level)
		t_filter.level = t_filter_level;

	var t_filter_name = app_dom.get_value('filter_api_name');
	if (t_filter_name)
		t_filter.name = t_filter_name;

	// update doc

	var t_index= '<ul>';
	var t_html = '';

	if (null!==g_api_doc)
	{
		for(var key in g_api_doc)
		{
			var t_html_section = build_api_section(g_api_doc[key], t_filter);
			if (t_html_section.length)
			{
				t_html += t_html_section;
				t_html += '<p class="center"><a href="#section_api">back to command list</a></p>';

				t_index += '<li><a href="#section_api_'+get_anchor_name(g_api_doc[key].title)+'">' + g_api_doc[key].title + '</a></li>';
			}
		}
	}

	t_index += '</ul>';

	app_dom.set_value('index_content', t_index);
	app_dom.set_value('section_content', t_html);
}

// change tab style
function change_tab_style(tab, name)
{
	if (name.indexOf(tab)==0)
	{
		app_dom.show(tab);
		app_dom.class_del(tab+'_tab', 'sub-menu-unselected');
		app_dom.class_add(tab+'_tab', 'sub-menu-selected');
		app_dom.class_add(tab+'_tr', 'table-selected');

		return true;
	}

	app_dom.hide(tab);
	app_dom.class_del(tab+'_tab', 'sub-menu-selected');
	app_dom.class_add(tab+'_tab', 'sub-menu-unselected');
	app_dom.class_del(tab+'_tr', 'table-selected');

	return false;
}

// change tab
function show_tab(name)
{
	var t_result = false;

	t_result |= change_tab_style('section_intro',		name);
	t_result |= change_tab_style('section_version',		name);
	t_result |= change_tab_style('section_udp',			name);
	t_result |= change_tab_style('section_http',			name);
	t_result |= change_tab_style('section_parameters',	name);
	t_result |= change_tab_style('section_api',			name);
	t_result |= change_tab_style('section_dispatch',	name);
	t_result |= change_tab_style('section_file',			name);
	t_result |= change_tab_style('section_dst',			name);

	// no matching section found, display intro tab !

	if (!t_result)
		change_tab_style('section_intro', 'section_intro');
}

// show api command
function show_api(name)
{
	app_dom.set_value('filter_api_cat', '');
	app_dom.set_value('filter_api_level', '');
	app_dom.set_value('filter_api_name', name);
	update_api_doc();

	show_tab('section_api');
	parent.location.hash = 'section_api_'+name;
}

// show file command
function show_file(name)
{
	change_tab_style('section_file_counting', name);
	change_tab_style('section_file_occupancy', name);
	change_tab_style('section_file_area', name);
	change_tab_style('section_file_line', name);
	change_tab_style('section_file_track', name);
	change_tab_style('section_file_log', name);
	change_tab_style('section_file_config', name);
	change_tab_style('section_file_image', name);
	change_tab_style('section_file_depth', name);

	show_tab('section_file');
	parent.location.hash = name;
}

window.onload = function()
{
	// build documentation

	update_api_doc();

	// init display

	var t_hash = window.location.hash;
	if (t_hash.indexOf("#")==0)
		t_hash = t_hash.substr(1);

// 	console.log('hash ' + t_hash);

	if (t_hash.indexOf('section_api_')==0)
		show_api(t_hash.substr(12));
	else if (t_hash.indexOf('section_file_')==0)
		show_file(t_hash);
	else
		show_tab(t_hash);
};

	</script>
</head>
<body>
	<div id="main_content">
		<h1>Comptipix 2D / 3D protocol</h1>

		<div class="pure-menu pure-menu-open pure-menu-horizontal center">
			<ul class="pure-menu-list">
				<li id="section_intro_tab" class="pure-menu-item sub-menu-selected cursor-pointer" onclick="show_tab('section_intro');">
					<a href="#">Introduction</a>
				</li>
				<li id="section_version_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_version');">
					<a href="#">Versions</a>
				</li>
				<li id="section_udp_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_udp');">
					<a href="#">UDP Protocols</a>
				</li>
				<li id="section_http_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_http');">
					<a href="#">HTTP Protocol</a>
				</li>
				<li id="section_parameters_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_parameters');">
					<a href="#">Parameters</a>
				</li>
				<li id="section_api_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_api');">
					<a href="#">Command list</a>
				</li>
				<li id="section_dispatch_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_dispatch');">
					<a href="#">Dispatch &amp; Push protocols</a>
				</li>
				<li id="section_file_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_file');">
					<a href="#">File format</a>
				</li>
				<li id="section_dst_tab" class="pure-menu-item sub-menu-unselected cursor-pointer" onclick="show_tab('section_dst');">
					<a href="#">Time and DST Rules</a>
				</li>
			</ul>
		</div>

		<div id="section_intro"><h2>Introduction</h2>

	<div class="msg_warn center">
		<p><b>Warning :</b> All informations in this document are subjected to a NDA agreement.</p>
		<p>PLEASE DO NOT DISTRIBUT !</p>
	</div>

	<p>This document describes UDP and HTTP communication protocols and files used in Comptipix 2D and 3D sensors.
	Its contains all information previously available in 2D/3D API documentations and 2D/3D files documentation :</p>

	<ul>
		<li><a href="#" onclick="show_tab('section_version');">Versions</a> &rarr; Overview of API changes across firmware versions</li>
		<li><a href="#" onclick="show_tab('section_udp');">UDP protocol</a> &rarr; Communication with the sensor using UDP protocol</li>
		<li><a href="#" onclick="show_tab('section_http');">HTTP protocol</a> &rarr; Communication with the sensor using HTTP protocol</li>
		<li><a href="#" onclick="show_tab('section_parameters');">HTTP protocol</a> &rarr; Naming conventions of parameters used in API commands</li>
		<li><a href="#" onclick="show_tab('section_api');">Command list</a> &rarr; List of all API commands</li>
		<li><a href="#" onclick="show_tab('section_dispatch');">Dispatch protocols</a> &rarr; Description of dispatch available in sensor</li>
		<li><a href="#" onclick="show_tab('section_file');">File format</a> &rarr; List of files generated by sensor</li>
		<li><a href="#" onclick="show_tab('section_dst');">Time and DST rules</a> &rarr; Local time and Day light Saving Time (DST) rules defined in sensor</li>
	</ul>

	<h3>Protocol selection table</h3>

	<p>The sensor supports many features, to know which protocol you should use, you could follow this table :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Protocol</th>
				<th>Method</th>
				<th>Available data</th>
				<th>Use</th>
				<th>Recommended for</th>
				<th>Comment</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th class="center">UDP counting</th>
				<td>Listen : Sensor &rarr; Client</td>
				<td>Counting state</td>
				<td>Real time<br>(every second)</td>
				<td>Local network</td>
				<td>Obsolete</td>
			</tr>
			<tr>
				<th class="center">UDP old</th>
				<td>Query : Client &rarr; Sensor</td>
				<td>Counting state</td>
				<td>Real time, low latency<br>(up to several time per second)</td>
				<td>Local network</td>
				<td>Obsolete</td>
			</tr>
			<tr>
				<th class="center">UDP new</th>
				<td>Query : Client &rarr; Sensor</td>
				<td>State &amp; Configuration<br>Image</td>
				<td>Real time, low latency<br>(up to several time per second)</td>
				<td>Local network</td>
				<td>Much faster than HTTP<br>Answer is limited to 64kb</td>
			</tr>
			<tr>
				<th class="center">HTTP protocol</th>
				<td>Query : Client &rarr; Sensor</td>
				<td>State &amp; Configuration<br>Image<br>Data files</td>
				<td>Real time<br>(up to few time per second)</td>
				<td>Local or distant networks</td>
				<td></td>
			</tr>
			<tr>
				<th class="center">FTP/HTTP dispatching</th>
				<td>Dispatch : Sensor &rarr; Server</td>
				<td>Data files</td>
				<td>Periodical dispatching<br>(up to every minute)</td>
				<td>Local or distant networks</td>
				<td>Generate logs (optional)<br>Short dispatching periods may wear sdcard due to regular writing</td>
			</tr>
			<tr>
				<th class="center">HTTP push</th>
				<td>Dispatch : Sensor &rarr; Server</td>
				<td>State &amp; Configuration<br>Image</td>
				<td>Periodical dispatching<br>(up to every minute)</td>
				<td>Local or distant networks</td>
				<td>Generate logs (optional)</td>
			</tr>
			<tr>
				<th class="center">Modbus</th>
				<td>Query : Client &rarr; Sensor</td>
				<td>Counting and occupancy state</td>
				<td>Real time<br>(up to few time per second)</td>
				<td>Local or distant networks</td>
				<td></td>
			</tr>
		</tbody>
	</table>

	<h3>Version of the document</h3>

	<table>
		<thead>
			<tr class="center">
				<th colspan="3">Version of the document</th>
			</tr>
			<tr class="center">
				<th>Date</th>
				<th>Sensor firmware</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="center">2020-04-01</td>
				<td class="center">1.7.0</td>
				<td>
					Reflect API changes for 1.7.0 release<br>
					Add push protocol documentation
				</td>
			</tr>
			<tr>
				<td class="center">2020-02-25</td>
				<td class="center">1.6.5</td>
				<td>
					Reflect API changes for 1.6.5 release<br>
				</td>
			</tr>
			<tr>
				<td class="center">2019-12-26</td>
				<td class="center">1.6.4</td>
				<td>
					Reflect API changes for 1.6.4 release<br>
					Fix numbering of parameter lists in API documentation
				</td>
			</tr>
			<tr>
				<td class="center">2019-10-21</td>
				<td class="center">1.6.3</td>
				<td>
					Reflect API changes for 1.6.3 release
				</td>
			</tr>
			<tr>
				<td class="center">2019-05-27</td>
				<td class="center">1.6.2</td>
				<td>
					Reflect final API changes for 1.6.2 release<br>
					Add dispatch protocols documentation<br>
					Add protocol selection table
					Fix API documentation under chrome browser
				</td>
			</tr>
			<tr>
				<td class="center">2019-04-03</td>
				<td class="center">1.6.2</td>
				<td>First version</td>
			</tr>
		</tbody>
	</table>

	<h3>Legal information</h3>

	<p>This document uses following external librairies :<p>
	<ul>
		<li><a href="https://kushagragour.in/lab/hint/" target="_blank">Hint CSS tooltips</a></li>
		<li><a href="https://purecss.io/" target="_blank">Pure CSS menus</a></li>
	</ul>

	<p class="center"><i>&copy; Eurecam 2019 - Benjamin Silvestre - Tiphaine Kein - Tristan Giovangrandi</i></p>
</div>
		<div id="section_version"><h2>Versions</h2>

	<p>Here is an overview of all API changes across different firmware versions.</p>

	<table>
		<thead class="center">
			<tr>
				<th>Version</th>
				<th>General</th>
				<th>2D sensor specific</th>
				<th>3D sensor specific</th>
			</tr>
<!-- 1.7 -->
			<tr>
				<th colspan="4">1.7 versions</th>
			</tr>
			<tr>
				<th>1.7.0</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_push_nb" onclick="show_api('push_nb');">push_nb</a><br>
					<span class="color_green">add</span> <a href="#section_api_push_config_N" onclick="show_api('push_config_N');">push_config_N</a><br>
					<span class="color_green">add</span> <a href="#section_api_push_address_N" onclick="show_api('push_address_N');">push_address_N</a><br>
					<span class="color_green">add</span> <a href="#section_api_push_login_N" onclick="show_api('push_login_N');">push_login_N</a><br>
					<span class="color_green">add</span> <a href="#section_api_push_pass_N" onclick="show_api('push_pass_N');">push_pass_N</a><br>
					<span class="color_green">add</span> <a href="#section_api_push_state_N" onclick="show_api('push_state_N');">push_state_N</a><br>
					<span class="color_green">add</span> <a href="#section_api_push_test_N" onclick="show_api('push_test_N');">push_test_N</a><br>
					<span class="color_green">add</span> <a href="#section_api_modbus_config" onclick="show_api('modbus_config');">modbus_config</a><br>
					<span class="color_green">add</span> <a href="#section_api_modbus_state" onclick="show_api('modbus_state');">modbus_state</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_state_N" onclick="show_api('send_state_N');">send_state_N</a>
				</td>
				<td></td>
				<td></td>
			</tr>
<!-- 1.6 -->
			<tr>
				<th colspan="4">1.6 versions</th>
			</tr>
			<tr>
				<th>1.6.5</th>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_ext_lora_config" onclick="show_api('ext_lora_config');">ext_lora_config</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.6.4</th>
				<td></td>
				<td></td>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_sensor_fine" onclick="show_api('sensor_fine');">sensor_fine</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_sensor_sync" onclick="show_api('sensor_sync');">sensor_sync</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_sensor_camera_adj" onclick="show_api('sensor_camera_adj');">sensor_camera_adj</a>
				</td>
			</tr>
			<tr>
				<th>1.6.3</th>
				<td>
					<span class="color_green">add</span> <a href="#section_udp_new" onclick="show_tab('section_udp');">0x12 command (UDP)</a><br>
					<span class="color_green">add</span> <a href="#section_udp_new" onclick="show_tab('section_udp');">0x13 command (UDP)</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_config_N" onclick="show_api('send_config_N');">send_config_N</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_state_N" onclick="show_api('send_state_N');">send_state_N</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_reprog_state" onclick="show_api('reprog_state');">reprog_state</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.6.2</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_manager_pass" onclick="show_api('manager_pass');">manager_pass</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_config_N" onclick="show_api('send_config_N');">send_config_N</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.6.1</th>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_privacy" onclick="show_api('privacy');">privacy</a><br>
				</td>
				<td></td>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_led" onclick="show_api('led');">led</a><br>
				</td>
			</tr>
			<tr>
				<th>1.6.0</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_privacy" onclick="show_api('privacy');">privacy</a><br>
					<span class="color_green">add</span> <a href="#section_api_login_reader" onclick="show_api('login_reader');">login_reader</a><br>
					<span class="color_green">add</span> <a href="#section_api_login_user" onclick="show_api('login_user');">login_user</a><br>
					<span class="color_green">add</span> <a href="#section_api_login_admin" onclick="show_api('login_admin');">login_admin</a><br>
					<span class="color_green">add</span> <a href="#section_api_user_state" onclick="show_api('user_state');">user_state</a><br>
					<span class="color_green">add</span> <a href="#section_api_proxy_config" onclick="show_api('proxy_config');">proxy_config</a><br>
					<span class="color_green">add</span> <a href="#section_api_proxy_login" onclick="show_api('proxy_login');">proxy_login</a><br>
					<span class="color_green">add</span> <a href="#section_api_proxy_pass" onclick="show_api('proxy_pass');">proxy_pass</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_state_N" onclick="show_api('send_state_N');">send_state_N</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_remote_state" onclick="show_api('send_remote_state');">send_remote_state</a>
				</td>
				<td></td>
				<td></td>
			</tr>
<!-- 1.5 -->
			<tr>
				<th colspan="4">1.5 versions</th>
			</tr>
			<tr>
				<th>1.5.0</th>
				<td>
					<span class="color_green">add</span> <a href="#section_bmp_norle" onclick="show_api('bmp_norle');">add bmp_norle</a>
				</td>
				<td></td>
				<td>
					<span class="color_green">add</span> <a href="#section_api_sdcard_adult" onclick="show_api('sdcard_adult');">add sdcard_adult</a><br>
					<span class="color_green">add</span> <a href="#section_api_sdcard_child" onclick="show_api('sdcard_child');">add sdcard_child</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_stereo_diff" onclick="show_api('stereo_diff');">stereo_diff</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_line_state" onclick="show_api('line_state');">line_state</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_line_state_N" onclick="show_api('line_state_N');">line_state_N</a>
				</td>
			</tr>
<!-- 1.4 -->
			<tr>
				<th colspan="4">1.4 versions</th>
			</tr>
			<tr>
				<th>1.4.3</th>
				<td></td>
				<td>
					<span class="color_red">remove</span> <a href="#section_sensor_database" onclick="show_api('sensor_database');">sensor_database</a>
				</td>
				<td></td>
			</tr>
			<tr>
				<th>1.4.2</th>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_send_remote_state" onclick="show_api('send_remote_state');">send_remote_state</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.4.1</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_level" onclick="show_api('level');">level</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_restart" onclick="show_api('ext_lora_restart');">ext_lora_restart</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.4.0</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_network_dhcp" onclick="show_api('network_dhcp');">network_dhcp</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_net_id" onclick="show_api('ext_lora_net_id');">ext_lora_net_id</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_net_key" onclick="show_api('ext_lora_net_key');">ext_lora_net_key</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_config" onclick="show_api('ext_lora_config');">ext_lora_config</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_state" onclick="show_api('ext_lora_state');">ext_lora_state</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_net_state" onclick="show_api('ext_lora_net_state');">ext_lora_net_state</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_rejoin" onclick="show_api('ext_lora_rejoin');">ext_lora_rejoin</a><br>
					<span class="color_green">add</span> <a href="#section_api_ext_lora_sendnow" onclick="show_api('ext_lora_sendnow');">ext_lora_sendnow</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_init" onclick="show_api('init');">init</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_led" onclick="show_api('led');">led</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_ext_io_state" onclick="show_api('ext_io_state');">ext_io_state</a>
				</td>
				<td>
					<span class="color_green">add</span> <a href="#section_sdcard_cptx" onclick="show_api('sdcard_cptx');">sdcard_cptx</a>
				</td>
				<td></td>
			</tr>
<!-- 1.3 -->
			<tr>
				<th colspan="4">1.3 versions</th>
			</tr>
			<tr>
				<th>1.3.2</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.3.1</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_version_rescue" onclick="show_api('version_rescue');">version_rescue</a><br>
					<span class="color_green">add</span> <a href="#section_api_reprog_rescue" onclick="show_api('reprog_rescue');">reprog_rescue</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_ext_io_state" onclick="show_api('ext_io_state');">ext_io_state</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_reprog_state" onclick="show_api('reprog_state');">reprog_state</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_reprog_start" onclick="show_api('reprog_start');">reprog_start</a>
				</td>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_line_thres" onclick="show_api('line_thres');">line_thres</a>
				</td>
				<td></td>
			</tr>
			<tr>
				<th>1.3.0</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_version_extra" onclick="show_api('version_extra');">version_extra</a><br>
					<span class="color_green">add</span> <a href="#section_api_ping_request" onclick="show_api('ping_request');">ping_request</a><br>
					<span class="color_green">add</span> <a href="#section_api_ping_reply" onclick="show_api('ping_reply');">ping_reply</a><br>
					<span class="color_green">add</span> <a href="#section_api_version_flash" onclick="show_api('version_flash');">version_flash</a><br>
					<span class="color_green">add</span> <a href="#section_api_reprog_version" onclick="show_api('reprog_version');">reprog_version</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_ext_io_rs232" onclick="show_api('ext_io_rs232');">ext_io_rs232</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_ext_io_in" onclick="show_api('ext_io_in');">ext_io_in</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_sensor_config" onclick="show_api('sensor_config');">sensor_config</a>
				</td>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_sensor_transf" onclick="show_api('sensor_transf');">sensor_transf</a>
				</td>
				<td></td>
			</tr>
<!-- 1.2 -->
			<tr>
				<th colspan="4">1.2 versions</th>
			</tr>
			<tr>
				<th>1.2.4</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.2.3</th>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_network_state" onclick="show_api('network_state');">network_config</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_network_state" onclick="show_api('network_state');">network_state</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.2.2</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.2.1</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.2.0</th>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_sensor_config" onclick="show_api('sensor_config');">sensor_config</a>
				</td>
				<td></td>
				<td></td>
			</tr>
<!-- 1.1 -->
			<tr>
				<th colspan="4">1.1 versions</th>
			</tr>
			<tr>
				<th>1.1.4</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.1.3</th>
				<td>
					<span class="color_yellow">change</span> <a href="#section_api_type" onclick="show_api('type');">type</a><br>
					<span class="color_yellow">change</span> <a href="#section_api_version" onclick="show_api('version');">version</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.1.2</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.1.1</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_state" onclick="show_api('state');">state</a><br>
					<span class="color_green">add</span> <a href="#section_api_state" onclick="show_api('state');">default</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.1.0</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
<!-- 1.0 -->
			<tr>
				<th colspan="4">1.0 versions</th>
			</tr>
			<tr>
				<th>1.0.3</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.0.2</th>
				<td>
					<span class="color_green">add</span> <a href="#section_api_wizard" onclick="show_api('wizard');">wizard</a>
				</td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<th>1.0.1</th>
				<td class="center color_grey" colspan="3">no change</td>
			</tr>
			<tr>
				<th>1.0.0</th>
				<td class="center color_grey" colspan="3">first version</td>
			</tr>
		</thead>
	</table>
</div>
		<div id="section_udp" hidden><h2>UDP Protocols</h2>

	<p>Sensor can send its counting status and be queried using custom UDP protocols.
	New UDP procotol should be used for local applications requiring low latency realtime data.</p>

	<ul>
		<li><a href="#section_udp_counting">Counting data</a></li>
		<li><a href="#section_udp_old">Old UDP protocol</a></li>
		<li><a href="#section_udp_new">New UDP protocol</a></li>
		<li><a href="#section_udp_examples">Examples</a></li>
	</ul>

<h2 id="section_udp_counting">Counting data protocol</h2>

	<p>For compatibilty reason, sensor can send each second counting data :</p>
	<ul>
		<li><a href="#section_udp_counting_param">UDP parameters</a></li>
		<li><a href="#section_udp_counting_packet">Counting packet</a></li>
		<li><a href="#section_udp_counting_example">Example</a></li>
	</ul>

	<h3 id="section_udp_counting_param">UDP parameters</h3>

	<p>When enabled, the sensor sends UDP counting packets every second. In the prolonged lack of counting frames (eg for 10s), the sensor must be considered as in error.</p>
	<p>UDP sending can be configured with <a href="#section_api_send_udp" onclick="show_api('send_udp');">send_udp</a> command. Default values are :</p>
	<ul>
		<li>Sending address : 255.255.255.255</li>
		<li>UDP port : 2000</li>
	</ul>

	<h3 id="section_udp_counting_packet">Counting packet</h3>

	<p>The counting packets is 29 bytes long. The values are big endian type (MSB bytes first) :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Description</th>
				<th>Size (bytes)</th>
				<th>Offset (byte)</th>
				<th>Value</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><span class="color_lemon">Random ID</span></td>
				<td>2</td>
				<td>+0</td>
				<td>various</td>
			</tr>
			<tr class="center">
				<td>Type</td>
				<td>1</td>
				<td>+2</td>
				<td>0x01</td>
			</tr>
			<tr class="center">
				<td><span class="color_light_blue">Entries</span></td>
				<td>2</td>
				<td>+3</td>
				<td>various</td>
			</tr>
			<tr class="center">
				<td><span class="color_light_pink">Exits</span></td>
				<td>2</td>
				<td>+5</td>
				<td>various</td>
			</tr>
			<tr class="center">
				<td>Option size</td>
				<td>1</td>
				<td>+7</td>
				<td>0x04</td>
			</tr>
			<tr class="center">
				<td>Option type</td>
				<td>1</td>
				<td>+8</td>
				<td>0x02</td>
			</tr>
			<tr class="center">
				<td>Option data</td>
				<td>2</td>
				<td>+9</td>
				<td><span class="color_orange">Counting ID</span></td>
			</tr>
			<tr class="center">
				<td>Option size</td>
				<td>1</td>
				<td>+11</td>
				<td>0x12</td>
			</tr>
			<tr class="center">
				<td>Option type</td>
				<td>1</td>
				<td>+12</td>
				<td>0x10</td>
			</tr>
			<tr class="center">
				<td>Option data</td>
				<td>16</td>
				<td>+13</td>
				<td><ul>
					<li>Entries for line 1 (2 bytes)</li>
					<li>Entries for line 2 (2 bytes)</li>
					<li>Entries for line 3 (2 bytes)</li>
					<li>Entries for line 4 (2 bytes)</li>
					<li>Exits for line 1 (2 bytes)</li>
					<li>Exits for line 2 (2 bytes)</li>
					<li>Exits for line 3 (2 bytes)</li>
					<li>Exits for line 4 (2 bytes)</li>
				</ul></td>
			</tr>
		</tbody>
	</table>

	<p><span class="color_lemon">Random ID</span> of a counting packet is a random number generated at the startup.
	It remains constant unless a sensor is turned off, restarted or the counting is reseted (with <a href="#section_api_line_reset" onclick="show_api('line_reset');">line_reset</a> command).<br>

	<p><span class="color_light_blue">Entries</span> (or <span class="color_light_pink">exits</span>) are sum of the entry (or exit) since the start of the sensor.
	These values are encoded in two bytes so they loop back to 0 after 65535.<br>
	&rarr; Calculation of the number of entries or exits between 2 counting packets must therefore so be done in differential.
	This requires some care to not get wrong values when the counters loop back to 0 after 65535 or after a reset (which could be detected by checking <span class="color_lemon">ID</span>).</p>

	<p>The <span class="color_orange">Ccounting ID</span> of the sensor may be used to check the source of the counting data without having to check the IP address of the packet.
	This value is set with <a href="#section_api_send_udp" onclick="show_api('send_udp');">send_udp</a> command :</p>

	<h3 id="section_udp_counting_example">Example</h3>

	<p>Here is an example of a counting packet :</p>

	<div class="msg_code">
<span class="color_lemon hint--top" data-hint="Random ID">AD 14</span><br>
01<br>
<span class="color_light_blue hint--top" data-hint="Entries">00 C3</span><br>
<span class="color_light_pink hint--top" data-hint="Exits">00 AC</span><br>
04 02 <span class="color_orange hint--top" data-hint="Counting ID">00 01</span><br>
12 10 <span class="color_grey hint--top" data-hint="Detailed counting">00 C2 00 01 00 00 00 00 00 A1 00 00 00 0B 00 00</span><br>
	</div>

	<ul>
		<li><span class="color_lemon">Random ID</span> : 0xAD14</li>
		<li><span class="color_light_blue">Entries</span> : 195</li>
		<li><span class="color_light_pink">Exits</span> : 172</li>
		<li><span class="color_orange">Counting ID</span> : 1</li>
		<li><span class="color_grey">Detailed counting</span> :</li>
		<ul>
			<li>Line 1 : 194 / 161</li>
			<li>Line 2 : 1 / 0</li>
			<li>Line 3 : 0 / 11</li>
			<li>Line 4 : 0 / 0</li>
		</ul>
	</ul>

<h2 id="section_udp_old">Old UDP protocol</h2>

	<p>For compatibilty reason, the sensor supports some old UDP commands :</p>
	<ul>
		<li><a href="#section_udp_old_param">UDP parameters</a></li>
		<li><a href="#section_udp_old_packet">UDP packet</a></li>
	</ul>

	<h3 id="section_udp_old_param">UDP parameters</h3>

	<p>UDP paramters for the old protocol are the following :</p>

	<ul>
		<li>sensor listen on UDP port 1600</li>
	</ul>

	<h3 id="section_udp_old_packet">UDP packet</h3>

	<p>The old UDP frames are as this :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Description</th>
				<th>Size (bytes)</th>
				<th>Offset (byte)</th>
				<th>Value</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td>Header</td>
				<td>1</td>
				<td>+0</td>
				<td>0x00</td>
			</tr>
			<tr class="center">
				<td>Command</td>
				<td>1</td>
				<td>+1</td>
				<td>Depends on command</td>
			</tr>
			<tr class="center">
				<td>Data</td>
				<td>Data</td>
				<td>+2</td>
				<td>Depends on command</td>
			</tr>
			<tr class="center">
				<td>Trailer</td>
				<td>1</td>
				<td>+2+data</td>
				<td>0xFF</td>
			</tr>
		</tbody>
	</table>

	<p>Following commands are supported :</p>

	<ul>
		<li>counting data retrieving (0x4F)</li>
		<li>reboot (0x81)</li>
		<li>detection command (0xF0)</li>
	</ul>

	<p>More information about old protocol are in the old protocol document.</p>

<h2 id="section_udp_new">New UDP protocol</h2>

	<p>The protocol allow these features :</p>
	<ul>
		<li>sensor listen on UDP port 1600</li>
		<li>allow unicast and broadcast communication</li>
		<li>sensors are identified by their mac address</li>
		<li>a sequence number identify a command and its answer</li>
		<li>command and answer have differente command number</li>
		<li>a simple CRC allows checking consistancy of data</li>
	</ul>

	<p>A broadcast protocol allows detecting and setting-up a sensor which is in a different sub-network</p>

	<p>The new UDP frames are as this :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Description</th>
				<th>Size (bytes)</th>
				<th>Offset (byte)</th>
				<th>Value</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td>header</td>
				<td>1</td>
				<td>+0</td>
				<td>0x01</td>
			</tr>
			<tr class="center">
				<td>Mac address</td>
				<td>6</td>
				<td>+1</td>
				<td>FF-FF-FF-FF-FF-FF for broadcast command<br>or<br>MAC address of the sensor</td>
			</tr>
			<tr class="center">
				<td>Sequence number</td>
				<td>4</td>
				<td>+7</td>
				<td>User's defined, use at your own convinience</td>
			</tr>
			<tr class="center">
				<td>Command number</td>
				<td>1</td>
				<td>+11</td>
				<td>0x00 - 0x7F  &rarr; commands<br>0x80 - 0xFF &rarr; answers</td>
			</tr>
			<tr class="center">
				<td>Data size</td>
				<td>2</td>
				<td>+12</td>
				<td>Depends on command</td>
			</tr>
			<tr class="center">
				<td>Data</td>
				<td>Data</td>
				<td>+14</td>
				<td>Depends on command</td>
			</tr>
			<tr class="center">
				<td>CRC</td>
				<td>1</td>
				<td>+14+data</td>
				<td>Xor of all previous bytes</td>
			</tr>
		</tbody>
	</table>

	<p>A frame is processed by the sensor only if :</p>
	<ul>
		<li>header is ok (0x1)</li>
		<li>mac address is broadcast or the sensor's mac address</li>
		<li>command number is between 0x00 and 0x7F</li>
		<li>data size = frame size – 15</li>
		<li>CRC is ok (Xor of all bytes = 0x00)</li>
	</ul>

	<p>Answer frame are like this :</p>
	<ul>
		<li>mac address = sensor's mac address</li>
		<li>sequence number is the command's sequence number</li>
		<li>commande number is the command's number + 0x80</li>
	</ul>

	<p>Available command numbers :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Command</th>
				<th>Number</th>
				<th>Reply</th>
				<th>Data</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td>Get/set parameter</td>
				<td>0x11</td>
				<td>0x91</td>
				<td>various</td>
				<td>
					<div class="no_center">
						Same as HTTP request on <a href="#section_http_special" onclick="show_tab('section_http');">/CONFIG?</a> page<br>
						All commands are available except <a href="#section_api_sdcard_read" onclick="show_api('sdcard_read');">sdcard_read</a> command
					</div>
				</td>
			</tr>
			<tr class="center">
				<td>Get image <b>(added in 1.6.3)</b></td>
				<td>0x12</td>
				<td>0x92</td>
				<td>various</td>
				<td>
					<div class="no_center">
						Same as HTTP request on <a href="#section_http_special" onclick="show_tab('section_http');">/IMAGE?</a> page<br>
						&rarr; All options are available except <a href="#section_api_gzip" onclick="show_api('gzip');">gzip</a> option<br>
						&rarr; Please note that <a href="#section_api_privacy" onclick="show_api('privacy');">Privacy</a> configuration may apply some restrictions
					</div>
				</td>

			</tr>
			<tr class="center">
				<td>Send firmware data <b>(added in 1.6.3)</b></td>
				<td>0x13</td>
				<td>0x93</td>
				<td>offset (4 bytes)<br>
				end (1 byte)<br>
				various</td>
				<td>
					<div class="no_center">
						Same as HTTP request on <a href="#section_http_special" onclick="show_tab('section_http');">/REPROG?</a> page<br>
						Due to UDP limitation, firmware must be sent in many small chunks. Offset should be set accordingly to the chunk address.<br>
						Chunk size should equal or less than 4091 bytes.<br>
						Last chunk should be tagged with end = 1, other chunks must have end = 0.
					</div>
				</td>
			</tr>
			<tr class="center">
				<td>Reboot</td>
				<td>0x21</td>
				<td>0xA1</td>
				<td>-</td>
				<td>Same as <a href="#section_api_restart" onclick="show_api('restart');">restart</a> command</td>
			</tr>
			<tr class="center">
				<td>Reset counting </td>
				<td>0x24</td>
				<td>0xA4</td>
				<td>-</td>
				<td>Same as <a href="#section_api_line_reset" onclick="show_api('line_reset');">line_reset</a> command</td>
			</tr>
		</tbody>
	</table>

	<p>Notes :</p>
	<ul>
		<li>no authentication is supported on UDP protocol, authentication level is <span class="user_admin">admin</span> (see <a href="#section_http_level" onclick="show_tab('section_http');">Authentication level</a>)</li>
		<li>UDP frame are limited to 64Kb so answer's data might be cropped if it does not fit</li>
	</ul>

<h2 id="section_udp_examples">Examples</h2>

	<p>Detection command using new UDP protocol :</p>
	<ul>
		<li>0x01</li>
		<li>FF-FF-FF-FF-FF-FF-FF</li>
		<li>sequence number</li>
		<li>0x11 (get/set)</li>
		<li>(size)</li>
		<li>data</li>
		<ul>
			<li>type&amp;version&amp;serial&amp;network_state</li>
		</ul>
		<li>CRC</li>
	</ul>

	<p>Sensor 112004 might answer this :</p>
	<ul>
		<li>0x01</li>
		<li>FC-1F-C0-11-C0-04</li>
		<li>sequence number</li>
		<li>0x91 (get/set reply)</li>
		<li>(size)</li>
		<li>data :</li>
		<ul>
			<li><a href="#section_api_type" onclick="show_api('type');">type</a>=CPX3</li>
			<li><a href="#section_api_version" onclick="show_api('version');">version</a>=1.0.0</li>
			<li><a href="#section_api_serial" onclick="show_api('serial');">serial</a>=112004</li>
			<li><a href="#section_api_network_state" onclick="show_api('network_state');">network_state</a>=192.168.0.100,255.255.255.0,192.168.0.1,0,FC-1F-C0-10-DE-FB</li>
		</ul>
		<li>CRC</li>
	</ul>
</div>
		<div id="section_http" hidden><h2>HTTP Protocol</h2>

	<p>Sensor can be queried using standard HTTP protocol :</p>

	<ul>
		<li><a href="#section_http_overview">Overview</a></li>
		<li><a href="#section_http_special">Special URLs</a></li>
		<li><a href="#section_http_port">HTTP port availables</a></li>
		<li><a href="#section_http_code">HTTP code response</a></li>
		<li><a href="#section_http_token">Authentication by token</a></li>
		<li><a href="#section_http_ip">Authentication by IP</a></li>
		<li><a href="#section_http_level">Authentication levels</a></li>
		<li><a href="#section_http_wget">Wget and Curl examples</a></li>
	</ul>

<h2 id="section_http_overview">Overview</h2>

	<p>All configuration, state and data from sensor can be queried using standard HTTP protocol using GET or POST requests.
	Please note than HTTP protocol has a much higher latency than UDP protocol.</p>
	<p>All API commands are listed in <a href="#" onclick="show_tab('section_api');">Command list</a>.
	Most of commands could be queried using <b>/CONFIG?</b> URL (see <a href="#section_http_special">Special URLs</a>).</p>
	<p>Here a simple example which does not need any authentication :</p>

	<table>
		<tbody>
			<tr>
				<th>Query</th>
				<td class="table-code">GET /CONFIG?serial&amp;rtc_utc_time</td>
			</tr>
			<tr>
				<th>Reply</th>
				<td class="table-code">
serial=9<br>
rtc_utc_time=2018-04-21 07:37:51
				</td>
			</tr>
		</tbody>
	</table>

	<div class="msg_tips">
		<p><b>Tips :</b> A HTTP GET request could be done using a web browser :</p>

		<table>
			<tbody>
				<tr>
					<th>Query</th>
					<td class="table-code">GET /CONFIG?serial&amp;rtc_utc_time</td>
				</tr>
				<tr>
					<th>Browser</th>
					<td class="table-code">http://ip_of_the_sensor/CONFIG?serial&amp;rtc_utc_time</td>
				</tr>
			</tbody>
		</table>
	</div>

	<p>The following example requires a valid token (see <a href="#section_http_token">Authentication</a>) :</p>

	<table>
		<tbody>
			<tr>
				<th>Query</th>
				<td class="table-code">GET /CONFIG?tkn=__TOKEN__&uptime</td>
			</tr>
			<tr>
				<th>Reply</th>
				<td class="table-code">
uptime=169064<br>
				</td>
			</tr>
		</tbody>
	</table>

	<p>Sensor image from sensor can be get using <b>/IMAGE?</b> URL (see <a href="#section_http_special">Special URLs</a>):</p>

	<table>
		<tbody>
			<tr>
				<th>Query</th>
				<td class="table-code">GET /IMAGE?tkn=__TOKEN__</td>
			</tr>
			<tr>
				<th>Reply</th>
				<td class="table-code center">[JPEG image]</td>
			</tr>
		</tbody>
	</table>

<h2 id="section_http_special">Special URLs</h2>

<p>Several special URLs are defined to perform different tasks :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Page</th>
				<th>Description</th>
				<th>Level</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td>/</td>
				<td>Index page, also used for old authentication</td>
				<td><span class="user_none">none</span></td>
			</tr>
			<tr class="center">
				<td>/index.html</td>
				<td>Index page, also used for old authentication</td>
				<td><span class="user_none">none</span></td>
			</tr>
			<tr class="center">
				<td>/login.html</td>
				<td>Index page if user is not authenticated</td>
				<td><span class="user_none">none</span></td>
			</tr>
			<tr class="center">
				<td>/logout.html</td>
				<td>Logout page for authentication</td>
				<td><span class="user_none">none</span></td>
			</tr>
			<tr class="center">
				<td>/CONFIG?</td>
				<td>Configuration API request page</td>
				<td>
					<p><span class="user_reader">reader</span></p>
					<div class="no_center">
						However these requests are always accessible to allow authentication :
						<ul>
							<li>/CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a></li>
							<li>/CONFIG?<a href="#section_api_serial" onclick="show_api('serial');">serial</a>&amp;<a href="#section_api_rtc_utc_time" onclick="show_api('rtc_utc_time');">rtc_utc_time</a></li>
							<li>/CONFIG?<a href="#section_api_serial" onclick="show_api('serial');">serial</a>&amp;<a href="#section_api_type" onclick="show_api('type');">type</a>&amp;<a href="#section_api_version" onclick="show_api('version');">version</a>&amp;<a href="#section_api_rtc_utc_time" onclick="show_api('rtc_utc_time');">rtc_utc_time</a><b> (version &ge; 1.1.3)</b></li>
						</ul>
						&rarr; API commands are listed in <a href="#" onclick="show_tab('section_api');">Command list</a>
					</div>
				</td>
			</tr>
			<tr class="center">
				<td>/IMAGE?</td>
				<td>Sensor image request page</td>
				<td>
					<span class="user_reader">reader</span><br>
					<div class="no_center">
						&rarr; Image commands are listed in <a href="#section_api_image" onclick="show_tab('section_api');">Image command list</a><br>
						&rarr; Please note that <a href="#section_api_privacy" onclick="show_api('privacy');">Privacy</a> configuration may apply some restrictions
					</div>
				</td>
			</tr>
			<tr class="center">
				<td>/REPROG?</td>
				<td>Page to post firmware data</td>
				<td>
					<span class="user_super">super</span>
					<div class="no_center">
						&rarr; firmware data should be in post data<br>
						&rarr; firmware could be send by chunks <b>(added in 1.3.0)</b> using URL parameters /REPROG?offset,end
						<ul>
							<li>offset is the chunk address</li>
							<li>end is 1 for the last chunk and 0 for others</li>
						</ul>
					</div>
				</td>
			</tr>
		</tbody>
	</table>

<h2 id="section_http_port">HTTP port availables</h2>

	<p>There are 3 available ports to use HTTP API :</p>
	<ul>
		<li>80</li>
		<li>1600</li>
		<li>8080</li>
	</ul>

<h2 id="section_http_code">HTTP code response</h2>

	<table>
		<thead>
			<tr class="center">
				<th>HTTP Code</th>
				<th>Meaning</th>
				<th>What to do</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th class="center">200</th>
				<td>Request OK</td>
				<td></td>
			</tr>
			<tr>
				<th class="center">302</th>
				<td>Temporary redirect, happens when login or logout</td>
				<td></td>
			</tr>
			<tr>
				<th class="center">400</th>
				<td>HTTP Request was not understood</td>
				<td>
					HTTP header is malformed → check your request<br>
					Could also be a communication error → try again
				</td>
			</tr>
			<tr>
				<th class="center">401</th>
				<td>Unauthenticated</td>
				<td>You need to authenticate to acces to this resource or do this request</td>
			</tr>
			<tr>
				<th class="center">404</th>
				<td>Resource not found</td>
				<td>The resource does not exist. If your are trying to read a file from SD card, that means the file does not exist.</td>
			</tr>
			<tr>
				<th class="center">418</th>
				<td>Failed to authenticate</td>
				<td>Login or password is wrong</td>
			</tr>
			<tr>
				<th class="center">503</th>
				<td>Resource temporary unavailable</td>
				<td>If your are trying to read a file from SD card, that means the SD card is busy → wait 1s and try again</td>
			</tr>
		</tbody>
	</table>

<h2 id="section_http_token">Authentication by token</h2>

	<p>The authentication method is based on tokens. Tokens are unique, so they allow several clients on the same computer to access to the sensor with different level</p>
	<p>It associates :</p>
	<ul>
		<li>client token</li>
		<li>access level (depends on login used)</li>
		<li>timeout, timeout is reset after each request (current timeout is 15 minutes)</li>
	</ul>

	<table>
		<thead>
			<tr class="center">
				<th></th>
				<th>Request</th>
				<th>Answer</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>Login</th>
				<td>POST /CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a><br>with post data containing user and password "user=X&amp;pass=X"</td>
				<td>HTTP code 200 if successful <b>with the token in response data</b><br>HTTP code 418 if login failed</td>
			</tr>
			<tr>
				<th>Access to protected a resource</th>
				<td>GET url?<a href="#section_api_tkn" onclick="show_api('tkn');">tkn</a>=X or POST url?<a href="#section_api_tkn" onclick="show_api('tkn');">tkn</a>=X<br>GET url?<a href="#section_api_tkn" onclick="show_api('tkn');">tkn</a>=X&amp;... or POST url?<a href="#section_api_tkn" onclick="show_api('tkn');">tkn</a>=X&amp;...<br><i>(tkn=X must be the first parameter)</i></td>
				<td>
					According to authentication :
					<ul>
						<li>if authentication is OK → resource</li>
						<li>if authentication is too low :<li>
						<ul>
						<li>HTTP code 302, redirection to login page for <b>html resource</b></li>
						<li>HTTP code 401 otherwise</li>
						</ul>
					</ul>
				</td>
			</tr>
			<tr>
				<th>Logout</th>
				<td>GET /logout.html?<a href="#section_api_tkn" onclick="show_api('tkn');">tkn</a>=X</td>
				<td>HTTP code 302,redirection to login page</td>
			</tr>
		</tbody>
	</table>

	<p>To allow authentication or <span class="user_super">super</span> authentication on a sensor, the following urls do not request authentication :</p>
	<ul>
		<li>/CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a></li>
		<li>/CONFIG?<a href="#" onclick="show_api('serial');">serial</a>&amp;<a href="#" onclick="show_api('rtc_utc_time');">rtc_utc_time</a></li>
		<li>/CONFIG?<a href="#" onclick="show_api('serial');">serial</a>&amp;<a href="#" onclick="show_api('type');">type</a>&amp;<a href="#" onclick="show_api('version');">version</a>&amp;<a href="#" onclick="show_api('rtc_utc_time');">rtc_utc_time</a><b> (version &ge; 1.1.3)</b></li>
	</ul>

<h2 id="section_http_ip">Authentication by IP (old method for compatibilty)</h2>

	<p>For compatibility, sensor supports old authentication method. Authentication is IP based so several clients on the same computer must share the same access level</p>
	<p>It associates :</p>
	<ul>
		<li>client IP address</li>
		<li>access level (depends on login used)</li>
		<li>timeout, timeout is reset after each request (current timeout is 15 minutes)</li>
	</ul>

	<table>
		<thead>
			<tr class="center">
				<th></th>
				<th>Request</th>
				<th>Answer</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>Login</th>
				<td>POST / with post data "user=X&amp;pass=X"</td>
				<td>HTTP code 200 if successful<br>HTTP code 418 if login failed</td>
			</tr>
			<tr>
				<th>Access to protected a resource</th>
				<td>GET url or POST url</td>
				<td>
					According to authentication :
					<ul>
						<li>if authentication is OK → resource</li>
						<li>if authentication is too low :<li>
						<ul>
						<li>HTTP code 302, redirection to login page for <b>html resource</b></li>
						<li>HTTP code 401 otherwise</li>
						</ul>
					</ul>
				</td>
			</tr>
			<tr>
				<th>Logout</th>
				<td>POST / with erronous login information<br>GET /logout.html</td>
				<td>HTTP code 302,redirection to login page</td>
			</tr>
		</tbody>
	</table>

<h2 id="section_http_level">Authentication levels</h2>

	<p>These levels of authentication are defined :</p>
	<ul>
		<li><span class="user_none">none</span> unauthenticated user</li>
		<li><span class="user_reader">reader</span> password could be changed by admin, default password is "reader"</li>
		<li><span class="user_user">user</span> password could be changed by admin, default password is "user"</li>
		<li><span class="user_admin">admin</span> password could be changed by admin, default password is "admin"</li>
		<li><span class="user_super">super</span> password is calculated according to serial number and UTC date</li>
	</ul>

	<p>This table sums authentication general rules, beware there are some exceptions as specified in Special pages for example :</p>

	<table>
		<thead>
			<tr class="center">
				<th>User</th>
				<th>Configuration</th>
				<th>State</th>
				<th>Commands</th>
				<th>Image</th>
				<th>Reprog</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><span class="user_none">none</span></td>
				<td><span class="color_ko">KO</span></td>
				<td><span class="color_ko">KO</span></td>
				<td><span class="color_ko">KO</span></td>
				<td><span class="color_ko">KO</span></td>
				<td><span class="color_ko">KO</span></td>
			</tr>
			<tr class="center">
				<td><span class="user_reader">reader</span></td>
				<td>get only</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ko">KO</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ko">KO</span></td>
			</tr>
			<tr class="center">
				<td><span class="user_user">user</span></td>
				<td>get only</td>
				<td><span class="color_ok">OK</span></td>
				<td>time, occupancy</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ko">KO</span></td>
			</tr>
			<tr class="center">
				<td><span class="user_admin">admin</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ko">KO</span></td>
			</tr>
			<tr class="center">
				<td><span class="user_super">super</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
		</tbody>
	</table>

<h2 id="section_http_wget">Wget and Curl query examples</h2>

	<p>Wget and Curl are command line utilities which could be used to query the sensor using HTTP protocol.</p>

	<h3>Get a file</h3>

	<p>Examples using Wget or Curl to retrieve a data file. We assume that sensor IP address is 192.168.0.100, password for login user is “user” and we want the counting file for 2015-06-26.</p>

	<p><b>Step 1 : get token</b></p>
	<p>In this step we have to use post data to set user and password and get a token :</p>

	<table>
		<tbody>
			<tr>
				<th>Wget</th>
				<td class="table-code">wget --post-data "user=user&amp;pass=user" "http://192.168.0.100/CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a>"</td>
			</tr>
			<tr>
				<th>Curl</th>
				<td class="table-code">curl -d "user=user&amp;pass=user" "http://192.168.0.100/CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a>"</td>
			</tr>
		</tbody>
	</table>

	<p><b>Step 2 : (OPTIONAL) check file info</b></p>
	<p>We will check that file exist, before try to download it.<br>
	<i>[YOUR_TOKEN]</i> is the token you retrieved with preceding request (a typical token is a random string like “d3621f07”)</p>

	<table>
		<tbody>
			<tr>
				<th>Wget</th>
				<td class="table-code">wget "http://192.168.0.100/CONFIG?tkn=<i>[YOUR_TOKEN]</i>&amp;<a href="#section_api_sdcard_info" onclick="show_api('sdcard_info');">sdcard_info</a>=20150626.csv" --output-document=20150626_result.txt</td>
			</tr>
			<tr>
				<th>Curl</th>
				<td class="table-code">curl "http://192.168.0.100/CONFIG?tkn=<i>[YOUR_TOKEN]</i>&amp;<a href="#section_api_sdcard_info" onclick="show_api('sdcard_info');">sdcard_info</a>=20150626.csv"</td>
			</tr>
		</tbody>
	</table>

	<p>We assume the response is “sdcard_info=222260,2015-06-26,17:33:00”.<br>&rarr; It means that file exists, size is 222260 bytes, last write the 015-06-26 at 17:33:00</p>
	<p>If response is “sdcard_info=-1,,” it means that file does not exist and you can stop here</p>

	<p><b>Step 3 : Get the file</b></p>

	<table>
		<tbody>
			<tr>
				<th>Wget</th>
				<td class="table-code">wget "http://192.168.0.100/CONFIG?tkn=<i>[YOUR_TOKEN]</i>&amp;<a href="#section_api_sdcard_read" onclick="show_api('sdcard_read');">sdcard_read</a>=20150626.csv" --output-document=20150626.csv</td>
			</tr>
			<tr>
				<th>Curl</th>
				<td class="table-code">curl "http://192.168.0.100/CONFIG?tkn=<i>[YOUR_TOKEN]</i>&amp;<a href="#section_api_sdcard_read" onclick="show_api('sdcard_read');">sdcard_read</a>=20150626.csv" -o 20150626.csv</td>
			</tr>
		</tbody>
	</table>

	<h3>Query the state of all dispatching</h3>

	<p>Example using Wget to retrieve the status of all dispatching. We assume that sensor IP address is 192.168.0.100, password for login user is “user”.</p>

	<p><b>Step 1 : Get token</b></p>
	<p>In this step we have to use post data to set user and password and get a token :</p>

	<table>
		<tbody>
			<tr>
				<th>Wget</th>
				<td class="table-code">wget --post-data "user=user&amp;pass=user" "http://192.168.0.100/CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a>"</td>
			</tr>
			<tr>
				<th>Curl</th>
				<td class="table-code">curl -d "user=user&amp;pass=user" "http://192.168.0.100/CONFIG?<a href="#section_api_get_tkn" onclick="show_api('get_tkn');">get_tkn</a>"</td>
			</tr>
		</tbody>
	</table>

	<p><b>Step 2 : Query the state of all dispatchs</b></p>
	<p><i>[YOUR_TOKEN]</i> is the token you retrieved with preceding request (a typical token is a random string like “d3621f07”)</p>

	<table>
		<tbody>
			<tr>
				<th>Wget</th>
				<td class="table-code">wget "http://192.168.0.100/CONFIG?tkn=<i>[YOUR_TOKEN]</i>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_1</a>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_2</a>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_3</a>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_4</a>" --output-document=all_dispatching_state.txt</td>
			</tr>
			<tr>
				<th>Curl</th>
				<td class="table-code">curl "http://192.168.0.100/CONFIG?tkn=<i>[YOUR_TOKEN]</i>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_1</a>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_2</a>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_3</a>&amp;<a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_4</a>" -o all_dispatching_state.txt</td>
			</tr>
		</tbody>
	</table>

	<p><b>Step 3 :</b> Read result</p>
	<p>Read the file all_dispatching_state.txt → see command list : <a href="#section_api_send_state_" onclick="show_api('send_state_');">send_state_N</a></p>
</div>
		<div id="section_parameters" hidden><h2>Parameters</h2>

	<p>API commands allow set or get parameters, this section describes conventions and limits.</p>

	<ul>
		<li><a href="#section_parameters_name">Naming Convention</a></li>
		<li><a href="#section_parameters_size">Character and text max size</a></li>
	</ul>

<h2 id="section_parameters_name">Naming Convention</h2>

	<ul>
		<li>N → Decimal number</li>
		<li>X → Hexadecimal number (example : "F1C6")</li>
		<li>T → Text, see associated description for maximum size</li>
		<li>I → IP v4 address (format XXX.XXX.XXX.XXX)</li>
		<li>M → MAC address (XX-XX-XX-XX-XX-XX)</li>
		<li>D → Date (in ISO format YYYY-MM-DD)</li>
		<li>H → Hour (in ISO format HH:MM:SS )</li>
		<li>DH → Date + Hour (in ISO format YYYY-MM-DD HH:MM:SS)</li>
		<li>C → config value, see associated description</li>
		<li>B → config bit value, see associated description</li>
		<li>J → Json data, see associated description</li>
		<li>others → see associated description</li>
	</ul>

	<p>User column is the level needed to access this parameter (see authentication level).</p>

<h2 id="section_parameters_size">Character and text max size</h2>

	<p>For text parameters like passwords or sdcard_site, a "character max size" information is given. This is the maximum length (including null ending char) for an ASCII char.
	In UTF8 encoding, beware that some chars has a length of 2, 3 or 4 bytes (comparing to 1 byte ASCII char).</p>

	<p>Notice that Comptipix clips the string to the maximum available size.
	For parameters other than passwords you can re-read the value after setting it to check no clipping was done.
	For password, you can’t read it, so you have to check the size before setting it.</p>

	<p>Examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>String</th>
				<th>Byte length</th>
				<th>Note</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td>Hello</td>
				<td>5 + 1</td>
				<td>5 ASCII char (1 byte each)<br>+ null char</td>
			</tr>
			<tr class="center">
				<td>Café</td>
				<td>5 + 1</td>
				<td>3 ASCII char (1 byte each)<br>+ 1 UTF8 char (2 bytes)<br>+ null char</td>
			</tr>
			<tr class="center">
				<td>国</td>
				<td>3 + 1</td>
				<td>1 UTF8 char (3 bytes)<br>+ null char</td>
			</tr>
			<tr class="center">
				<td>Hello 你好 ?</td>
				<td>14 + 1</td>
				<td>
					8 ASCII char (1 byte each)<br>+ 2 UTF8 (3 bytes each)<br>+ null char
					<table>
						<thead>
							<tr class="center">
								<th>String</th>
								<th>Byte length</th>
							</tr>
						</thead>
						<tbody>
							<tr class="center">
								<td>Hello</td>
								<td>5</td>
							</tr>
							<tr class="center">
								<td><i>(space char)</i></td>
								<td>1</td>
							</tr>
							<tr class="center">
								<td>你好</td>
								<td>6</td>
							</tr>
							<tr class="center">
								<td><i>(space char)</i></td>
								<td>1</td>
							</tr>
							<tr class="center">
								<td>?</td>
								<td>1</td>
							</tr>
							<tr class="center">
								<td><i>(null char)</i></td>
								<td>1</td>
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>
</div>
		<div id="section_api" hidden><h2>Command list</h2>

<p>For compatibility reason, the sensor supports also most of old's Concentrix / iComptipix API. These old commands are not listed here.
For example <b>ip</b>, <b>ip_mask</b>, <b>ip_gateway</b>, <b>ip_dhcp</b> and <b>ip_mac</b> were replaced by <a href="#" onclick="show_api('network_config');">network_config</a> command :</p>

	<table>
		<tbody>
			<tr>
				<th>Query</th>
				<td class="table-code">GET /CONFIG?tkn=__TOKEN__&amp;ip&amp;ip_mac&amp;ip_mask&amp;ip_dhcp&amp;ip_gateway&amp;network_config</td>
			</tr>
			<tr>
				<th>Reply</th>
				<td class="table-code">
ip=192.168.0.149<br>
ip_mac=FC-1F-C0-30-00-09<br>
ip_mask=255.255.255.0<br>
ip_dhcp=0<br>
ip_gateway=192.168.0.1<br>
network_config=192.168.0.149,255.255.255.0,192.168.0.1,0,0.0.0.0,0.0.0.0
				</td>
			</tr>
		</tbody>
	</table>

<div>
	<fieldset>
		<legend>Command filter</legend>
		<label for="filter_api_type">Type</label>
		<select id="filter_api_type" onchange="update_api_doc();">
			<option value="" selected>All sensors</option>
			<option value="CPX3">2D sensor (CPX3)</option>
			<option value="SX3D">3D sensor (SX3D)</option>
		</select>

		<label for="filter_api_version">Version</label>
		<select id="filter_api_version" onchange="update_api_doc();">
			<option value="">All versions</option>
			<option value="1.7.0" selected>1.7.0</option>
			<option value="1.6.5">1.6.5</option>
			<option value="1.6.4">1.6.4</option>
			<option value="1.6.3">1.6.3</option>
			<option value="1.6.2">1.6.2</option>
			<option value="1.6.1">1.6.1</option>
			<option value="1.6.0">1.6.0</option>
			<option value="1.5.0">1.5.0</option>
			<option value="1.4.3">1.4.3</option>
			<option value="1.4.2">1.4.2</option>
			<option value="1.4.1">1.4.1</option>
			<option value="1.4.0">1.4.0</option>
			<option value="1.3.2">1.3.2</option>
			<option value="1.3.1">1.3.1</option>
			<option value="1.3.0">1.3.0</option>
			<option value="1.2.4">1.2.4</option>
			<option value="1.2.3">1.2.3</option>
			<option value="1.2.2">1.2.2</option>
			<option value="1.2.1">1.2.1</option>
			<option value="1.2.0">1.2.0</option>
			<option value="1.1.4">1.1.4</option>
			<option value="1.1.3">1.1.3</option>
			<option value="1.1.2">1.1.2</option>
			<option value="1.1.1">1.1.1</option>
			<option value="1.1.0">1.1.0</option>
			<option value="1.0.3">1.0.3</option>
			<option value="1.0.2">1.0.2</option>
			<option value="1.0.1">1.0.1</option>
			<option value="1.0.0">1.0.0</option>
		</select>

		<label for="filter_api_cat">Category</label>
		<select id="filter_api_cat" onchange="update_api_doc();">
			<option value="" selected>All categories</option>
			<option value="config">Configuration</option>
			<option value="state">State</option>
			<option value="cmd">Command</option>
		</select>

		<label for="filter_api_level">Level</label>
		<select id="filter_api_level" onchange="update_api_doc();">
			<option value="" selected>All levels</option>
			<option value="0">none</option>
			<option value="1">reader</option>
			<option value="2">user</option>
			<option value="3">admin</option>
			<option value="4">super</option>
		</select>

		<label for="filter_api_name">name</label>
		<input id="filter_api_name" placeholder="name" onchange="update_api_doc();">

		<button onclick="reset_api_doc();">Clear</button>
		<button onclick="update_api_doc();">Update</button>
	</fieldset>
</div>

<div id="index_content"></div>
<div id="section_content"></div>
</div>
		<div id="section_dispatch" hidden><h2>Dispatch &amp; Push protocols</h2>

	<p>Sensor can send its <u>files</u> using FTP and HTTP procotols :</p>

	<ul>
		<li><a href="#section_dispatch_ftp">FTP procotol</a></li>
		<li><a href="#section_dispatch_http_dav">HTTP Dav protocol</a></li>
		<li><a href="#section_dispatch_http_post">HTTP Post protocol</a></li>
	</ul>

	<p>Sensor can send its <u>state and config</u> using HTTP procotol :</p>

	<ul>
		<li><a href="#section_dispatch_http_push">HTTP Push protocol</a></li>
	</ul>

	<p>For all protocols, dispatching is done according to <a href="#section_api_send_config_N" onclick="show_api('send_config_N');">send_config_N</a> :</p>

	<table>
		<thead>
			<tr class="center">
				<th>File</th>
				<th>Dispatch option</th>
				<th>2D sensor</th>
				<th>3D sensor</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Counting</td>
				<td>0x1 &rarr; send counting files</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Occupancy</td>
				<td>0x2 &rarr; send occupancy files</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Area</td>
				<td>0x2 &rarr; send occupancy files</td>
				<td><span class="color_ko">NO</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Line statistics</td>
				<td>0x1 &rarr; send counting files</td>
				<td><span class="color_ok">&ge; 1.4.0</span></td>
				<td><span class="color_ko">NO</span></td>
			</tr>
			<tr>
				<td>Track</td>
				<td>0x1 &rarr; send counting files</td>
				<td><span class="color_ko">NO</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Log</td>
				<td>0x4 &rarr; send log files</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Config</td>
				<td>0x8 &rarr; send extra files</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Image</td>
				<td>0x8 &rarr; send extra files</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr>
				<td>Depthmap</td>
				<td>0x8 &rarr; send extra files</td>
				<td><span class="color_ko">NO</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
		</tbody>
	</table>

<h2 id="section_dispatch_ftp">FTP procotol</h2>

	<p>Dispatch could be done using FTP protocol :</p>
	<ul>
		<li>Sensor only support Passive FTP procotol (server create data connexion)</li>
		<li><b>FTPS procotol is not supported</b></li>
		<li>Sensor sends its file according to dispatch file table</li>
	</ul>

	<p>Directory of dispatching could be modified by several options configured by <a href="#section_api_send_config_N" onclick="show_api('send_config_N');">send_config_N</a> and <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a>.
	For a <b>3D sensor</b> (sensor type SX3D) with <b>serial number 1234</b> sending <b>2019-05-16</b> data files, dispatching directory will be :</p>

	<table>
		<thead class="center">
			<tr>
				<th>Options</th>
				<th>-</th>
				<th>Serial</th>
				<th>Type</th>
				<th>Type+Serial</th>
			</tr>
		</thead>
		<tbody class="center">
			<tr>
				<th>-</th>
				<td>/dir/</td>
				<td>/dir/1234/</td>
				<td>/dir/SX3D/</td>
				<td>/dir/SX3D-1234/</td>
			</tr>
			<tr>
				<th>Date</th>
				<td>/dir/2019/05/</td>
				<td>/dir/1234/2019/05/</td>
				<td>/dir/SX3D/2019/05/</td>
				<td>/dir/SX3D-1234/2019/05/</td>
			</tr>
		</tbody>
	</table>

<h2 id="section_dispatch_http_dav">HTTP Dav protocol</h2>

	<p>Dispatch could be done using HTTP Dav protocol. WebDav is an HTTP extention which allows to send and retrieve files similar to FTP : </p>
	<ul>
		<li>MKCOL, HEAD, PUT requests must be supported</li>
		<li><b>HTTPS procotol is not supported</b></li>
		<li>Sensor sends its file according to dispatch file table</li>
	</ul>

	<p>Directory of dispatching could be modified by several options configured by <a href="#section_api_send_config_N" onclick="show_api('send_config_N');">send_config_N</a> and <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a>.
	For a <b>3D sensor</b> (sensor type SX3D) with <b>serial nb 1234</b> sending <b>2019-05-16</b> data files, dispatching directory will be :</p>

	<table>
		<thead class="center">
			<tr>
				<th>Options</th>
				<th>-</th>
				<th>Serial</th>
				<th>Type</th>
				<th>Type+Serial</th>
			</tr>
		</thead>
		<tbody class="center">
			<tr>
				<th>-</th>
				<td>/dir/</td>
				<td>/dir/1234/</td>
				<td>/dir/SX3D/</td>
				<td>/dir/SX3D-1234/</td>
			</tr>
			<tr>
				<th>Date</th>
				<td>/dir/2019/05/</td>
				<td>/dir/1234/2019/05/</td>
				<td>/dir/SX3D/2019/05/</td>
				<td>/dir/SX3D-1234/2019/05/</td>
			</tr>
		</tbody>
	</table>

<h2 id="section_dispatch_http_post">HTTP Post protocol</h2>

	<div class="msg_warn">
		<p><b>Warning :</b> Due to a bug, firmware versions &lt; 1.3.0 does not interpret correctly server answer</p>
		<p>&rarr; Upgrading firmware is recommended to get consisent behavior in post protocol</p>
	</div>

	<h3>Protocol</h3>

	<p>Dispatch could be done using HTTP Post protocol :</p>
	<ul>
		<li><b>HTTPS procotol is not supported</b></li>
		<li>Sensor sends its file according to dispatch file table</li>
	</ul>

	<p>Post procotol used by sensor is the following one for <b>each file</b> :</p>
	<ol>
		<li>Sensor send a GET request to query if a file should be sent</li>
		<li>Server should reply by a 200 answer. Answer can contains :</li>
		<ul>
			<li>1 &rarr; file is skipped</li>
			<li>2 &rarr; dispatching is aborded</li>
			<li>empty or other answer &rarr; file is sent</li>
		</ul>
		<li>Sensor send a POST request to send a file</li>
		<li>Server should reply by a 200 answer</li>
	</ol>

	<p>Dispatching URL is the following one for the GET. Type and serial depends on sensor, file and size depends on file :</p>
	<ul>
		<li><b>server:port</b> &rarr; configured in <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a></li>
		<li><b>url</b> &rarr; configured in <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a></li>
		<li><b>type</b> &rarr; sensor type (CPX3 or SX3D)</li>
		<li><b>serial</b> &rarr; sensor serial number</li>
		<li><b>file</b> &rarr; name of the file (example : 20190516.csv)</li>
		<li><b>size</b> &rarr; size of the file in byte</li>
		<li><b>check</b> &rarr; this is a check request (there is no post data)</li>
	</ul>

	<div class="msg_code">
		http://server:port/url?type=X&amp;serial=X&amp;file=X&amp;size=X&amp;check
	</div>

	<p>Dispatching URL is the following one for the POST. Post data contains the file :</p>
	<ul>
		<li><b>server:port</b> &rarr; configured in <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a></li>
		<li><b>url</b> &rarr; configured in <a href="#section_api_send_address_N" onclick="show_api('send_address_N');">send_address_N</a></li>
		<li><b>type</b> &rarr; sensor type (CPX3 or SX3D)</li>
		<li><b>serial</b> &rarr; sensor serial number</li>
		<li><b>file</b> &rarr; name of the file (example : 20190516.csv)</li>
		<li><b>size</b> &rarr; size of the file in byte</li>
		<li><b>data</b> &rarr; this is a send data request (post data contains the file)</li>
	</ul>

	<div class="msg_code">
		http://server:port/url?type=X&amp;serial=X&amp;file=X&amp;size=X&amp;data
	</div>

	<h3>Examples</h3>

	<p>In API examples there are several examples available for Comptipix's HTTP Post procotol :</p>
	<ul>
		<li>A minimal PHP based example : <b>http_post_send.php</b></li>
		<li>A less basic PHP based example : <b>http_post_send_full.php</b></li>
		<li>A GO lang full POST server : <b>http_post_send</b></li>
	</ul>

<h2 id="section_dispatch_http_push">HTTP Push protocol</h2>

	<div class="msg_warn">
		<p><b>Warning :</b> Push protocol is not available in firmwares &lt; 1.7.0</p>
		<p>&rarr; Upgrading firmware is required to use push protocol</p>
	</div>

	<h3>Protocol</h3>

	<p>Push protocol :</p>
	<ul>
		<li><b>HTTPS procotol is not supported</b></li>
	</ul>

	<p>Dispatching URL is the following one for the CONFIG request. Type and serial depends on sensor :</p>
	<ul>
		<li><b>server:port</b> &rarr; configured in <a href="#section_api_push_address_N" onclick="show_api('push_address_N');">push_address_N</a></li>
		<li><b>url</b> &rarr; configured in <a href="#section_api_push_address_N" onclick="show_api('push_address_N');">push_address_N</a></li>
		<li><b>type</b> &rarr; sensor type (CPX3 or SX3D)</li>
		<li><b>serial</b> &rarr; sensor serial number</li>
		<li><b>push</b> &rarr; this is a push CONFIG? request configured by <a href="#section_api_push_config_N" onclick="show_api('push_config_N');">push_config_N</a></li>
	</ul>

	<div class="msg_code">
		http://server:port/url?type=X&amp;serial=X&amp;push
	</div>

	<p>Dispatching URL is the following one for the IMAGE request. Type and serial depends on sensor :</p>
	<ul>
		<li><b>server:port</b> &rarr; configured in <a href="#section_api_push_address_N" onclick="show_api('push_address_N');">push_address_N</a></li>
		<li><b>url</b> &rarr; configured in <a href="#section_api_push_address_N" onclick="show_api('push_address_N');">push_address_N</a></li>
		<li><b>type</b> &rarr; sensor type (CPX3 or SX3D)</li>
		<li><b>serial</b> &rarr; sensor serial number</li>
		<li><b>push&amp;image=sensor_r</b>  &rarr; this is a push IMAGE? request (sending sensor_r image) configured by <a href="#section_api_push_config_N" onclick="show_api('push_config_N');">push_config_N</a></li>
		<li>Either :
		<ul>
			<li><b>jpeg</b> &rarr; this is a jpeg image</li>
			<li><b>bmp</b> &rarr; this is a bmp image</li>
		</ul>
		</li>
	</ul>

	<div class="msg_code">
		http://server:port/url?type=X&amp;serial=X&amp;push&amp;image=sensor_r&amp;[jpeg:bmp]
	</div>

	<h3>Examples</h3>

	<h4>Code</h4>

	<p>In API examples there is one example available for Comptipix's HTTP push procotol :</p>
	<ul>
		<li>A minimal PHP based example : <b>http_post_send.php</b></li>
	</ul>

	<h4>Push config example</h4>

	<p>With the following configuration :</p>
	<ul>
		<li>push server &rarr; <b>192.168.0.200:8080</b></li>
		<li>push url &rarr; <b>my_post_server.php</b></li>
		<li>push data &rarr; <b>rtc_utc_time|uptime|line_counting_1|line_counting_2|line_counting_3|line_counting_4</b></li>
		<li>push option &rarr; <b>no option</b></li>
	</ul>

	<p>Post URL will be :</p>
	<div class="msg_code">
		http://192.168.0.200:8080/my_push_server.php?type=X&amp;serial=Y&amp;push
	</div>

	<p>Post data could be similar to this :</p>
	<div class="msg_code">
rtc_utc_time=2019-06-07 08:29:00<br>
uptime=62497<br>
line_counting_1=0,0,0,0,0<br>
line_counting_2=0,6,2,2,1<br>
line_counting_3=0,0,0,0,0<br>
line_counting_4=1,0,0,0,0
	</div>

	<p>Or if <b>remove name</b> option is used :</p>
	<div class="msg_code">
2019-06-07 08:29:00<br>
62497<br>
0,0,0,0,0<br>
0,6,2,2,1<br>
0,0,0,0,0<br>
1,0,0,0,0
	</div>

	<h4>Push image example</h4>

	<p>With the following configuration :</p>
	<ul>
		<li>push server &rarr; <b>192.168.0.200:8080</b></li>
		<li>push url &rarr; <b>my_post_server.php</b></li>
		<li>push data &rarr; <b>sensor|tiny</b></li>
		<li>push option &rarr; <b>image</b></li>
	</ul>

	<p>Post URL will be :</p>
	<div class="msg_code">
		http://192.168.0.200:8080/my_push_server.php?type=X&amp;serial=Y&amp;push&amp;image=sensor_l&amp;jpeg
	</div>

	<p>Post data could be similar to this :</p>
	<div class="msg_code">
[current sensor image in jpeg format]
	</div>
</div>
		<div id="section_file" hidden><h2>File format</h2>

	<p>Sensor can write these files :</p>

	<table>
		<thead>
			<tr class="center">
				<th>File</th>
				<th>SD card directory</th>
				<th>Filename</th>
				<th>Format</th>
				<th>2D sensor</th>
				<th>3D sensor</th>
			</tr>
		</thead>
		<tbody>
			<tr id="section_file_counting_tr" class="center table-click table-selected" onclick="show_file('section_file_counting');">
				<td>Counting</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD.csv</td>
				<td>CSV file</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_occupancy_tr" class="center table-click" onclick="show_file('section_file_occupancy');">
				<td>Occupancy</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD_presence.csv</td>
				<td>CSV file</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_area_tr" class="center table-click" onclick="show_file('section_file_area');">
				<td>Area</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD_area.csv</td>
				<td>CSV file</td>
				<td><span class="color_ko">NO</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_line_tr" class="center table-click" onclick="show_file('section_file_line');">
				<td>Line statistics</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD_line.csv</td>
				<td>CSV file</td>
				<td><span class="color_ok">&ge; 1.4.0</span></td>
				<td><span class="color_ko">NO</span></td>
			</tr>
			<tr id="section_file_track_tr" class="center table-click" onclick="show_file('section_file_track');">
				<td>Track</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD_track.csv</td>
				<td>CSV file</td>
				<td><span class="color_ko">NO</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_log_tr" class="center table-click" onclick="show_file('section_file_log');">
				<td>Log</td>
				<td>/DATA/YYYY/MM/</td>
				<td>log_YYYYMMDD.csv</td>
				<td>CSV file</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_config_tr" class="center table-click" onclick="show_file('section_file_config');">
				<td>Config</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD.txt</td>
				<td>text file</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_image_tr" class="center table-click" onclick="show_file('section_file_image');">
				<td>Image</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD.jpg</td>
				<td>JPEG image</td>
				<td><span class="color_ok">OK</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
			<tr id="section_file_depth_tr" class="center table-click" onclick="show_file('section_file_depth');">
				<td>Depthmap</td>
				<td>/DATA/YYYY/MM/</td>
				<td>YYYYMMDD.bmp</td>
				<td>Bitmap image</td>
				<td><span class="color_ko">NO</span></td>
				<td><span class="color_ok">OK</span></td>
			</tr>
		</tbody>
	</table>
	<p class="center">&rarr; Select a file to display associated documentation</p>

	<p>On the SD Card, files are inside a sub directory : <b>/DATA/<span class="hint--top color_lemon" data-hint="Year">YYYY</span>/<span class="hint--top color_orange" data-hint="Month">MM</span>/</b></p>
	<ul>
		<li>DATA = data directory</li>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_light_blue">DD</span> = month (2 digits)</li>
	</ul>

<div id="section_file_counting">
<h2>Counting file</h2>

	<p>These files store counting data (entries, exits). Number of channels may vary according to configuration.</p>

	<ul>
		<li><a href="#section_file_counting_file">File and Filename</a></li>
		<li><a href="#section_file_counting_header">Header</a></li>
		<li><a href="#section_file_counting_data">Data</a></li>
		<li><a href="#section_file_counting_options">Options</a></li>
		<li><a href="#section_file_counting_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_counting_file">File and Filename</h3>

	<p>It is a CSV file (without quote for text field, name shouldn't contains comma), one file per day is generated.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b><span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>.csv</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has an header and data. Header might be repeated if associated information change.</p>

	<h3 id="section_file_counting_header">Header</h3>

	<p>Header might be repeated if associated information change. Following is a typical counting header :</p>

	<div class="msg_code">
<span class="hint--top color_lemon" data-hint="Site name">Paris</span>,<span class="hint--top color_lemon" data-hint="Chain name">Eurecam</span><br>
<span class="hint--top color_orange" data-hint="Header text">fichier de comptage v2</span><br>
<span class="hint--top color_light_blue" data-hint="Channel number, name and type">1,Entree,passage</span><br>
2,Arche-l1,acces<br>
3,Arche-l3,passage<br>
4,c1000,passage<br>
5,openspace,passage<br>
6,Laterale,passage<br>
7,Plafond,passage<br>
8,Vitrine,passage<br>
<span class="hint--top color_grey" data-hint="Columns definition">Date,Heure,E1,S1,E2,S2,E3,S3,E4,S4,E5,S5,E6,S6,E7,S7,E8,S8</span>
	</div>

	<p>Header contains :</p>
   <ul>
		<li><span class="color_lemon"><b>Site</b> name and <b>chain</b> name</span> definitions</li>
		<li><span class="color_orange">Header text</span>, should be discarded</li>
		<li><span class="color_light_blue"><b>Channel</b> definitions :</span></li>
		<ul>
			<li><b>Channel</b> number</li>
			<li><b>Name</b> of the channel</li>
			<li><b>Type</b> of the channel :</li>
			<ul>
				<li><b>acces</b> for entrance or exit to the site</li>
				<li><b>passage</b> for crossing inside a site</li>
				<li>empty is the channel is disabled</li>
			</ul>
		</ul>
		<li><span class="color_grey">Column definitions</span>, should be discarded</li>
	</ul>

	<div class="msg_notice">
		<p><b>Notice :</b> A valid site name and chain name <b>must</b> contains :</p>
		<ul>
			<li>2 columns (site and chain names)</li>
			<li>A valid site name and chain name <b>must</b> precede <span class="color_orange">fichier de comptage v2</span> header text</li>
		</ul>
	</div>

	<div class="msg_notice">
		<p><b>Notice :</b> A valid channel definition <b>must</b> contains :</p>
		<ul>
			<li>3 columns (number, name and type</li>
			<li>first column must be a number bigger than 0</li>
		</ul>
	</div>

	<h3 id="section_file_counting_data">Data</h3>

	<p>Each data line contains :</p>
   <ul>
		<li><span class="color_lemon">Date</span> : format DD/MM/YYYY (D = day, M = month, Y = year)</li>
		<li><span class="color_orange">Hour</span> : format HH:MM:SS (H = hour, M = minute, S = second)</li>
		<li>For each channel :</li>
		<ul>
        <li><span class="color_light_blue">Entry sum</span> for timestamp</li>
        <li><span class="color_light_pink">Exit sum</span> for timestamp (crossing sensors do not have exit)</li>
		</ul>
	</ul>

	<p>There is one line of data for each period, number of columns depends on channel number. Following is typical counting data :</p>

	<div class="msg_code">
...<br>
<span class="hint--top color_lemon" data-hint="Date">22/05/2013</span>,<span class="hint--top color_orange" data-hint="Hour">18:35:00</span>,<span class="hint--top color_light_blue" data-hint="Entry sum">1</span>,<span class="hint--top color_light_pink" data-hint="Exit sum">0</span>,1,0,0,0,2,0,2,0,1,0,1,0,0,0<br>
22/05/2013,18:36:00,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
22/05/2013,18:37:00,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0<br>
22/05/2013,18:38:00,1,0,1,1,0,0,1,2,1,2,0,0,1,1,0,0<br>
22/05/2013,18:39:00,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0<br>
...
	</div>

	<div class="msg_notice">
		<p><b>Notice :</b> A valid data line <b>must</b> contains :</p>
		<ul>
			<li>at least 4 columns (date, hour, entries, exits)</li>
			<li>first column must be a valid date and the date must be the same as the filename's</li>
			<li>second column must be a valid hour</li>
		</ul>
	</div>

	<div class="msg_notice">
		<p><b>Notice :</b> By default dates are in <b>DD/MM/YYYY</b> format. Using configuration, they could also be in ISO-format (<b>YYYY-MM-DD</b>).
		In file parsing, it is advised to support both formats.
		</p>
	</div>

	<p>Timestamp definition depends on the data resolution. With an 1 minute resolution, timestamp 8:00:00 sums counting from 8:00:00 to 8:00:59.
	With a 15 minutes writing period, timestamp 8:00:00 sums counting from 8:00:00 to 8:14:59</p>

	<p>Number of columns depends on number of channels : <b>columns = 2 + 2 x channels</b>. By default the sensor write the sum of all counting lines, so default counting files have 1 channel (4 columns).</p>

	<div class="msg_warn">
		<p><b>Warning :</b> There may be some gaps in data or multiple data with same timestamp, if :</p>
		<ul>
			<li>device was powered off</li>
			<li>null lines are skipped</li>
			<li>change in hour due to Daylight Saving Time</li>
			<li>change in hour due to automatic synchronization or manual adjustment</li>
		</ul>
		<p>&rarr; If many data have the same timestamp, you should sum data</p>
	</div>

	<h3 id="section_file_counting_options">Options</h3>

	<h4>Counting resolution</h4>

	<p>This parameter (configured with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command) set the time resolution for counting data.
	Some available values :</p>
	<ul>
		<li>0 &rarr; no counting data</li>
		<li>20 &rarr; one counting line every 20 seconds</li>
		<li>60 &rarr; one counting line per minute <b>(default)</b></li>
		<li>600 &rarr; one counting line every 10 minutes</li>
		<li>3600 &rarr; on counting line every hour</li>
		<li>etc..</li>
	</ul>

	<h4>Write counting lines separately</h4>

	<p>This parameter (configured with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command) force the sensor to write the detail of each counting line.
	A sensor which has 4 counting lines(channels) will have 8 data columns (+ 2 columns for date and hour).</p>
	<ul>
		<li><span class="color_light_blue">Line 1</span> entries / exits</li>
		<li><span class="color_light_pink">Line 2</span> entries / exits</li>
		<li><span class="color_yellow">Line 3</span> entries / exits</li>
		<li><span class="color_grey">Line 4</span> entries / exits</li>
	</ul>

	<div class="msg_code">
Eurecam - Entrée >>entrée1,SITEID:AAAAAX<br>
fichier de comptage v2<br>
1,line 1,passage<br>
2,line 2,passage<br>
3,line 3,acces<br>
4,line 4,passage<br>
Date,Heure,E1,S1,E2,S2,E3,S3,E4,S4<br>
01/03/2019,00:00:00,<span class="color_light_blue hint--top" data-hint="Line 1">0,0</span>,<span class="color_light_pink hint--top" data-hint="Line 2">0,0</span>,<span class="color_yellow hint--top" data-hint="Line 3">0,0</span>,<span class="color_grey hint--top" data-hint="Line 4">0,0</span><br>
01/03/2019,00:00:11,0,0,0,0,0,0,0,0<br>
01/03/2019,00:00:20,0,0,0,0,0,0,0,0<br>
01/03/2019,00:00:30,0,0,0,0,0,0,0,0<br>
01/03/2019,00:00:40,0,0,0,0,0,0,0,0<br>
01/03/2019,00:00:50,0,0,0,0,0,0,0,0<br>
01/03/2019,00:01:00,0,0,0,0,0,0,0,0<br>
...
	</div>

	<h4>Adult / Child counting</h4>

	<p>Added in 1.5.0 version for 3D sensors, adult / child classification can add extra channels to counting data.
	Theses channels are inserted after each line channels.</p>
	<ul>
		<li><a href="#section_api_stereo_diff" onclick="show_api('stereo_diff');">stereo_diff</a> to enable adult / child classification.</li>
		<li><a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> to enable adult or child extra channels</li>
		<li><a href="#section_api_sdcard_adult" onclick="show_api('sdcard_adult');">sdcard_adult</a> command to configure adult sum column name.</li>
		<li><a href="#section_api_sdcard_child" onclick="show_api('sdcard_child');">sdcard_child</a> command to configure child sum column name.</li>
	</ul>

	<h4>I/O boards</h4>

	<p>Added in 1.3.0 version, inputs from I/O extension boards can we written in counting files as extra channels (providing a board is detected).
	These extra channels are added after counting line channels.</p>
	<ul>
		<li><a href="#section_api_ext_io_rs232" onclick="show_api('ext_io_rs232');">ext_io_rs232</a> command controls the rs232 input.</li>
		<li><a href="#section_api_ext_io_in" onclick="show_api('ext_io_in');">ext_io_in</a> command configure the I/O dry inputs</li>
	</ul>

	<h4>Remove null data</h4>

	<p>If this option is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), line of data which contains only 0 are not written to files.</p>
	<p>Following is typical counting data (the same as in previous section Data) with force remove null data option enabled → line 18:36:00 has no counting and it’s not written :</p>

	<div class="msg_code">
...<br>
22/05/2013,18:35:00,1,0,1,0,0,0,2,0,2,0,1,0,1,0,0,0<br>
22/05/2013,18:37:00,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0<br>
22/05/2013,18:38:00,1,0,1,1,0,0,1,2,1,2,0,0,1,1,0,0<br>
22/05/2013,18:39:00,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0<br>
...
	</div>

	<h4>Force ISO date</h4>

	<p>If this option (<b>added in 1.3.1 version</b>) is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), ISO date format is used (YYYY-MM-DD instead of DD/MM/YYYY).</p>
	<p>Following is typical counting data (the same as in previous section Data) with force ISO option enabled → date are ISO formatted :</p>

	<div class="msg_code">
...<br>
<b>2013-05-22</b>,18:35:00,1,0,1,0,0,0,2,0,2,0,1,0,1,0,0,0<br>
<b>2013-05-22</b>,18:36:00,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
<b>2013-05-22</b>,18:37:00,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0<br>
<b>2013-05-22</b>,18:38:00,1,0,1,1,0,0,1,2,1,2,0,0,1,1,0,0<br>
<b>2013-05-22</b>,18:39:00,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0<br>
...
	</div>

	<h3 id="section_file_counting_examples">Examples</h3>

	<p>Here are some countings file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Default option</th>
				<th>Remove null data<br>Adult/Child counting</th>
				<th>Example of graphical display<br>of counting data</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><a href="data/20190116.csv" target="_blank">20190116.csv</a></td>
				<td><a href="data/20190222.csv" target="_blank">20190222.csv</a></td>
				<td class="center"><img class="small_image" src="data/counting_graph.png"><br><a href="data/counting_graph.png" target="_blank">counting_graph.png</a></td>
			</tr>
		</tbody>
	</table>

</div>

<div id="section_file_occupancy" hidden>
<h2>Occupancy file</h2>

	<p>These files store occupancy information (occupancy, entries, exits, corrections). Only 1 occupancy channel is stored in files.
	Occupancy files are created only if occupancy is enabled (with <a href="#section_api_occupancy_config" onclick="show_api('occupancy_config');">occupancy_config</a> command).</p>

	<ul>
		<li><a href="#section_file_occupancy_file">File and Filename</a></li>
		<li><a href="#section_file_occupancy_header">Header</a></li>
		<li><a href="#section_file_occupancy_data">Data</a></li>
		<li><a href="#section_file_occupancy_options">Options</a></li>
	</ul>

	<h3 id="section_file_occupancy_file">File and Filename</h3>

	<p>It is a CSV file (without quote for text field, name shouldn't contains comma), one file per day is generated.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b><span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>_presence.csv</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has an header and data. Header might be repeated if associated information change</p>.

	<h3 id="section_file_occupancy_header">Header</h3>

	<p>Header might be repeated if associated information change. Following is a typical occupancy header :</p>

	<div class="msg_code">
<span class="hint--top color_lemon" data-hint="Site name">Paris</span>,<span class="hint--top color_lemon" data-hint="Chain name">Eurecam</span><br>
<span class="hint--top color_orange" data-hint="Header text">fichier de presence v1</span><br>
<span class="hint--top color_grey" data-hint="Columns definition">Date,Heure,E,S,P,C+,C-</span>
	</div>

	<p>Header contains :</p>
   <ul>
		<li><span class="color_lemon"><b>Site</b> name and <b>chain</b> name</span> definitions</li>
		<li><span class="color_orange">Header text</span>, should be discarded</li>
		<li><span class="color_grey">Column definitions</span>, should be discarded</li>
	</ul>

	<div class="msg_notice">
		<p><b>Notice :</b> A valid site name and chain name <b>must</b> contains :</p>
		<ul>
			<li>2 columns (site and chain names)</li>
			<li>A valid site name and chain name <b>must</b> precede <span class="color_orange">fichier de presence v1</span> header text</li>
		</ul>
	</div>

	<h3 id="section_file_occupancy_data">Data</h3>

	<p>Each data line contains :</p>
	<ul>
		<li><span class="color_lemon">Date</span> : format DD/MM/YYYY (D = day, M = month, Y = year)</li>
		<li><span class="color_orange">Hour</span> : format HH:MM:SS (H = hour, M = minute, S = second)</li>
		<li><span class="color_light_blue">Entry sum</span> since since last reset</li>
		<li><span class="color_light_pink">Exit sum</span> since last reset</li>
		<li><span class="color_yellow">Current occupancy</span>, if there is no clipping or correction, occupancy = entry - exit</li>
		<li><span class="color_black">Positive correction</span> on occupancy (occupancy set or offset done by user)</li>
		<li><span class="color_red">Negative correction</span> on occupancy (occupancy set or offset done by user)</li>
    </ul>

	<p>Clipping on occupancy does not imply an occupancy correction</p>
	<p>An occupancy reset does not imply an occupancy correction</p>

	<p>There is one line of data for each period, number of columns is fixed to 7. Following is typical occupancy data :</p>

	<div class="msg_code">
...<br>
<span class="hint--top color_lemon" data-hint="Date">22/05/2013</span>,<span class="hint--top color_orange" data-hint="Hour">18:35:00</span>,<span class="hint--top color_light_blue" data-hint="Entry sum">34</span>,<span class="hint--top color_light_pink" data-hint="Exit sum">33</span>,<span class="hint--top color_yellow" data-hint="Occupancy">8</span>,<span class="hint--top color_black" data-hint="Positive correction">0</span>,<span class="hint--top color_red" data-hint="Negative correction">0</span><br>
23/05/2013,17:57:00,34,33,7,0,-1<br>
23/05/2013,17:58:00,34,33,7,0,0<br>
23/05/2013,17:59:00,34,34,0,0,0<br>
23/05/2013,18:00:00,34,35,1,0,0<br>
23/05/2013,18:01:00,34,35,6,5,0<br>
...
	</div>

	<div class="msg_notice">
		<p><b>Notice :</b> A valid data line <b>must</b> contains :</p>
		<ul>
			<li>7 columns (date, hour, entries, exits, occupancy, correction +, correction -)</li>
			<li>first column must be a valid date and the date must be the same as the filename's</li>
			<li>second column must be a valid hour</li>
		</ul>
	</div>

	<div class="msg_notice">
		<p><b>Notice :</b> By default dates are in <b>DD/MM/YYYY</b> format. Using configuration, they could also be in ISO-format (<b>YYYY-MM-DD</b>).
		In file parsing, it is advised to support both formats.
		</p>
	</div>

	<p>Timestamp definition depends the data resolution. With an 1 minute resolution, timestamp 8:00:00 is the current state at 8:00:59.
	With a 15 minutes writing period, timestamp 8:00:00 is the state at 8:14:59</p>

	<p>There may be some gaps in data or multiple data with same timestamp, if :</p>
	<ul>
		<li>device was powered off</li>
		<li>change in hour due to DST</li>
		<li>change in hour due to synchronization or manual adjustment</li>
	</ul>

	<p>If many data have the same timestamp, you should discard lowest occupancy data.</p>

	<h3 id="section_file_occupancy_options">Options</h3>

	<h4>Counting resolution</h4>

	<p>This parameter (configured with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command) set also the time resolution for occupancy data.
	Some possible values :</p>
	<ul>
		<li>0 &rarr; no occupancy data</li>
		<li>20 &rarr; one occupancy data every 20 seconds</li>
		<li>60 &rarr; one occupancy data per minute <b>(default)</b></li>
		<li>600 &rarr; one occupancy data every 10 minutes</li>
		<li>3600 &rarr; on occupancy data every hour</li>
		<li>etc..</li>
	</ul>

	<h4>Remove null data (version &lt; 1.4.0)</h4>

	<p>This option doesn't do anything.</p>

	<h4>Remove null data (&ge; 1.4.0)</h4>

	<p>If this option is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), line of data which contains only 0 (for sums, occupancy and corrections) are not written to files.</p>
	<p>Following is typical counting data (the same as in previous section Data) with force remove null data option enabled  → line 17:59:00 has only 0 and it’s not written :</p>

	<div class="msg_code">
...<br>
23/05/2013,17:56:00,34,33,8,0,0<br>
23/05/2013,17:57:00,34,33,7,0,-1<br>
23/05/2013,17:58:00,34,33,7,0,0<br>
23/05/2013,18:00:00,34,35,1,0,0<br>
23/05/2013,18:01:00,34,35,6,5,0<br>
...
	</div>

	<h4>Force ISO date</h4>

	<p>If this option (<b>added in 1.3.1 version</b>) is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), ISO date format is used (YYYY-MM-DD instead of DD/MM/YYYY).</p>
	<p>Following is typical occupancy data (the same as in previous section Data) with force ISO option enabled → date are ISO formatted :</p>

	<div class="msg_code">
...<br>
<b>2013-05-23</b>,17:56:00,34,33,8,0,0<br>
<b>2013-05-23</b>,17:57:00,34,33,7,0,-1<br>
<b>2013-05-23</b>,17:58:00,34,33,7,0,0<br>
<b>2013-05-23</b>,17:59:00,34,34,0,0,0<br>
<b>2013-05-23</b>,18:00:00,34,35,1,0,0<br>
<b>2013-05-23</b>,18:01:00,34,35,6,5,0<br>
...
	</div>

</div>

<div id="section_file_area" hidden>
<h2>Area file</h2>

	<p>Area files are only generated by 3D sensors. They record statistics for each enabled area during a time period.
	Area files are created only if at least 1 area is enabled (with <a href="#section_api_area_config_N" onclick="show_api('area_config_N');">area_config_N</a> command) and area files are enabled (with <a href="#section_api_sdcard_stereo" onclick="show_api('sdcard_stereo');">sdcard_stereo</a> command).
	</p>
	<ul>
		<li><a href="#section_file_area_file">File and Filename</a></li>
		<li><a href="#section_file_area_header">Header</a></li>
		<li><a href="#section_file_area_data">Data</a></li>
		<li><a href="#section_file_area_options">Options</a></li>
		<li><a href="#section_file_area_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_area_file">File and Filename</h3>

	<p>It is a CSV file, one file per day is generated.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b><span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>_area.csv</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has an header and data.</p>

	<h3 id="section_file_area_header">Header</h3>

	<p>There is a simple column header, only at the begining of the file :</p>

	<div class="msg_code">
date,hour,area,entry,exit,min,max,avg,avg_div,time
	</div>

	<h3 id="section_file_area_data">Data</h3>

	<p>In this file, there are :</p>
	<ul>
		<li>One line per time period</li>
		<li>One line per enabled area (ID of the area, first area has the number 1, the second is 2 ...)</li>
	</ul>

	<p>A line data consists in (number of columns is fixed to 10) :</p>
	<ul>
		<li><span class="color_lemon">YYYY-MM-DD</span> : local date in ISO format</li>
		<li><span class="color_orange">HH:MM:SS</span> : local hour in ISO format</li>
		<li><span class="color_yellow">ID</span> : id of the area (usually from 1 to 4)</li>
		<li><span class="color_light_blue">ENTRY</span> : number of entries to the area during the time period</li>
		<li><span class="color_light_pink">EXIT</span> : number of exits from the area during the time period</li>
		<li><span class="color_white">MIN</span> : min occupancy of the area during the time period</li>
		<li><span class="color_black">MAX</span> : max occupancy of the area during the time period</li>
		<li><span class="color_red">AVG, AVG_DIV</span> : to compute average occupancy during the time period</li>
		<li><span class="color_grey">TIME</span> : total occupancy time during the time periode (in second x person)</li>
	</ul>

	<div class="msg_code">
<span class="color_lemon hint--top" data-hint="Date">YYYY-MM-DD</span>,
<span class="color_orange hint--top" data-hint="Hour">HH:MM:SS</span>,
<span class="color_yellow hint--top" data-hint="Area ID">ID</span>,
<span class="color_light_blue hint--top" data-hint="Entries during time period">ENTRY</span>,
<span class="color_light_pink hint--top" data-hint="Exits during time period">EXIT</span>,
<span class="color_white hint--top" data-hint="Min occupancy during time period">MIN</span>,
<span class="color_black hint--top" data-hint="Max occupancy during time period">MAX</span>,
<span class="color_red hint--top" data-hint="Average occupancy during time period">AVG,AVG_DIV</span>,
<span class="color_grey hint--top" data-hint="Total occupancy time during time period">TIME</span>
	</div>

	<p>Average occupancy during time period could be computed by : <b>AVG / AVG_DIV</b></p>
	<p>Average occupancy time during time period could be computed by : <b>TIME x AVG_DIV / AVG</b></p>

	<div class="msg_notice">
		<p><b>Notice :</b> A valid data line <b>must</b> contains :</p>
		<ul>
			<li>10 columns</li>
			<li>first column must be a valid date and the date must be the same as the filename's</li>
			<li>second column must be a valid hour</li>
			<li>Area ID must be at least 1</li>
		</ul>
	</div>

	<p>Following is typical area data :</p>
	<div class="msg_code">
date,hour,area,entry,exit,min,max,avg,avg_div,time<br>
2019-03-06,00:00:00,1,0,0,0,0,0,598,0<br>
2019-03-06,00:01:00,1,0,0,0,0,0,596,0<br>
2019-03-06,00:02:00,1,0,0,0,0,0,606,0<br>
2019-03-06,00:03:00,1,0,0,0,0,0,605,0<br>
...<br>
2019-03-06,10:34:00,1,30,31,0,2,358,606,0<br>
2019-03-06,10:35:00,1,28,28,0,2,282,595,0<br>
2019-03-06,10:36:00,1,31,31,0,2,422,606,0<br>
2019-03-06,10:37:00,1,32,32,0,2,296,595,0<br>
...
	</div>

	<h3 id="section_file_area_options">Options</h3>

	<h4>Counting resolution</h4>

	<p>This parameter (configured with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command) set also the time resolution for area data.
	Some possible values :</p>
	<ul>
		<li>0 &rarr; no area data</li>
		<li>20 &rarr; one area data per area every 20 seconds</li>
		<li>60 &rarr; one area data per area per minute <b>(default)</b></li>
		<li>600 &rarr; one area data per area every 10 minutes</li>
		<li>3600 &rarr; on area data per area every hour</li>
		<li>etc...</li>
	</ul>

	<h4>Remove null data</h4>

	<p>If this option is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), line of data which contains 0 for entry, exit and max occupancy are not written to files.</p>

	<h3 id="section_file_area_examples">Examples</h3>

	<p>Here are some area file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>3D sensor area file<br>(default options)</th>
				<th>3D sensor area file<br>(with remove null option)</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><a href="data/20190304_area.csv" target="_blank">20190304_area.csv</a></td>
				<td><a href="data/20190226_area.csv" target="_blank">20190226_area.csv</a></td>
			</tr>
		</tbody>
	</table>

</div>

<div id="section_file_line" hidden>
<h2>Line statistics file</h2>

	<p>These files store statistic data (position of entry/exit and width spread) along lines. Statistic files are supported by 2D sensor in version &ge; 1.4.0</p>
	<ul>
		<li><a href="#section_file_line_file">File and Filename</a></li>
		<li><a href="#section_file_line_header">Header</a></li>
		<li><a href="#section_file_line_data">Data</a></li>
		<li><a href="#section_file_line_options">Options</a></li>
		<li><a href="#section_file_line_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_line_file">File and Filename</h3>

	<p>It is a CSV file (without quote for text field), one file per day is generated.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b>log_<span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>_line.csv</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has an header and data.</p>

	<h3 id="section_file_line_header">Header</h3>

	<p>There is a simple column header, only at the begining of the file :</p>

	<div class="msg_code">
date,hour,line,nb,entry,exit,nb,width
	</div>

	<h3 id="section_file_line_data">Data</h3>

	<p>In this file, there are :</p>
	<ul>
		<li>One line per time period</li>
		<li>One line per enabled line (ID of the line, first line has the number 1, the second is 2 ...)</li>
	</ul>

	<p>A line data consists in (number of columns depends on line configuration, it could be more than 200) :</p>
	<ul>
		<li><span class="color_lemon">YYYY-MM-DD</span> : local date in ISO format</li>
		<li><span class="color_orange">HH:MM:SS</span> : local hour in ISO format</li>
		<li><span class="color_yellow">ID</span> : id of the line (usually from 1 to 4)</li>
		<li><span class="color_light_blue">NB</span> : number of columns for entries</li>
		<li>ENTRY : Sums of entries for each block for the line (entry spreads)</li>
		<li><span class="color_light_pink">NB</span> : number of columns for exits</li>
		<li>EXIT : Sums of exits for each block for the line (exit spreads)</li>
		<li><span class="color_white">NB</span> : number of columns for width spread</li>
		<li>WIDTH : Sums of countings for each width (width spreads)</li>
	</ul>

	<div class="msg_code">
<span class="color_lemon hint--top" data-hint="Date">YYYY-MM-DD</span>,
<span class="color_orange hint--top" data-hint="Hour">HH:MM:SS</span>,
<span class="color_yellow hint--top" data-hint="Line ID">ID</span>,
<span class="color_light_blue hint--top" data-hint="Entry columns">NB</span>,
<span class="hint--top" data-hint="Entry spread">ENTRY,...</span>,
<span class="color_light_pink hint--top" data-hint="Exit columns">NB</span>,
<span class="hint--top" data-hint="Exit spread">EXIT,...</span>,
<span class="color_white hint--top" data-hint="Width columns">NB</span>,
<span class="hint--top" data-hint="Width spread">WIDTH,...</span>
	</div>

	<p>Following is typical line data for a line with 9 blocks :</p>
	<div class="msg_code">
date,hour,line,nb,entry,exit,nb,width<br>
2019-03-06,00:00:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
2019-03-06,00:01:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
2019-03-06,00:02:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
2019-03-06,00:03:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
...<br>
2019-03-06,10:34:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
2019-03-06,10:35:00,9,0,0,1,0,0,0,0,1,0,0,9,0,0,0,1,0,0,0,0,0,0,16,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0<br>
2019-03-06,10:36:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>
2019-03-06,10:37:00,9,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,1,0,0,16,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0<br>
...
	</div>

	<h4>Entry / Exit spreads</h4>

	<p>Entry or exit spreads are the repartition of counting along the line. Line is split in N segments according to block value. Read order for a default line (entries toward bottom) is from right to left :</p>
	<ul>
		<li>In this case, an entry or exit on the right of line will increase first columns</li>
		<li>In this case, an entry or exit on the left of line will increase last columns</li>
	</ul>

	<p class="center"><img src="data/file_line.png"></p>

	<p>Coordinate of each points for a line N could known by using <a href="#section_api_line_state_N" onclick="show_api('line_state_N');">line_state_N</a> command</p>

	<h4>Width spread</h4>

	<p>Width spread is the repartition in width (in number of block) of counting from 1 to N. Width spread can hint wrong block configuration.</p>

	<h3 id="section_file_line_options">Options</h3>

	<h4>Enable line files</h4>

	<p>This parameter (configured with <a href="#section_api_sdcard_cptx" onclick="show_api('sdcard_cptx');">sdcard_cptx</a> command) enable or disable line statistic files.</p>

	<h4>Counting resolution</h4>

	<p>This parameter (configured with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command) set also the time resolution for line data.
	Some possible values :</p>
	<ul>
		<li>0 &rarr; no line data</li>
		<li>20 &rarr; one line data per line every 20 seconds</li>
		<li>60 &rarr; one line data per line per minute <b>(default)</b></li>
		<li>600 &rarr; one line data per line every 10 minutes</li>
		<li>3600 &rarr; on line data per line every hour</li>
		<li>etc...</li>
	</ul>

	<div class="msg_notice">
		<p><b>Notice :</b> Line data generates big files, it is not advised to use short time resolutions</p>
	</div>

	<h4>Remove null data</h4>

	<p>If this option is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), line of data which contains 0 for entry and exit are not written to files.</p>

	<div class="msg_notice">
		<p><b>Notice :</b> Line data generates big files, it is advised to enable remote null option</p>
	</div>

	<h3 id="section_file_line_examples">Examples</h3>

	<p>Here are some line file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>2D sensor line file<br>(with remove null option)</th>
				<th>Example of graphical display<br>Data could be used to generate a kind of heatmap of the line</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><a href="data/20190304_line.csv" target="_blank">20171010_line.csv</a></td>
				<td class="center"><img class="small_image" src="data/20171010_line_heatmap.png"><br><a href="data/20171010_line_heatmap.png" target="_blank">20171010_line_heatmap.png</a></td>
			</tr>
		</tbody>
	</table>

</div>

<div id="section_file_track" hidden>
<h2>Track file</h2>

	<p>Track files record track start-stop points of targets. They can be generated by 3D sensor :</p>
	<ul>
		<li><a href="#section_file_track_file">File and Filename</a></li>
		<li><a href="#section_file_track_header">Header</a></li>
		<li><a href="#section_file_track_data">Data</a></li>
		<li><a href="#section_file_track_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_track_file">File and Filename</h3>

	<p>It is a CSV file (without quote for text field), one file per day is generated.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b>log_<span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>_track.csv</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has an header and data.</p>

	<h3 id="section_file_track_header">Header</h3>

	<p>There is a simple column header, only at the begining of the file :</p>

	<div class="msg_code">
date,hour,sx,sy,ex,ey,h,time,e,x
	</div>

	<h3 id="section_file_track_data">Data</h3>

	<p>In this file, there are :</p>
	<ul>
		<li>One line per recorded track</li>
	</ul>

	<p>Tracks are recorded when they exit the detection area or when they are lost. Short tracks are not recorded unless they generated some entries or exits.</p>

	<p>A line data consists in (number of columns is fixed to 10) :</p>
	<ul>
		<li><span class="color_lemon">YYYY-MM-DD</span> : local date in ISO format</li>
		<li><span class="color_orange">HH:MM:SS</span> : local hour in ISO format</li>
		<li><span class="color_yellow">SX,SY</span> : 2D coordinates of the start of the track (in pixels from center of the left sensor)</li>
		<li><span class="color_black">EX,EY</span> : 2D coordinatse of the end of the track (in pixels from center of the left sensor)</li>
		<li><span class="color_red">H</span> : height of the tracked object (in centimeters)</li>
		<li><span class="color_grey">TIME</span> : duration of the tracking (in seconds)</li>
		<li><span class="color_light_blue">E</span> : entrie sum across all lines</li>
		<li><span class="color_light_pink">X</span> : exit sum across all lines</li>
	</ul>

	<div class="msg_code">
<span class="color_lemon hint--top" data-hint="Date">YYYY-MM-DD</span>,
<span class="color_orange hint--top" data-hint="Hour">HH:MM:SS</span>,
<span class="color_yellow hint--top" data-hint="Entry point">SX,SY</span>,
<span class="color_black hint--top" data-hint="Exit point">EX,EY</span>,
<span class="color_red hint--top" data-hint="Height">H</span>,
<span class="color_grey hint--top" data-hint="Duration">TIME</span>,
<span class="color_light_blue hint--top" data-hint="Entry sum">E</span>,
<span class="color_light_pink hint--top" data-hint="Exit sum">X</span>
	</div>

	<div class="msg_warn">
		<p><b>Warning :</b> 3D firmwares &lt; 1.5.0 do not have entry and exit columns</p>
	</div>

	<p>Following is typical track data :</p>
	<div class="msg_code">
date,hour,sx,sy,ex,ey,h,time,e,x<br>
2019-04-02,07:07:51,443,238,389,407,165,2,0,0<br>
2019-04-02,07:08:24,412,375,122,255,147,2,0,0<br>
2019-04-02,07:09:22,156,243,351,72,154,2,0,1<br>
2019-04-02,07:12:43,324,83,109,275,154,2,1,0<br>
2019-04-02,07:13:24,140,253,340,81,146,2,0,1<br>
2019-04-02,07:15:56,345,82,128,229,148,2,1,0<br>
2019-04-02,07:17:28,387,381,311,331,151,4,0,0<br>
...
	</div>

	<h3 id="section_file_track_examples">Examples</h3>

	<p>Here are some track file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Sensor track file</th>
				<th>Example of graphical display using left image as background</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><a href="data/20190402_track.txt" target="_blank">20190402_track.csv</a></td>
				<td class="center"><img class="small_image" src="data/track_display.jpg"><br><a href="data/track_display.jpg" target="_blank">track_display.jpg</a></td>
			</tr>
		</tbody>
	</table>

</div>

<div id="section_file_log" hidden>
<h2>Log file</h2>

	<p>These files store log information of the product such as startup events, network events, SD card events or sensor state :</p>
	<ul>
		<li><a href="#section_file_log_file">File and Filename</a></li>
		<li><a href="#section_file_log_data">Data</a></li>
		<li><a href="#section_file_log_options">Options</a></li>
		<li><a href="#section_file_log_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_log_file">File and Filename</h3>

	<p>It is a CSV file (without quote for text field, name shouldn't contains comma), one file per day is generated.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b>log_<span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>.csv</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has only data and no header</p>

	<h3 id="section_file_log_data">Data</h3>

	<p>Each line represents an event or a state information and contains :</p>
	<ul>
		<li><span class="color_lemon">Date</span> : format DD/MM/YYYY (D = day, M = month, Y = year)</li>
		<li><span class="color_orange">Hour</span> : format HH:MM:SS (H = hour, M = minute, S = second)</li>
		<li><span class="color_light_blue">Type</span> : event or state type</li>
		<li><span class="color_light_pink">Various values</span> associated to event or state separated by comma</li>
	</ul>

	<div class="msg_notice">
		<p><b>Notice :</b> By default dates are in <b>DD/MM/YYYY</b> format. Using configuration, they could also be in ISO-format (<b>YYYY-MM-DD</b>).
		In file parsing, it is advised to support both formats.
		</p>
	</div>

	<p>Following is typical log data :</p>

	<div class="msg_code">
...<br>
<span class="hint--top color_lemon" data-hint="Date">17/06/2015</span>,<span class="hint--top color_orange" data-hint="Hour">06:00:00</span>,<span class="hint--top color_light_blue" data-hint="Type">sd:mem</span>,<span class="hint--top color_light_pink" data-hint="Associated values">CTX_122013,3780,3780</span><br>
17/06/2015,10:06:43,startup,122013,v1.0.X (~5307)<br>
17/06/2015,10:06:46,net:ok,192.168.0.100<br>
17/06/2015,10:06:47,sd:ok,CTX_122013,3780,3780<br>
17/06/2015,10:31:42,sntp:ok,internet,-1491<br>
17/06/2015,12:00:00,temp,36<br>
17/06/2015,12:00:00,sensor,98,132<br>
...
	</div>

	<p>List of event and state types, some events are not available in earlier firmwares.
	State information are periodically generated according to <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a>.
	Other events are generated only when the event occures.</p>

	<table>
		<thead>
			<tr class="center">
				<th>Feature</th>
				<th>Name</th>
				<th>Type</th>
				<th>Description</th>
				<th>Associated values</th>
				<th>Version</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th>-</th>
				<th>startup</th>
				<td>Event</td>
				<td>Startup of the device</td>
				<td><ul>
					<li>Serial number</li>
					<li>Version information</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th rowspan="2">config</th>
				<th>config:reset</th>
				<td>Event</td>
				<td>Reset configuration</td>
				<td></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>config:write</th>
				<td>Event</td>
				<td>Writing configuration</td>
				<td></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>-</th>
				<th>temp</th>
				<td>State</td>
				<td>Sensor temperature state</td>
				<td><ul>
					<li>Temperature in degree</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>-</th>
				<th>sensor</th>
				<td>State</td>
				<td>Sensor image state information</td>
				<td><ul>
					<li>Average on the image</li>
					<li>Current exposure</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>-</th>
				<th>uptime</th>
				<td>State</td>
				<td>Uptime state information</td>
				<td><ul>
					<li>Uptime in second</li>
					<li>Running firmware version</li>
				</ul></td>
				<td class="center">&ge; 1.5.0</td>
			</tr>
<!-- network -->
			<tr>
				<th rowspan="3">Network</th>
				<th>net:ok</th>
				<td>Event</td>
				<td>Network ok</td>
				<td><ul>
					<li>Current IP address</li>
					<li>"dhcp" if dhcp is used</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>net:err</th>
				<td>Event</td>
				<td>Network cable error</td>
				<td></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>net:dhcp_err</th>
				<td>Event</td>
				<td>Network DHCP error</td>
				<td></td>
				<td class="center">All</td>
			</tr>
<!-- sd -->
			<tr>
				<th rowspan="5">SD card</th>
				<th>sd:ok</th>
				<td>Event</td>
				<td>SD card detected</td>
				<td><ul>
					<li>Name of the SD card</li>
					<li>SD card capacity in MB</li>
					<li>SD card free space in MB</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>sd:mem</th>
				<td>State</td>
				<td>SD card state information</td>
				<td></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>sd:err</th>
				<td>Event</td>
				<td>SD card error</td>
				<td></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>sd:format</th>
				<td>Event</td>
				<td>SD card formatted</td>
				<td></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>sd:erase</th>
				<td>Event</td>
				<td>File erased on SD card</td>
				<td><ul>
					<li>Name of the erased file</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
<!-- sntp -->
			<tr>
				<th rowspan="2">SNTP</th>
				<th>sntp:ok</th>
				<td>Event</td>
				<td>SNTP synchronization ok</td>
				<td><ul>
					<li>Name of the server</li>
					<li>Synchronization drift in second</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>sntp:err</th>
				<td>Event</td>
				<td>SNTP synchronization error</td>
				<td><ul>
					<li>Name of the server</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
<!-- send -->
			<tr>
				<th rowspan="3">Send</th>
				<th>send:ok</th>
				<td>Event</td>
				<td>Dispatch ok</td>
				<td><ul>
					<li>Name of the server</li>
					<li>Nb of files processed</li>
					<li>Nb of files sent</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>send:err</th>
				<td>Event</td>
				<td>Dispatch error</td>
				<td><ul>
					<li>Name of the server</li>
					<li>Nb of files processed</li>
					<li>Nb of files sent</li>
				</ul></td>
				<td class="center">All</td>
			</tr>
			<tr>
				<th>send:stat</th>
				<td>State</td>
				<td>Dispatch daily statistics</td>
				<td><ul>
					<li>Name of the server</li>
					<li>Nb ok</li>
					<li>Nb failed</li>
				</ul></td>
				<td class="center">&ge; 1.7.0</td>
			</tr>
<!-- push -->
			<tr>
				<th rowspan="3">Push</th>
				<th>push:ok</th>
				<td>Event</td>
				<td>Push ok</td>
				<td><ul>
					<li>Name of the server</li>
				</ul></td>
				<td class="center">&ge; 1.7.0</td>
			</tr>
			<tr>
				<th>push:err</th>
				<td>Event</td>
				<td>Push ok</td>
				<td><ul>
					<li>Name of the server</li>
				</ul></td>
				<td class="center">&ge; 1.7.0</td>
			</tr>
			<tr>
				<th>push:stat</th>
				<td>State</td>
				<td>Push daily statistics</td>
				<td><ul>
					<li>Name of the server</li>
					<li>Nb ok</li>
					<li>Nb failed</li>
				</ul></td>
				<td class="center">&ge; 1.7.0</td>
			</tr>
<!-- occupancy -->
			<tr>
				<th rowspan="3">Occupancy</th>
				<th>occ:reset</th>
				<td>Event</td>
				<td>Occupancy reset</td>
				<td><ul>
					<li>Reset value</li>
				</ul></td>
				<td class="center">&ge; 1.4.0</td>
			</tr>
			<tr>
				<th>occ:set</th>
				<td>Event</td>
				<td>Occupancy set</td>
				<td><ul>
					<li>Set value</li>
				</ul></td>
				<td class="center">&ge; 1.4.0</td>
			</tr>
			<tr>
				<th>occ:offset</th>
				<td>Event</td>
				<td>Occupancy offset</td>
				<td><ul>
					<li>Offset value</li>
				</ul></td>
				<td class="center">&ge; 1.4.0</td>
			</tr>
<!-- reprog -->
			<tr>
				<th rowspan="2">Reprog</th>
				<th>reprog:ok</th>
				<td>Event</td>
				<td>Successful firmware update</td>
				<td><ul>
					<li>New firwmare version</li>
				</ul></td>
				<td class="center">&ge; 1.5.0</td>
			</tr>
			<tr>
				<th>reprog:err</th>
				<td>Event</td>
				<td>Firmware update failure</td>
				<td><ul>
					<li>New firwmare version</li>
				</ul></td>
				<td class="center">&ge; 1.5.0</td>
			</tr>
<!--io-->
			<tr>
				<th rowspan="2">IO</th>
				<th>io:ok</th>
				<td>Event</td>
				<td>I/O extension board detected</td>
				<td></td>
				<td class="center">&ge; 1.4.1</td>
			</tr>
			<tr>
				<th>io:err</th>
				<td>Event</td>
				<td>I/O extension board failure</td>
				<td></td>
				<td class="center">&ge; 1.4.1</td>
			</tr>
<!-- lora -->
			<tr>
				<th rowspan="5">Lora</th>
				<th>lora:ok</th>
				<td>Event</td>
				<td>Lora extension board detected</td>
				<td><ul>
					<li>Firmware version of the board</li>
				</ul></td>
				<td class="center">&ge; 1.4.1</td>
			</tr>
			<tr>
				<th>lora:err</th>
				<td>Event</td>
				<td>Lora extension board failure</td>
				<td></td>
				<td class="center">&ge; 1.4.1</td>
			</tr>
			<tr>
				<th>lora:join</th>
				<td>Event</td>
				<td>Lora network join ok</td>
				<td><ul>
					<li>Network ID</li>
				</ul></td>
				<td class="center">&ge; 1.4.1</td>
			</tr>
			<tr>
				<th>lora:lost</th>
				<td>Event</td>
				<td>Lora network lost</td>
				<td></td>
				<td class="center">&ge; 1.4.1</td>
			</tr>
			<tr>
				<th>lora:stat</th>
				<td>State</td>
				<td>Lora daily statistics</td>
				<td><ul>
					<li>Nb ok</li>
					<li>Nb failed</li>
					<li>Nb skip</li>
				</ul></td>
				<td class="center">&ge; 1.7.0</td>
			</tr>
		</tbody>
	</table>

	<h3 id="section_file_log_options">Options</h3>

	<h4>Log resolution</h4>

	<p>Log resolution is configured with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command. When log resolution is > 0, following events are periodically added to log.
	They could by used to monitor sensor health.
	By default log resolution is 6h (resolution = 720) :</p>
	<ul>
		<li><b>uptime</b> &rarr; Sensor uptime and version <b>(added in 1.5.0 version)</b></li>
		<li><b>temp</b> &rarr; Temperature</li>
		<li><b>sensor</b> &rarr; Image average and exposure</li>
		<li><b>sd:mem</b> &rarr; SDcard freespace</li>
	</ul>

	<h4>Force ISO date (version &lt; 1.6.1)</h4>

	<p>This option doesn't do anything.</p>

	<h4>Force ISO date (version &ge; 1.6.1)</h4>

	<p>If this option is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), ISO date format is used (YYYY-MM-DD instead of DD/MM/YYYY).</p>
	<p>Following is typical log data (the same as in previous section Data) with force ISO option enabled → date are ISO formatted :</p>

	<div class="msg_code">
...<br>
<b>2015-06-17</b>,06:00:00,sd:mem,CTX_122013,3780,3780<br>
<b>2015-06-17</b>,10:06:43,startup,122013,v1.0.X (~5307)<br>
<b>2015-06-17</b>,10:06:46,net:ok,192.168.0.100<br>
<b>2015-06-17</b>,10:06:47,sd:ok,CTX_122013,3780,3780<br>
<b>2015-06-17</b>,10:31:42,sntp:ok,internet,-1491<br>
<b>2015-06-17</b>,12:00:00,temp,36<br>
<b>2015-06-17</b>,12:00:00,sensor,98,132<br>
...
	</div>

	<h3 id="section_file_log_examples">Examples</h3>

	<p>Here are some log file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>Sensor log file<br>(default options)</th>
				<th>Sensor log file<br>(default option)</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><a href="data/log_20190117.txt" target="_blank">log_20190117.csv</a></td>
				<td><a href="data/log_20190203.csv" target="_blank">log_20190203.csv</a></td>
			</tr>
		</tbody>
	</table>

</div>

<div id="section_file_config" hidden>
<h2>Config file</h2>

<p>These files store settings of the sensor. Optionally, they can store also the state of the sensor.
Similar to the export files, config file can be used to import the configuration of a sensor.
They can be written once a day.
Config files are created only if extra time is set in <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> parameter :</p>
	<ul>
		<li><a href="#section_file_config_file">File and Filename</a></li>
		<li><a href="#section_file_config_data">Data</a></li>
		<li><a href="#section_file_config_options">Options</a></li>
		<li><a href="#section_file_config_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_config_file">File and Filename</h3>

	<p>It is a text file, <b>one file per day</b> is written.
	File’s new line type is “Line Feed” : <b>LF</b> (ie: one ASCII char: <b>0x0A</b> , escape sequence: <b>\n</b>)</p>

	<p>Filename : <b><span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>.txt</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<p>The file has only data and no header</p>

	<h3 id="section_file_config_data">Data</h3>

	<p>Each line associates :</p>
	<ul>
		<li>a configuration (or state) parameter</li>
		<li>one or several values</li>
	</ul>
	<p>Parameter and values are separated by an equal sign. Values are sperated by a comma.</p>

	<div class="msg_notice">
		<p>
			<b>Notice :</b>
			Parameters are described in <a href="#" onclick="show_tab('section_api');">Command list</a>.
		</p>
	</div>

	<p>Following is typical config data :</p>
	<div class="msg_code">
<a href="#section_api_serial" onclick="show_api('serial');">serial</a>=122013<br>
<a href="#section_api_led" onclick="show_api('led');">led</a>=0,150,255<br>
<a href="#section_api_network_config" onclick="show_api('network_config');">network_config</a>=192.168.0.141,255.255.255.0,192.168.0.1,0,0.0.0.0,0.0.0.0<br>
<a href="#section_api_sensor_config" onclick="show_api('sensor_config');">sensor_config</a>=2,1,1667<br>
<a href="#section_api_sensor_manu" onclick="show_api('sensor_manu');">sensor_manu</a>=255<br>
<a href="#section_api_sensor_auto" onclick="show_api('sensor_auto');">sensor_auto</a>=4,140,32,8<br>
<a href="#section_api_sensor_gamma" onclick="show_api('sensor_gamma');">sensor_gamma</a>=70,140,220<br>
...
	</div>

	<div class="msg_notice">
		<p>
			<b>Notice :</b>
			The config data stored in file could be retrieved using /CONFIG?<a href="#section_api_current" onclick="show_api('current');">current</a> command with <b>reader</b> level authentication.
		</p>
	</div>

	<h3 id="section_file_config_options">Options</h3>

	<h4>Extra write time</h4>

	<p>This parameter (presents in <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a>) sets the time (in minutes from midnight) when the file is written.
	By default the file is written at 12:00 (extra time = 720).</p>

	<p><b>If extra time is &lt; 0, the file is not generated.</b></p>

	<h4>Add state to config</h4>

	<p>Starting with version <b>1.4.1</b>, if this option is enabled (with <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> command), state parameters are added to configuration parameters in this file.</p>

	<div class="msg_notice">
		<p>
			<b>Notice :</b>
			The state data stored in file could be retrieved using /CONFIG?<a href="#section_api_state" onclick="show_api('state');">state</a> command with <b>reader</b> level authentication.
		</p>
	</div>

	<h3 id="section_file_config_examples">Examples</h3>

	<p>Here are some config file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>2D sensor config file<br>(default options)</th>
				<th>3D sensor config file<br>(default options)</th>
				<th>3D sensor config file<br>(with state option)</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td><a href="data/20190203.txt" target="_blank">20190203.txt</a></td>
				<td><a href="data/20190213.txt" target="_blank">20190213.txt</a></td>
				<td><a href="data/20190109.txt" target="_blank">20190109.txt</a></td>
			</tr>
		</tbody>
	</table>

</div>

<div id="section_file_image" hidden>
<h2>Image file</h2>

	<p>These files store image of the sensor. Image files can be written once a day.
	Image files are created only if extra time is set in <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> parameter :</p>

	<ul>
		<li><a href="#section_file_image_file">File and Filename</a></li>
		<li><a href="#section_file_image_data">Data</a></li>
		<li><a href="#section_file_image_options">Options</a></li>
		<li><a href="#section_file_image_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_image_file">File and Filename</h3>

	<p>It is a JPEG image file, one file per day is written.</p>

	<p>Filename : <b><span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>.jpg</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<h3 id="section_file_image_data">Data</h3>

	<p>It is a JPEG file with a full size image of the sensor (768x480 for 2D sensor, depends on version for 3D sensor usually 896x480) with low compression (quality 1)</p>

	<div class="msg_notice">
		<p>
			<b>Notice :</b>
			The image stored in file could be retrieved using /IMAGE?<a href="#section_api_sensor" onclick="show_api('sensor');">sensor</a>&amp;<a href="#section_api_jpeg" onclick="show_api('jpeg');">jpeg</a>=1 command
		</p>
	</div>

	<h3 id="section_file_image_options">Options</h3>

	<h4>Extra write time</h4>

	<p>This parameter (presents in <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a>) sets the time (in minutes from midnight) when the file is written.
	By default the file is written at 12:00 (extra time = 720).</p>

	<p><b>If extra time is &lt; 0, the file is not generated.</b></p>

	<h4>Privacy</h4>

	<p><b>Added in version 1.6.0</b>, the <a href="#section_api_privacy" onclick="show_api('privacy');">privacy</a> configuration can modify this image :</p>
	<ul>
		<li>0x10 &rarr; tiny image is forced, same as <a href="#section_api_tiny" onclick="show_api('tiny');">tiny</a> option</li>
		<li>0x20 &rarr; maximum compression is forced, same as <a href="#section_api_jpeg" onclick="show_api('jpeg');">jpeg</a>=3 option</li>
		<li>0x30 &rarr; both tiny image and maximum compression is forced</li>
		<li><b>0x40 &rarr; no image written to SD card</b></li>
	</ul>

	<h3 id="section_file_image_examples">Examples</h3>

	<p>Here are some image file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>2D sensor image<br>(default options)</th>
				<th>3D sensor image<br>(default options)</th>
				<th>3D sensor image<br>(with privacy tiny option)</th>
				<th>Example of sensor image<br>with configuration overlay (using <a href="#" onclick="show_file('section_file_config');">config</a> file)</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td class="center"><img class="small_image" src="data/20150219.jpg"><br><a href="data/20150219.jpg" target="_blank">20150219.jpg</a></td>
				<td class="center"><img class="small_image" src="data/20190208.jpg"><br><a href="data/20190208.jpg" target="_blank">20190208.jpg</a></td>
				<td class="center"><img class="small_image" src="data/20190102.jpg"><br><a href="data/20190102.jpg" target="_blank">20190102.jpg</a></td>
				<td class="center"><img class="small_image" src="data/image_config.jpg"><br><a href="data/image_config.jpg" target="_blank">image_config.jpg</a></td>
			</tr>
		</tbody>
	</table>
</div>

<div id="section_file_depth" hidden>
<h2>Depthmap file</h2>

<p>These files store depth map of the 3D sensor. These files can be written once a day.
	Depthmap files are created only if extra time is set in <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a> parameter :</p>

	<ul>
		<li><a href="#section_file_depth_file">File and Filename</a></li>
		<li><a href="#section_file_depth_data">Data</a></li>
		<li><a href="#section_file_depth_options">Options</a></li>
		<li><a href="#section_file_depth_examples">Examples</a></li>
	</ul>

	<h3 id="section_file_depth_file">File and Filename</h3>

	<p>It is a BMP (Bitmap) image file, one file per day is written.</p>

	<p>Filename : <b><span class="hint--top color_lemon" data-hint="Year">YYYY</span><span class="hint--top color_orange" data-hint="Month">MM</span><span class="hint--top color_light_blue" data-hint="Day">DD</span>.bmp</b></p>
	<ul>
		<li><span class="color_lemon">YYYY</span> = year (4 digits)</li>
		<li><span class="color_orange">MM</span> = month (2 digits)</li>
		<li><span class="color_light_blue">DD</span> = day (2 digits)</li>
	</ul>

	<h3 id="section_file_image_data">Data</h3>

	<p>It is a BMP file with the grayscale depth map image of the sensor (image size depends on version and configuration, usually 448x240).</p>
	<p>Depth is encoded according to a scale which can be found in <a href="#section_api_sensor_range" onclick="show_api('sensor_range');">sensor_range</a> state command.
	Scale convert the pixel value to distance in centimeters (185 pixel value and a scale of 2 &rarr; 370 cm).
	A value of 0 means no depth is defined.</p>

	<div class="msg_notice">
		<p>
			<b>Notice :</b>
			The image stored in file could be retrieved using /IMAGE?<a href="#section_api_stereo" onclick="show_api('stereo');">stereo</a>&amp;<a href="#section_api_bmp" onclick="show_api('bmp');">bmp</a> command
		</p>
	</div>

	<h3 id="section_file_depth_options">Options</h3>

	<h4>Extra write time</h4>

	<p>This parameter (presents in <a href="#section_api_sdcard_config" onclick="show_api('sdcard_config');">sdcard_config</a>) sets the time (in minutes from midnight) when the file is written.
	By default the file is written at 12:00 (extra time = 720).</p>

	<p><b>If extra time is &lt; 0, the file is not generated.</b></p>

	<h3 id="section_file_depth_examples">Examples</h3>

	<p>Here are some depth map file examples :</p>

	<table>
		<thead>
			<tr class="center">
				<th>3D sensor depth map</th>
				<th>3D sensor depth map</th>
				<th>Example of colorization</th>
			</tr>
		</thead>
		<tbody>
			<tr class="center">
				<td class="center"><img class="small_image" src="data/20190220_depth.bmp"><br><a href="data/20190220_depth.bmp" target="_blank">20190220_depth.bmp</a></td>
				<td class="center"><img class="small_image" src="data/20190206_depth.bmp"><br><a href="data/20190206_depth.bmp" target="_blank">20190206_depth.bmp</a></td>
				<td class="center"><img class="small_image" src="data/depth_color.png"><br><a href="data/depth_color.png" target="_blank">depth_color.png</a></td>
			</tr>
		</tbody>
	</table>
</div>
</div>
		<div id="section_dst" hidden><h2>Time and DST Rules</h2>

	<p>
		UTC (Universal Time Clock) is a world-wide reference time.
		DST (Daylight Saving Time) defines rules for summer time.
	</p>
	<p>&rarr; Using a time difference and a DST rules allow getting the right local time from the UTC.</p>

	<ul>
		<li><a href="#section_dst_note">Note about DST and Time Difference management</a></li>
		<li><a href="#section_dst_rules">DST and Time Difference rules</a></li>
	</ul>

<h2 id="section_dst_note">Note about DST and Time Difference management</h2>

	<p>The UTC is the GMT0 time, it doesn't have DST. Local time management in Comptipix involve a 1 parameter (<a href="#" onclick="show_api('rtc_dst_id');">rtc_dst_id</a>) that is a combination of 2 elements :</p>
	<ul>
		<li>a Time difference (TimeDiff) (the difference in time between locality and UTC)</li>
		<li>DST rules (the rules applied by government locality to define a summer time = add +1h to UTC TimeDiff). This can be NO DST.</li>
	</ul>
	<p>The <a href="#" onclick="show_api('rtc_dst_id');">rtc_dst_id</a> parameter set a combination of DST rules and a Time Difference together : this is absolutely necessary to have an SNTP date synchronisation and a summer time changing correctly, because SNTP is based on UTC.</p>

<h2 id="section_dst_rules">DST and Time Difference rules</h2>

	<p>Rules defined in current version of Comptipix</p>

<!--./date_dst_test --list_html_by_id-->

<table><thead><tr>
<th>dst_id</th> <th>Time Difference</th> <th>DST Rules</th> <th>Timezone name</th>
</tr></thead><tbody>
<tr> <th>0</th> <td>0</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+0 - Atlantic/Reykjavik Africa/Abidjan-Bamako</td> </tr>
<tr> <th>1</th> <td>0</td> <td style="background-color:#00a1ca; color:#000">N:European Union</td> <td>UTC+0 - Europe/Dublin-Lisbon-London</td> </tr>
<tr> <th>2</th> <td>60</td> <td style="background-color:#00a1ca; color:#000">N:European Union</td> <td>UTC+1 - Europe/Berlin-Brussels-Madrid-Paris-Rome</td> </tr>
<tr> <th>3</th> <td>180</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+3 - Europe/Istanbul</td> </tr>
<tr> <th>4</th> <td>60</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+1 - Africa/Algiers-Brazzaville-Kinshasa-Tunis</td> </tr>
<tr> <th>5</th> <td>0</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+0 - Africa/Casablanca</td> </tr>
<tr> <th>6</th> <td>120</td> <td style="background-color:#00a1ca; color:#000">N:European Union</td> <td>UTC+2 - Europe/Athens-Helsinki-Kiev-Riga-Bucharest-Beirut</td> </tr>
<tr> <th>7</th> <td>180</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+3 - Europe/Moscow-Samara-Volgograd</td> </tr>
<tr> <th>8</th> <td>240</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+4 - Asia/Dubai-Tbilisi-Yerevan Indian/Reunion</td> </tr>
<tr> <th>9</th> <td>240</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+4 - Asia/Baku</td> </tr>
<tr> <th>10</th> <td>300</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+5 - Asia/Yekaterinburg</td> </tr>
<tr> <th>11</th> <td>-60</td> <td style="background-color:#00a1ca; color:#000">N:European Union</td> <td>UTC-1 - Atlantic/Azores-Ittoqqortoormiit</td> </tr>
<tr> <th>12</th> <td>-60</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-1 - Atlantic/Cape_Verde</td> </tr>
<tr> <th>13</th> <td>-120</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-2 - Atlantic/South_Georgia-Sandwitch_Island</td> </tr>
<tr> <th>14</th> <td>-180</td> <td style="background-color:#00a1ca; color:#000">N:European Union</td> <td>UTC-3 - America/Godthab-Nuuk</td> </tr>
<tr> <th>15</th> <td>-180</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-3 - America/Buenos_Aires-Cayenne-Paramibo</td> </tr>
<tr> <th>16</th> <td>-240</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-4 - America/Guadeloupe-Guyana-La_Paz-Manaus</td> </tr>
<tr> <th>17</th> <td>-180</td> <td style="background-color:#015c07; color:#cfd207">S:Brazil</td> <td>UTC-3 - America/Sao_Paulo</td> </tr>
<tr> <th>18</th> <td>-180</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-3 - America/Montevideo</td> </tr>
<tr> <th>19</th> <td>-210</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-3:30 - America/St_Johns</td> </tr>
<tr> <th>20</th> <td>-240</td> <td style="background-color:#3b953c; color:#000">S:Paraguay</td> <td>UTC-4 - America/Asuncion</td> </tr>
<tr> <th>21</th> <td>-240</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-4 - America/Santiago</td> </tr>
<tr> <th>22</th> <td>-240</td> <td style="background-color:#00305a; color:#fff">N:Bahamas + Bermude</td> <td>UTC-4 - America/Thule Atlantic/Bermuda</td> </tr>
<tr> <th>23</th> <td>-240</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-4 - America/Glace_Bay-Halifax-Moncton-Goose_Bay</td> </tr>
<tr> <th>24</th> <td>-240</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-4 - America/Caracas</td> </tr>
<tr> <th>25</th> <td>-300</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-5 - America/Jamaica-Bogota-Lima-Panama</td> </tr>
<tr> <th>26</th> <td>-300</td> <td style="background-color:#00305a; color:#fff">N:Bahamas + Bermude</td> <td>UTC-5 - America/Nassau-Grand_Turk-Port_au_Prince</td> </tr>
<tr> <th>27</th> <td>-300</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-5 - America/Montreal-Miami-New_York-Toronton-Washington_DC</td> </tr>
<tr> <th>28</th> <td>-360</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-6 - America/Chicago-Rainy_River-Winnipeg-Ranking_Inlet</td> </tr>
<tr> <th>29</th> <td>-360</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-6 - America/Costa_Rica-Saskatoon-El_Salvador-Guatemala</td> </tr>
<tr> <th>30</th> <td>-360</td> <td style="background-color:#33005a; color:#fff">N:Mexico</td> <td>UTC-6 - America/Mexico_City-Merida-Monterrey-Bahia_Banderas</td> </tr>
<tr> <th>31</th> <td>-420</td> <td style="background-color:#33005a; color:#fff">N:Mexico</td> <td>UTC-7 - America/Chihuahua-Mazatlan-Ojinaga</td> </tr>
<tr> <th>32</th> <td>-420</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-7 - America/Cambridge_Bay-Denver-Edmonton-Yellowknife</td> </tr>
<tr> <th>33</th> <td>-420</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-7 - America/Dawson_Creek-Hermosillo-Phoenix</td> </tr>
<tr> <th>34</th> <td>-480</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-8 - America/Dawson-Los_Angeles-Vancouver-Whitehorse-Tijuana</td> </tr>
<tr> <th>35</th> <td>-480</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-8 - America/Santa_Isabel</td> </tr>
<tr> <th>36</th> <td>-540</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-9 - America/Anchorage-Juneau-Nome-Yakutat</td> </tr>
<tr> <th>37</th> <td>-570</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-9:30 - Pacific/Marquesas</td> </tr>
<tr> <th>38</th> <td>-600</td> <td style="background-color:#f2598b; color:#fff">N:USA + Canada</td> <td>UTC-10 - America/Adak</td> </tr>
<tr> <th>39</th> <td>-600</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-10 - Pacific/Honolulu-Rarotonga-Tahiti-Johnston</td> </tr>
<tr> <th>40</th> <td>-660</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-11 - Pacific/Midway-Niue-Pago_Pago</td> </tr>
<tr> <th>41</th> <td>120</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+2 - Africa/Windhoek</td> </tr>
<tr> <th>42</th> <td>120</td> <td style="background-color:#4c4c4c; color:#000">N:Syria</td> <td>UTC+2 - Asia/Damascus</td> </tr>
<tr> <th>43</th> <td>120</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+2 - Africa/Johannesburg-Cairo-Havare-Kigali-Bujumbura</td> </tr>
<tr> <th>44</th> <td>180</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+3 - Asia/Baghdad-Bahrain-Kuwait-Riyadh-Qatar</td> </tr>
<tr> <th>45</th> <td>270</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+4:30 - Asia/Kabul</td> </tr>
<tr> <th>46</th> <td>300</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+5 - Asia/Karachi-Oral-Ashgabat-Dushanbe Indian/Maldives</td> </tr>
<tr> <th>47</th> <td>330</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+5:30 - Asia/Colombo-Kolkata</td> </tr>
<tr> <th>48</th> <td>345</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+5:45 - Asia/Kathmandu</td> </tr>
<tr> <th>49</th> <td>360</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+6 - Asia/Almaty-Bishkek-Dhaka</td> </tr>
<tr> <th>50</th> <td>390</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+6:30 - Asia/Rangoon Indian/Cocos</td> </tr>
<tr> <th>51</th> <td>420</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+7 - Asia/Bangkok-Saigon-Jakarta-Ho_Chi_Minh-Phnom_Pench</td> </tr>
<tr> <th>52</th> <td>480</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+8 - Asia/Shanghai-Beijing-Hong_Kong-Singapore-Taipei</td> </tr>
<tr> <th>53</th> <td>525</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+8:45 - Australia/Eucla</td> </tr>
<tr> <th>54</th> <td>540</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+9 - Asia/Dili-Jayapura-Seoul-Tokyo-Pyongyang-Irkutsk</td> </tr>
<tr> <th>55</th> <td>570</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+9:30 - Australia/Darwin</td> </tr>
<tr> <th>56</th> <td>570</td> <td style="background-color:#f5fd06; color:#000">S:Australia</td> <td>UTC+9:30 - Australia/Adelaide-Broken_Hill</td> </tr>
<tr> <th>57</th> <td>600</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+10 - Australia/Brisbane-Lindeman Asia/Yakutsk-Vladivostok</td> </tr>
<tr> <th>58</th> <td>600</td> <td style="background-color:#f5fd06; color:#000">S:Australia</td> <td>UTC+10 - Australia/Currie-Melbourne-Hobart-Sydney</td> </tr>
<tr> <th>59</th> <td>660</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+11 - Pacific/Noumea</td> </tr>
<tr> <th>60</th> <td>660</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+11 - Pacific/Norfolk</td> </tr>
<tr> <th>61</th> <td>720</td> <td style="background-color:#f2c098; color:#000">S:Fiji</td> <td>UTC+12 - Pacific/Fiji-Suva</td> </tr>
<tr> <th>62</th> <td>720</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+12 - Asia/Anadyr-Kamchatka Pacific/Funafuti</td> </tr>
<tr> <th>63</th> <td>720</td> <td style="background-color:#ff7801; color:#fff">S:New Zealand</td> <td>UTC+12 - Pacific/Auckland</td> </tr>
<tr> <th>64</th> <td>765</td> <td style="background-color:#ff7801; color:#fff">S:New Zealand</td> <td>UTC+12:45 - Pacific/Chatham</td> </tr>
<tr> <th>65</th> <td>120</td> <td style="background-color:#2b2b2b; color:#fff">N:Palestinia</td> <td>UTC+2 - Asia/Gaza</td> </tr>
<tr> <th>66</th> <td>120</td> <td style="background-color:#9900ff; color:#fff">N:Jordania</td> <td>UTC+2 - Asia/Amman</td> </tr>
<tr> <th>67</th> <td>120</td> <td style="background-color:#8e48ff; color:#000">N:Israel</td> <td>UTC+2 - Asia/Jerusalem</td> </tr>
<tr> <th>68</th> <td>-300</td> <td style="background-color:#0a0a0a; color:#fff">N:Cuba</td> <td>UTC-5 - America/Havana</td> </tr>
<tr> <th>69</th> <td>780</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+13 - Pacific/Enderbury</td> </tr>
<tr> <th>70</th> <td>840</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+14 - Pacific/Kiritimati</td> </tr>
<tr> <th>71</th> <td>-480</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-8 - Pacific/Pitcairn</td> </tr>
<tr> <th>72</th> <td>-540</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-9 - Pacific/Gambier</td> </tr>
<tr> <th>73</th> <td>-210</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-3:30</td> </tr>
<tr> <th>74</th> <td>210</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+3:30</td> </tr>
<tr> <th>75</th> <td>525</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+8:45</td> </tr>
<tr> <th>76</th> <td>765</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+12:45</td> </tr>
<tr> <th>77</th> <td>720</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+12 - Pacific/Wake-Baker_Island-Howland_Island</td> </tr>
<tr> <th>78</th> <td>-240</td> <td style="background-color:#3b953c; color:#000">S:Paraguay, before 2013 !</td> <td>UTC-4 - OBSOLETE DST:since 2013 ! , America/Asuncion</td> </tr>
<tr> <th>79</th> <td>-180</td> <td style="background-color:#557355; color:#000">S:Chili, before 2014 !</td> <td>UTC-3 - OBSOLETE DST:since 2014 ! , America/Santiago</td> </tr>
<tr> <th>80</th> <td>120</td> <td style="background-color:#8e48ff; color:#000">N:Israel, before 2013 !</td> <td>UTC+2 - OBSOLETE DST:since 2013 ! , Asia/Jerusalem</td> </tr>
<tr> <th>81</th> <td>-300</td> <td style="background-color:#0a0a0a; color:#fff">N:Cuba, before 2013 !</td> <td>UTC-5 - OBSOLETE DST:since 2013 ! , America/Havana</td> </tr>
<tr> <th>82</th> <td>120</td> <td style="background-color:#fff; color:#000"></td> <td>UTC+2 - Africa/Tripoli</td> </tr>
<tr> <th>83</th> <td>210</td> <td style="background-color:#9886be; color:#000">N:Iran</td> <td>UTC+3:30 - Asia/Tehran</td> </tr>
<tr> <th>84</th> <td>-300</td> <td style="background-color:#fff; color:#000"></td> <td>UTC-5 - America/Cancun-Coral_Harbour Pacific/Easter</td> </tr>
<tr> <th>85</th> <td>780</td> <td style="background-color:#ff7801; color:#fff">S:New Zealand</td> <td>UTC+13 - Pacific/Apia-Samoa</td> </tr>
<tr> <th>86</th> <td>-180</td> <td style="background-color:#686868; color:#fff">N:Nuuk</td> <td>UTC-3 - America/Godthab Greenland/Nuuk</td> </tr>
</tbody></table>
</div>
	</div>
</body>
</html>
